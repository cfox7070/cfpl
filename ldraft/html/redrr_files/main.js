/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";const e="140",t=0,_=1,r=2,a=1,n=2,i=3,s=0,o=1,c=2,l=0,p=1,u=2,f=3,h=4,d=5,m=100,y=101,g=102,v=103,$=104,x=200,b=201,I=202,L=203,S=204,M=205,w=206,O=207,C=208,T=209,A=210,R=0,D=1,E=2,B=3,V=4,q=5,H=6,P=7,j=0,F=1,z=2,k=0,G=1,N=2,W=3,U=4,Z=5,X=301,J=302,Y=303,Q=304,K=306,ee=1e3,te=1001,_e=1002,re=1003,ae=1004,ne=1005,ie=1006,se=1007,oe=1008,ce=1009,le=1010,pe=1011,ue=1012,fe=1013,he=1014,de=1015,me=1016,ye=1017,ge=1018,ve=1020,$e=1021,xe=1022,be=1023,Ie=1024,Le=1025,Se=1026,Me=1027,we=1028,Oe=1029,Ce=1030,Te=1031,Ae=1033,Re=33776,De=33777,Ee=33778,Be=33779,Ve=35840,qe=35841,He=35842,Pe=35843,je=36196,Fe=37492,ze=37496,ke=37808,Ge=37809,Ne=37810,We=37811,Ue=37812,Ze=37813,Xe=37814,Je=37815,Ye=37816,Qe=37817,Ke=37818,et=37819,tt=37820,_t=37821,rt=36492,at=2300,nt=2301,it=2302,st=2400,ot=2401,ct=2402,lt=3e3,pt=3001,ut=3201,ft=0,ht=1,dt="srgb",mt="srgb-linear",yt=7680,gt=35044,vt=35048,$t="300 es",xt=1035;class bt{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const _=this._listeners;void 0===_[e]&&(_[e]=[]),-1===_[e].indexOf(t)&&_[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const _=this._listeners;return void 0!==_[e]&&-1!==_[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const _=this._listeners[e];if(void 0!==_){const e=_.indexOf(t);-1!==e&&_.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const _=t.slice(0);for(let t=0,r=_.length;t<r;t++)_[t].call(this,e);e.target=null}}}const It=[];for(let e=0;e<256;e++)It[e]=(e<16?"0":"")+e.toString(16);const Lt=Math.PI/180,St=180/Math.PI;function Mt(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,_=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(It[255&e]+It[e>>8&255]+It[e>>16&255]+It[e>>24&255]+"-"+It[255&t]+It[t>>8&255]+"-"+It[t>>16&15|64]+It[t>>24&255]+"-"+It[63&_|128]+It[_>>8&255]+"-"+It[_>>16&255]+It[_>>24&255]+It[255&r]+It[r>>8&255]+It[r>>16&255]+It[r>>24&255]).toLowerCase()}function wt(e,t,_){return Math.max(t,Math.min(_,e))}function Ot(e,t,_){return(1-_)*e+_*t}function Ct(e){return 0==(e&e-1)&&0!==e}function Tt(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}class At{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,_=this.y,r=e.elements;return this.x=r[0]*t+r[3]*_+r[6],this.y=r[1]*t+r[4]*_+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(t,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,_=this.y-e.y;return t*t+_*_}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,_){return this.x=e.x+(t.x-e.x)*_,this.y=e.y+(t.y-e.y)*_,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,_){return void 0!==_&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const _=Math.cos(t),r=Math.sin(t),a=this.x-e.x,n=this.y-e.y;return this.x=a*_-n*r+e.x,this.y=a*r+n*_+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}At.prototype.isVector2=!0;class Rt{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,_,r,a,n,i,s,o){const c=this.elements;return c[0]=e,c[1]=r,c[2]=i,c[3]=t,c[4]=a,c[5]=s,c[6]=_,c[7]=n,c[8]=o,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,_=e.elements;return t[0]=_[0],t[1]=_[1],t[2]=_[2],t[3]=_[3],t[4]=_[4],t[5]=_[5],t[6]=_[6],t[7]=_[7],t[8]=_[8],this}extractBasis(e,t,_){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),_.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const _=e.elements,r=t.elements,a=this.elements,n=_[0],i=_[3],s=_[6],o=_[1],c=_[4],l=_[7],p=_[2],u=_[5],f=_[8],h=r[0],d=r[3],m=r[6],y=r[1],g=r[4],v=r[7],$=r[2],x=r[5],b=r[8];return a[0]=n*h+i*y+s*$,a[3]=n*d+i*g+s*x,a[6]=n*m+i*v+s*b,a[1]=o*h+c*y+l*$,a[4]=o*d+c*g+l*x,a[7]=o*m+c*v+l*b,a[2]=p*h+u*y+f*$,a[5]=p*d+u*g+f*x,a[8]=p*m+u*v+f*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],_=e[1],r=e[2],a=e[3],n=e[4],i=e[5],s=e[6],o=e[7],c=e[8];return t*n*c-t*i*o-_*a*c+_*i*s+r*a*o-r*n*s}invert(){const e=this.elements,t=e[0],_=e[1],r=e[2],a=e[3],n=e[4],i=e[5],s=e[6],o=e[7],c=e[8],l=c*n-i*o,p=i*s-c*a,u=o*a-n*s,f=t*l+_*p+r*u;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const h=1/f;return e[0]=l*h,e[1]=(r*o-c*_)*h,e[2]=(i*_-r*n)*h,e[3]=p*h,e[4]=(c*t-r*s)*h,e[5]=(r*a-i*t)*h,e[6]=u*h,e[7]=(_*s-o*t)*h,e[8]=(n*t-_*a)*h,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,_,r,a,n,i){const s=Math.cos(a),o=Math.sin(a);return this.set(_*s,_*o,-_*(s*n+o*i)+n+e,-r*o,r*s,-r*(-o*n+s*i)+i+t,0,0,1),this}scale(e,t){const _=this.elements;return _[0]*=e,_[3]*=e,_[6]*=e,_[1]*=t,_[4]*=t,_[7]*=t,this}rotate(e){const t=Math.cos(e),_=Math.sin(e),r=this.elements,a=r[0],n=r[3],i=r[6],s=r[1],o=r[4],c=r[7];return r[0]=t*a+_*s,r[3]=t*n+_*o,r[6]=t*i+_*c,r[1]=-_*a+t*s,r[4]=-_*n+t*o,r[7]=-_*i+t*c,this}translate(e,t){const _=this.elements;return _[0]+=e*_[2],_[3]+=e*_[5],_[6]+=e*_[8],_[1]+=t*_[2],_[4]+=t*_[5],_[7]+=t*_[8],this}equals(e){const t=this.elements,_=e.elements;for(let e=0;e<9;e++)if(t[e]!==_[e])return!1;return!0}fromArray(e,t=0){for(let _=0;_<9;_++)this.elements[_]=e[_+t];return this}toArray(e=[],t=0){const _=this.elements;return e[t]=_[0],e[t+1]=_[1],e[t+2]=_[2],e[t+3]=_[3],e[t+4]=_[4],e[t+5]=_[5],e[t+6]=_[6],e[t+7]=_[7],e[t+8]=_[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function Dt(e){for(let t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}function Et(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Bt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Vt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}Rt.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const qt={[dt]:{[mt]:Bt},[mt]:{[dt]:Vt}},Ht={legacyMode:!0,get workingColorSpace(){return mt},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,_){if(this.legacyMode||t===_||!t||!_)return e;if(qt[t]&&void 0!==qt[t][_]){const r=qt[t][_];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jt={r:0,g:0,b:0},Ft={h:0,s:0,l:0},zt={h:0,s:0,l:0};function kt(e,t,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?e+6*(t-e)*_:_<.5?t:_<2/3?e+6*(t-e)*(2/3-_):e}function Gt(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class Nt{constructor(e,t,_){return void 0===t&&void 0===_?this.set(e):this.setRGB(e,t,_)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=dt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Ht.toWorkingColorSpace(this,t),this}setRGB(e,t,_,r=mt){return this.r=e,this.g=t,this.b=_,Ht.toWorkingColorSpace(this,r),this}setHSL(e,t,_,r=mt){if(e=(e%(a=1)+a)%a,t=wt(t,0,1),_=wt(_,0,1),0===t)this.r=this.g=this.b=_;else{const r=_<=.5?_*(1+t):_+t-_*t,a=2*_-r;this.r=kt(a,r,e+1/3),this.g=kt(a,r,e),this.b=kt(a,r,e-1/3)}var a;return Ht.toWorkingColorSpace(this,r),this}setStyle(e,t=dt){function _(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const a=r[1],n=r[2];switch(a){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,Ht.toWorkingColorSpace(this,t),_(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,Ht.toWorkingColorSpace(this,t),_(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n)){const r=parseFloat(e[1])/360,a=parseInt(e[2],10)/100,n=parseInt(e[3],10)/100;return _(e[4]),this.setHSL(r,a,n,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],_=e.length;if(3===_)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,Ht.toWorkingColorSpace(this,t),this;if(6===_)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,Ht.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=dt){const _=Pt[e.toLowerCase()];return void 0!==_?this.setHex(_,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bt(e.r),this.g=Bt(e.g),this.b=Bt(e.b),this}copyLinearToSRGB(e){return this.r=Vt(e.r),this.g=Vt(e.g),this.b=Vt(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=dt){return Ht.fromWorkingColorSpace(Gt(this,jt),e),wt(255*jt.r,0,255)<<16^wt(255*jt.g,0,255)<<8^wt(255*jt.b,0,255)<<0}getHexString(e=dt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=mt){Ht.fromWorkingColorSpace(Gt(this,jt),t);const _=jt.r,r=jt.g,a=jt.b,n=Math.max(_,r,a),i=Math.min(_,r,a);let s,o;const c=(i+n)/2;if(i===n)s=0,o=0;else{const e=n-i;switch(o=c<=.5?e/(n+i):e/(2-n-i),n){case _:s=(r-a)/e+(r<a?6:0);break;case r:s=(a-_)/e+2;break;case a:s=(_-r)/e+4}s/=6}return e.h=s,e.s=o,e.l=c,e}getRGB(e,t=mt){return Ht.fromWorkingColorSpace(Gt(this,jt),t),e.r=jt.r,e.g=jt.g,e.b=jt.b,e}getStyle(e=dt){return Ht.fromWorkingColorSpace(Gt(this,jt),e),e!==dt?`color(${e} ${jt.r} ${jt.g} ${jt.b})`:`rgb(${255*jt.r|0},${255*jt.g|0},${255*jt.b|0})`}offsetHSL(e,t,_){return this.getHSL(Ft),Ft.h+=e,Ft.s+=t,Ft.l+=_,this.setHSL(Ft.h,Ft.s,Ft.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,_){return this.r=e.r+(t.r-e.r)*_,this.g=e.g+(t.g-e.g)*_,this.b=e.b+(t.b-e.b)*_,this}lerpHSL(e,t){this.getHSL(Ft),e.getHSL(zt);const _=Ot(Ft.h,zt.h,t),r=Ot(Ft.s,zt.s,t),a=Ot(Ft.l,zt.l,t);return this.setHSL(_,r,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let Wt;Nt.NAMES=Pt,Nt.prototype.isColor=!0,Nt.prototype.r=1,Nt.prototype.g=1,Nt.prototype.b=1;class Ut{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Wt&&(Wt=Et("canvas")),Wt.width=e.width,Wt.height=e.height;const _=Wt.getContext("2d");e instanceof ImageData?_.putImageData(e,0,0):_.drawImage(e,0,0,e.width,e.height),t=Wt}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Et("canvas");t.width=e.width,t.height=e.height;const _=t.getContext("2d");_.drawImage(e,0,0,e.width,e.height);const r=_.getImageData(0,0,e.width,e.height),a=r.data;for(let e=0;e<a.length;e++)a[e]=255*Bt(a[e]/255);return _.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Bt(t[e]/255)):t[e]=Bt(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Zt{constructor(e=null){this.uuid=Mt(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const _={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,_=r.length;t<_;t++)r[t].isDataTexture?e.push(Xt(r[t].image)):e.push(Xt(r[t]))}else e=Xt(r);_.url=e}return t||(e.images[this.uuid]=_),_}}function Xt(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Ut.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Zt.prototype.isSource=!0;let Jt=0;class Yt extends bt{constructor(e=Yt.DEFAULT_IMAGE,t=Yt.DEFAULT_MAPPING,_=te,r=te,a=ie,n=oe,i=be,s=ce,o=1,c=lt){super(),Object.defineProperty(this,"id",{value:Jt++}),this.uuid=Mt(),this.name="",this.source=new Zt(e),this.mipmaps=[],this.mapping=t,this.wrapS=_,this.wrapT=r,this.magFilter=a,this.minFilter=n,this.anisotropy=o,this.format=i,this.internalFormat=null,this.type=s,this.offset=new At(0,0),this.repeat=new At(1,1),this.center=new At(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const _={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(_.userData=this.userData),t||(e.textures[this.uuid]=_),_}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ee:e.x=e.x-Math.floor(e.x);break;case te:e.x=e.x<0?0:1;break;case _e:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ee:e.y=e.y-Math.floor(e.y);break;case te:e.y=e.y<0?0:1;break;case _e:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}Yt.DEFAULT_IMAGE=null,Yt.DEFAULT_MAPPING=300,Yt.prototype.isTexture=!0;class Qt{constructor(e=0,t=0,_=0,r=1){this.x=e,this.y=t,this.z=_,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,_,r){return this.x=e,this.y=t,this.z=_,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,_=this.y,r=this.z,a=this.w,n=e.elements;return this.x=n[0]*t+n[4]*_+n[8]*r+n[12]*a,this.y=n[1]*t+n[5]*_+n[9]*r+n[13]*a,this.z=n[2]*t+n[6]*_+n[10]*r+n[14]*a,this.w=n[3]*t+n[7]*_+n[11]*r+n[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,_,r,a;const n=.01,i=.1,s=e.elements,o=s[0],c=s[4],l=s[8],p=s[1],u=s[5],f=s[9],h=s[2],d=s[6],m=s[10];if(Math.abs(c-p)<n&&Math.abs(l-h)<n&&Math.abs(f-d)<n){if(Math.abs(c+p)<i&&Math.abs(l+h)<i&&Math.abs(f+d)<i&&Math.abs(o+u+m-3)<i)return this.set(1,0,0,0),this;t=Math.PI;const e=(o+1)/2,s=(u+1)/2,y=(m+1)/2,g=(c+p)/4,v=(l+h)/4,$=(f+d)/4;return e>s&&e>y?e<n?(_=0,r=.707106781,a=.707106781):(_=Math.sqrt(e),r=g/_,a=v/_):s>y?s<n?(_=.707106781,r=0,a=.707106781):(r=Math.sqrt(s),_=g/r,a=$/r):y<n?(_=.707106781,r=.707106781,a=0):(a=Math.sqrt(y),_=v/a,r=$/a),this.set(_,r,a,t),this}let y=Math.sqrt((d-f)*(d-f)+(l-h)*(l-h)+(p-c)*(p-c));return Math.abs(y)<.001&&(y=1),this.x=(d-f)/y,this.y=(l-h)/y,this.z=(p-c)/y,this.w=Math.acos((o+u+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(t,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,_){return this.x=e.x+(t.x-e.x)*_,this.y=e.y+(t.y-e.y)*_,this.z=e.z+(t.z-e.z)*_,this.w=e.w+(t.w-e.w)*_,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,_){return void 0!==_&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Qt.prototype.isVector4=!0;class Kt extends bt{constructor(e,t,_={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Qt(0,0,e,t),this.scissorTest=!1,this.viewport=new Qt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Yt(r,_.mapping,_.wrapS,_.wrapT,_.magFilter,_.minFilter,_.format,_.type,_.anisotropy,_.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==_.generateMipmaps&&_.generateMipmaps,this.texture.internalFormat=void 0!==_.internalFormat?_.internalFormat:null,this.texture.minFilter=void 0!==_.minFilter?_.minFilter:ie,this.depthBuffer=void 0===_.depthBuffer||_.depthBuffer,this.stencilBuffer=void 0!==_.stencilBuffer&&_.stencilBuffer,this.depthTexture=void 0!==_.depthTexture?_.depthTexture:null,this.samples=void 0!==_.samples?_.samples:0}setSize(e,t,_=1){this.width===e&&this.height===t&&this.depth===_||(this.width=e,this.height=t,this.depth=_,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=_,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Kt.prototype.isWebGLRenderTarget=!0;class e_ extends Yt{constructor(e=null,t=1,_=1,r=1){super(null),this.image={data:e,width:t,height:_,depth:r},this.magFilter=re,this.minFilter=re,this.wrapR=te,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}e_.prototype.isDataArrayTexture=!0,class extends Kt{constructor(e,t,_){super(e,t),this.depth=_,this.texture=new e_(null,e,t,_),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGLArrayRenderTarget=!0;class t_ extends Yt{constructor(e=null,t=1,_=1,r=1){super(null),this.image={data:e,width:t,height:_,depth:r},this.magFilter=re,this.minFilter=re,this.wrapR=te,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}t_.prototype.isData3DTexture=!0,class extends Kt{constructor(e,t,_){super(e,t),this.depth=_,this.texture=new t_(null,e,t,_),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGL3DRenderTarget=!0,class extends Kt{constructor(e,t,_,r={}){super(e,t,r);const a=this.texture;this.texture=[];for(let e=0;e<_;e++)this.texture[e]=a.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(e,t,_=1){if(this.width!==e||this.height!==t||this.depth!==_){this.width=e,this.height=t,this.depth=_;for(let r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=_;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,_=e.texture.length;t<_;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}.prototype.isWebGLMultipleRenderTargets=!0;class __{constructor(e=0,t=0,_=0,r=1){this._x=e,this._y=t,this._z=_,this._w=r}static slerp(e,t,_,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),_.slerpQuaternions(e,t,r)}static slerpFlat(e,t,_,r,a,n,i){let s=_[r+0],o=_[r+1],c=_[r+2],l=_[r+3];const p=a[n+0],u=a[n+1],f=a[n+2],h=a[n+3];if(0===i)return e[t+0]=s,e[t+1]=o,e[t+2]=c,void(e[t+3]=l);if(1===i)return e[t+0]=p,e[t+1]=u,e[t+2]=f,void(e[t+3]=h);if(l!==h||s!==p||o!==u||c!==f){let e=1-i;const t=s*p+o*u+c*f+l*h,_=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const a=Math.sqrt(r),n=Math.atan2(a,t*_);e=Math.sin(e*n)/a,i=Math.sin(i*n)/a}const a=i*_;if(s=s*e+p*a,o=o*e+u*a,c=c*e+f*a,l=l*e+h*a,e===1-i){const e=1/Math.sqrt(s*s+o*o+c*c+l*l);s*=e,o*=e,c*=e,l*=e}}e[t]=s,e[t+1]=o,e[t+2]=c,e[t+3]=l}static multiplyQuaternionsFlat(e,t,_,r,a,n){const i=_[r],s=_[r+1],o=_[r+2],c=_[r+3],l=a[n],p=a[n+1],u=a[n+2],f=a[n+3];return e[t]=i*f+c*l+s*u-o*p,e[t+1]=s*f+c*p+o*l-i*u,e[t+2]=o*f+c*u+i*p-s*l,e[t+3]=c*f-i*l-s*p-o*u,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,_,r){return this._x=e,this._y=t,this._z=_,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const _=e._x,r=e._y,a=e._z,n=e._order,i=Math.cos,s=Math.sin,o=i(_/2),c=i(r/2),l=i(a/2),p=s(_/2),u=s(r/2),f=s(a/2);switch(n){case"XYZ":this._x=p*c*l+o*u*f,this._y=o*u*l-p*c*f,this._z=o*c*f+p*u*l,this._w=o*c*l-p*u*f;break;case"YXZ":this._x=p*c*l+o*u*f,this._y=o*u*l-p*c*f,this._z=o*c*f-p*u*l,this._w=o*c*l+p*u*f;break;case"ZXY":this._x=p*c*l-o*u*f,this._y=o*u*l+p*c*f,this._z=o*c*f+p*u*l,this._w=o*c*l-p*u*f;break;case"ZYX":this._x=p*c*l-o*u*f,this._y=o*u*l+p*c*f,this._z=o*c*f-p*u*l,this._w=o*c*l+p*u*f;break;case"YZX":this._x=p*c*l+o*u*f,this._y=o*u*l+p*c*f,this._z=o*c*f-p*u*l,this._w=o*c*l-p*u*f;break;case"XZY":this._x=p*c*l-o*u*f,this._y=o*u*l-p*c*f,this._z=o*c*f+p*u*l,this._w=o*c*l+p*u*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+n)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const _=t/2,r=Math.sin(_);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(_),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,_=t[0],r=t[4],a=t[8],n=t[1],i=t[5],s=t[9],o=t[2],c=t[6],l=t[10],p=_+i+l;if(p>0){const e=.5/Math.sqrt(p+1);this._w=.25/e,this._x=(c-s)*e,this._y=(a-o)*e,this._z=(n-r)*e}else if(_>i&&_>l){const e=2*Math.sqrt(1+_-i-l);this._w=(c-s)/e,this._x=.25*e,this._y=(r+n)/e,this._z=(a+o)/e}else if(i>l){const e=2*Math.sqrt(1+i-_-l);this._w=(a-o)/e,this._x=(r+n)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+l-_-i);this._w=(n-r)/e,this._x=(a+o)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let _=e.dot(t)+1;return _<Number.EPSILON?(_=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=_):(this._x=0,this._y=-e.z,this._z=e.y,this._w=_)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=_),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wt(this.dot(e),-1,1)))}rotateTowards(e,t){const _=this.angleTo(e);if(0===_)return this;const r=Math.min(1,t/_);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const _=e._x,r=e._y,a=e._z,n=e._w,i=t._x,s=t._y,o=t._z,c=t._w;return this._x=_*c+n*i+r*o-a*s,this._y=r*c+n*s+a*i-_*o,this._z=a*c+n*o+_*s-r*i,this._w=n*c-_*i-r*s-a*o,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const _=this._x,r=this._y,a=this._z,n=this._w;let i=n*e._w+_*e._x+r*e._y+a*e._z;if(i<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,i=-i):this.copy(e),i>=1)return this._w=n,this._x=_,this._y=r,this._z=a,this;const s=1-i*i;if(s<=Number.EPSILON){const e=1-t;return this._w=e*n+t*this._w,this._x=e*_+t*this._x,this._y=e*r+t*this._y,this._z=e*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const o=Math.sqrt(s),c=Math.atan2(o,i),l=Math.sin((1-t)*c)/o,p=Math.sin(t*c)/o;return this._w=n*l+this._w*p,this._x=_*l+this._x*p,this._y=r*l+this._y*p,this._z=a*l+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,_){return this.copy(e).slerp(t,_)}random(){const e=Math.random(),t=Math.sqrt(1-e),_=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),_*Math.sin(a),_*Math.cos(a),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}__.prototype.isQuaternion=!0;class r_{constructor(e=0,t=0,_=0){this.x=e,this.y=t,this.z=_}set(e,t,_){return void 0===_&&(_=this.z),this.x=e,this.y=t,this.z=_,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(n_.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(n_.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,_=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*_+a[6]*r,this.y=a[1]*t+a[4]*_+a[7]*r,this.z=a[2]*t+a[5]*_+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,_=this.y,r=this.z,a=e.elements,n=1/(a[3]*t+a[7]*_+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*_+a[8]*r+a[12])*n,this.y=(a[1]*t+a[5]*_+a[9]*r+a[13])*n,this.z=(a[2]*t+a[6]*_+a[10]*r+a[14])*n,this}applyQuaternion(e){const t=this.x,_=this.y,r=this.z,a=e.x,n=e.y,i=e.z,s=e.w,o=s*t+n*r-i*_,c=s*_+i*t-a*r,l=s*r+a*_-n*t,p=-a*t-n*_-i*r;return this.x=o*s+p*-a+c*-i-l*-n,this.y=c*s+p*-n+l*-a-o*-i,this.z=l*s+p*-i+o*-n-c*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,_=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*_+a[8]*r,this.y=a[1]*t+a[5]*_+a[9]*r,this.z=a[2]*t+a[6]*_+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(e,Math.min(t,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,_){return this.x=e.x+(t.x-e.x)*_,this.y=e.y+(t.y-e.y)*_,this.z=e.z+(t.z-e.z)*_,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const _=e.x,r=e.y,a=e.z,n=t.x,i=t.y,s=t.z;return this.x=r*s-a*i,this.y=a*n-_*s,this.z=_*i-r*n,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const _=e.dot(this)/t;return this.copy(e).multiplyScalar(_)}projectOnPlane(e){return a_.copy(this).projectOnVector(e),this.sub(a_)}reflect(e){return this.sub(a_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const _=this.dot(e)/t;return Math.acos(wt(_,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,_=this.y-e.y,r=this.z-e.z;return t*t+_*_+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,_){const r=Math.sin(t)*e;return this.x=r*Math.sin(_),this.y=Math.cos(t)*e,this.z=r*Math.cos(_),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,_){return this.x=e*Math.sin(t),this.y=_,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),_=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=_,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,_){return void 0!==_&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,_=Math.sqrt(1-e**2);return this.x=_*Math.cos(t),this.y=_*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}r_.prototype.isVector3=!0;const a_=new r_,n_=new __;class i_{constructor(e=new r_(1/0,1/0,1/0),t=new r_(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,_=1/0,r=1/0,a=-1/0,n=-1/0,i=-1/0;for(let s=0,o=e.length;s<o;s+=3){const o=e[s],c=e[s+1],l=e[s+2];o<t&&(t=o),c<_&&(_=c),l<r&&(r=l),o>a&&(a=o),c>n&&(n=c),l>i&&(i=l)}return this.min.set(t,_,r),this.max.set(a,n,i),this}setFromBufferAttribute(e){let t=1/0,_=1/0,r=1/0,a=-1/0,n=-1/0,i=-1/0;for(let s=0,o=e.count;s<o;s++){const o=e.getX(s),c=e.getY(s),l=e.getZ(s);o<t&&(t=o),c<_&&(_=c),l<r&&(r=l),o>a&&(a=o),c>n&&(n=c),l>i&&(i=l)}return this.min.set(t,_,r),this.max.set(a,n,i),this}setFromPoints(e){this.makeEmpty();for(let t=0,_=e.length;t<_;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const _=o_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(_),this.max.copy(e).add(_),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const _=e.geometry;if(void 0!==_)if(t&&null!=_.attributes&&void 0!==_.attributes.position){const t=_.attributes.position;for(let _=0,r=t.count;_<r;_++)o_.fromBufferAttribute(t,_).applyMatrix4(e.matrixWorld),this.expandByPoint(o_)}else null===_.boundingBox&&_.computeBoundingBox(),c_.copy(_.boundingBox),c_.applyMatrix4(e.matrixWorld),this.union(c_);const r=e.children;for(let e=0,_=r.length;e<_;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,o_),o_.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,_;return e.normal.x>0?(t=e.normal.x*this.min.x,_=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,_=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,_+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,_+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,_+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,_+=e.normal.z*this.min.z),t<=-e.constant&&_>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(m_),y_.subVectors(this.max,m_),l_.subVectors(e.a,m_),p_.subVectors(e.b,m_),u_.subVectors(e.c,m_),f_.subVectors(p_,l_),h_.subVectors(u_,p_),d_.subVectors(l_,u_);let t=[0,-f_.z,f_.y,0,-h_.z,h_.y,0,-d_.z,d_.y,f_.z,0,-f_.x,h_.z,0,-h_.x,d_.z,0,-d_.x,-f_.y,f_.x,0,-h_.y,h_.x,0,-d_.y,d_.x,0];return!!$_(t,l_,p_,u_,y_)&&(t=[1,0,0,0,1,0,0,0,1],!!$_(t,l_,p_,u_,y_)&&(g_.crossVectors(f_,h_),t=[g_.x,g_.y,g_.z],$_(t,l_,p_,u_,y_)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return o_.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(o_).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(s_[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),s_[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),s_[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),s_[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),s_[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),s_[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),s_[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),s_[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(s_)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}i_.prototype.isBox3=!0;const s_=[new r_,new r_,new r_,new r_,new r_,new r_,new r_,new r_],o_=new r_,c_=new i_,l_=new r_,p_=new r_,u_=new r_,f_=new r_,h_=new r_,d_=new r_,m_=new r_,y_=new r_,g_=new r_,v_=new r_;function $_(e,t,_,r,a){for(let n=0,i=e.length-3;n<=i;n+=3){v_.fromArray(e,n);const i=a.x*Math.abs(v_.x)+a.y*Math.abs(v_.y)+a.z*Math.abs(v_.z),s=t.dot(v_),o=_.dot(v_),c=r.dot(v_);if(Math.max(-Math.max(s,o,c),Math.min(s,o,c))>i)return!1}return!0}const x_=new i_,b_=new r_,I_=new r_,L_=new r_;class S_{constructor(e=new r_,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const _=this.center;void 0!==t?_.copy(t):x_.setFromPoints(e).getCenter(_);let r=0;for(let t=0,a=e.length;t<a;t++)r=Math.max(r,_.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const _=this.center.distanceToSquared(e);return t.copy(e),_>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){L_.subVectors(e,this.center);const t=L_.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),_=.5*(e-this.radius);this.center.add(L_.multiplyScalar(_/e)),this.radius+=_}return this}union(e){return!0===this.center.equals(e.center)?I_.set(0,0,1).multiplyScalar(e.radius):I_.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(b_.copy(e.center).add(I_)),this.expandByPoint(b_.copy(e.center).sub(I_)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const M_=new r_,w_=new r_,O_=new r_,C_=new r_,T_=new r_,A_=new r_,R_=new r_;class D_{constructor(e=new r_,t=new r_(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,M_)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const _=t.dot(this.direction);return _<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(_).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=M_.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(M_.copy(this.direction).multiplyScalar(t).add(this.origin),M_.distanceToSquared(e))}distanceSqToSegment(e,t,_,r){w_.copy(e).add(t).multiplyScalar(.5),O_.copy(t).sub(e).normalize(),C_.copy(this.origin).sub(w_);const a=.5*e.distanceTo(t),n=-this.direction.dot(O_),i=C_.dot(this.direction),s=-C_.dot(O_),o=C_.lengthSq(),c=Math.abs(1-n*n);let l,p,u,f;if(c>0)if(l=n*s-i,p=n*i-s,f=a*c,l>=0)if(p>=-f)if(p<=f){const e=1/c;l*=e,p*=e,u=l*(l+n*p+2*i)+p*(n*l+p+2*s)+o}else p=a,l=Math.max(0,-(n*p+i)),u=-l*l+p*(p+2*s)+o;else p=-a,l=Math.max(0,-(n*p+i)),u=-l*l+p*(p+2*s)+o;else p<=-f?(l=Math.max(0,-(-n*a+i)),p=l>0?-a:Math.min(Math.max(-a,-s),a),u=-l*l+p*(p+2*s)+o):p<=f?(l=0,p=Math.min(Math.max(-a,-s),a),u=p*(p+2*s)+o):(l=Math.max(0,-(n*a+i)),p=l>0?a:Math.min(Math.max(-a,-s),a),u=-l*l+p*(p+2*s)+o);else p=n>0?-a:a,l=Math.max(0,-(n*p+i)),u=-l*l+p*(p+2*s)+o;return _&&_.copy(this.direction).multiplyScalar(l).add(this.origin),r&&r.copy(O_).multiplyScalar(p).add(w_),u}intersectSphere(e,t){M_.subVectors(e.center,this.origin);const _=M_.dot(this.direction),r=M_.dot(M_)-_*_,a=e.radius*e.radius;if(r>a)return null;const n=Math.sqrt(a-r),i=_-n,s=_+n;return i<0&&s<0?null:i<0?this.at(s,t):this.at(i,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const _=-(this.origin.dot(e.normal)+e.constant)/t;return _>=0?_:null}intersectPlane(e,t){const _=this.distanceToPlane(e);return null===_?null:this.at(_,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let _,r,a,n,i,s;const o=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,p=this.origin;return o>=0?(_=(e.min.x-p.x)*o,r=(e.max.x-p.x)*o):(_=(e.max.x-p.x)*o,r=(e.min.x-p.x)*o),c>=0?(a=(e.min.y-p.y)*c,n=(e.max.y-p.y)*c):(a=(e.max.y-p.y)*c,n=(e.min.y-p.y)*c),_>n||a>r?null:((a>_||_!=_)&&(_=a),(n<r||r!=r)&&(r=n),l>=0?(i=(e.min.z-p.z)*l,s=(e.max.z-p.z)*l):(i=(e.max.z-p.z)*l,s=(e.min.z-p.z)*l),_>s||i>r?null:((i>_||_!=_)&&(_=i),(s<r||r!=r)&&(r=s),r<0?null:this.at(_>=0?_:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,M_)}intersectTriangle(e,t,_,r,a){T_.subVectors(t,e),A_.subVectors(_,e),R_.crossVectors(T_,A_);let n,i=this.direction.dot(R_);if(i>0){if(r)return null;n=1}else{if(!(i<0))return null;n=-1,i=-i}C_.subVectors(this.origin,e);const s=n*this.direction.dot(A_.crossVectors(C_,A_));if(s<0)return null;const o=n*this.direction.dot(T_.cross(C_));if(o<0)return null;if(s+o>i)return null;const c=-n*C_.dot(R_);return c<0?null:this.at(c/i,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class E_{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,_,r,a,n,i,s,o,c,l,p,u,f,h,d){const m=this.elements;return m[0]=e,m[4]=t,m[8]=_,m[12]=r,m[1]=a,m[5]=n,m[9]=i,m[13]=s,m[2]=o,m[6]=c,m[10]=l,m[14]=p,m[3]=u,m[7]=f,m[11]=h,m[15]=d,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new E_).fromArray(this.elements)}copy(e){const t=this.elements,_=e.elements;return t[0]=_[0],t[1]=_[1],t[2]=_[2],t[3]=_[3],t[4]=_[4],t[5]=_[5],t[6]=_[6],t[7]=_[7],t[8]=_[8],t[9]=_[9],t[10]=_[10],t[11]=_[11],t[12]=_[12],t[13]=_[13],t[14]=_[14],t[15]=_[15],this}copyPosition(e){const t=this.elements,_=e.elements;return t[12]=_[12],t[13]=_[13],t[14]=_[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,_){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),_.setFromMatrixColumn(this,2),this}makeBasis(e,t,_){return this.set(e.x,t.x,_.x,0,e.y,t.y,_.y,0,e.z,t.z,_.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,_=e.elements,r=1/B_.setFromMatrixColumn(e,0).length(),a=1/B_.setFromMatrixColumn(e,1).length(),n=1/B_.setFromMatrixColumn(e,2).length();return t[0]=_[0]*r,t[1]=_[1]*r,t[2]=_[2]*r,t[3]=0,t[4]=_[4]*a,t[5]=_[5]*a,t[6]=_[6]*a,t[7]=0,t[8]=_[8]*n,t[9]=_[9]*n,t[10]=_[10]*n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,_=e.x,r=e.y,a=e.z,n=Math.cos(_),i=Math.sin(_),s=Math.cos(r),o=Math.sin(r),c=Math.cos(a),l=Math.sin(a);if("XYZ"===e.order){const e=n*c,_=n*l,r=i*c,a=i*l;t[0]=s*c,t[4]=-s*l,t[8]=o,t[1]=_+r*o,t[5]=e-a*o,t[9]=-i*s,t[2]=a-e*o,t[6]=r+_*o,t[10]=n*s}else if("YXZ"===e.order){const e=s*c,_=s*l,r=o*c,a=o*l;t[0]=e+a*i,t[4]=r*i-_,t[8]=n*o,t[1]=n*l,t[5]=n*c,t[9]=-i,t[2]=_*i-r,t[6]=a+e*i,t[10]=n*s}else if("ZXY"===e.order){const e=s*c,_=s*l,r=o*c,a=o*l;t[0]=e-a*i,t[4]=-n*l,t[8]=r+_*i,t[1]=_+r*i,t[5]=n*c,t[9]=a-e*i,t[2]=-n*o,t[6]=i,t[10]=n*s}else if("ZYX"===e.order){const e=n*c,_=n*l,r=i*c,a=i*l;t[0]=s*c,t[4]=r*o-_,t[8]=e*o+a,t[1]=s*l,t[5]=a*o+e,t[9]=_*o-r,t[2]=-o,t[6]=i*s,t[10]=n*s}else if("YZX"===e.order){const e=n*s,_=n*o,r=i*s,a=i*o;t[0]=s*c,t[4]=a-e*l,t[8]=r*l+_,t[1]=l,t[5]=n*c,t[9]=-i*c,t[2]=-o*c,t[6]=_*l+r,t[10]=e-a*l}else if("XZY"===e.order){const e=n*s,_=n*o,r=i*s,a=i*o;t[0]=s*c,t[4]=-l,t[8]=o*c,t[1]=e*l+a,t[5]=n*c,t[9]=_*l-r,t[2]=r*l-_,t[6]=i*c,t[10]=a*l+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(q_,e,H_)}lookAt(e,t,_){const r=this.elements;return F_.subVectors(e,t),0===F_.lengthSq()&&(F_.z=1),F_.normalize(),P_.crossVectors(_,F_),0===P_.lengthSq()&&(1===Math.abs(_.z)?F_.x+=1e-4:F_.z+=1e-4,F_.normalize(),P_.crossVectors(_,F_)),P_.normalize(),j_.crossVectors(F_,P_),r[0]=P_.x,r[4]=j_.x,r[8]=F_.x,r[1]=P_.y,r[5]=j_.y,r[9]=F_.y,r[2]=P_.z,r[6]=j_.z,r[10]=F_.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const _=e.elements,r=t.elements,a=this.elements,n=_[0],i=_[4],s=_[8],o=_[12],c=_[1],l=_[5],p=_[9],u=_[13],f=_[2],h=_[6],d=_[10],m=_[14],y=_[3],g=_[7],v=_[11],$=_[15],x=r[0],b=r[4],I=r[8],L=r[12],S=r[1],M=r[5],w=r[9],O=r[13],C=r[2],T=r[6],A=r[10],R=r[14],D=r[3],E=r[7],B=r[11],V=r[15];return a[0]=n*x+i*S+s*C+o*D,a[4]=n*b+i*M+s*T+o*E,a[8]=n*I+i*w+s*A+o*B,a[12]=n*L+i*O+s*R+o*V,a[1]=c*x+l*S+p*C+u*D,a[5]=c*b+l*M+p*T+u*E,a[9]=c*I+l*w+p*A+u*B,a[13]=c*L+l*O+p*R+u*V,a[2]=f*x+h*S+d*C+m*D,a[6]=f*b+h*M+d*T+m*E,a[10]=f*I+h*w+d*A+m*B,a[14]=f*L+h*O+d*R+m*V,a[3]=y*x+g*S+v*C+$*D,a[7]=y*b+g*M+v*T+$*E,a[11]=y*I+g*w+v*A+$*B,a[15]=y*L+g*O+v*R+$*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],_=e[4],r=e[8],a=e[12],n=e[1],i=e[5],s=e[9],o=e[13],c=e[2],l=e[6],p=e[10],u=e[14];return e[3]*(+a*s*l-r*o*l-a*i*p+_*o*p+r*i*u-_*s*u)+e[7]*(+t*s*u-t*o*p+a*n*p-r*n*u+r*o*c-a*s*c)+e[11]*(+t*o*l-t*i*u-a*n*l+_*n*u+a*i*c-_*o*c)+e[15]*(-r*i*c-t*s*l+t*i*p+r*n*l-_*n*p+_*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,_){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=_),this}invert(){const e=this.elements,t=e[0],_=e[1],r=e[2],a=e[3],n=e[4],i=e[5],s=e[6],o=e[7],c=e[8],l=e[9],p=e[10],u=e[11],f=e[12],h=e[13],d=e[14],m=e[15],y=l*d*o-h*p*o+h*s*u-i*d*u-l*s*m+i*p*m,g=f*p*o-c*d*o-f*s*u+n*d*u+c*s*m-n*p*m,v=c*h*o-f*l*o+f*i*u-n*h*u-c*i*m+n*l*m,$=f*l*s-c*h*s-f*i*p+n*h*p+c*i*d-n*l*d,x=t*y+_*g+r*v+a*$;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/x;return e[0]=y*b,e[1]=(h*p*a-l*d*a-h*r*u+_*d*u+l*r*m-_*p*m)*b,e[2]=(i*d*a-h*s*a+h*r*o-_*d*o-i*r*m+_*s*m)*b,e[3]=(l*s*a-i*p*a-l*r*o+_*p*o+i*r*u-_*s*u)*b,e[4]=g*b,e[5]=(c*d*a-f*p*a+f*r*u-t*d*u-c*r*m+t*p*m)*b,e[6]=(f*s*a-n*d*a-f*r*o+t*d*o+n*r*m-t*s*m)*b,e[7]=(n*p*a-c*s*a+c*r*o-t*p*o-n*r*u+t*s*u)*b,e[8]=v*b,e[9]=(f*l*a-c*h*a-f*_*u+t*h*u+c*_*m-t*l*m)*b,e[10]=(n*h*a-f*i*a+f*_*o-t*h*o-n*_*m+t*i*m)*b,e[11]=(c*i*a-n*l*a-c*_*o+t*l*o+n*_*u-t*i*u)*b,e[12]=$*b,e[13]=(c*h*r-f*l*r+f*_*p-t*h*p-c*_*d+t*l*d)*b,e[14]=(f*i*r-n*h*r-f*_*s+t*h*s+n*_*d-t*i*d)*b,e[15]=(n*l*r-c*i*r+c*_*s-t*l*s-n*_*p+t*i*p)*b,this}scale(e){const t=this.elements,_=e.x,r=e.y,a=e.z;return t[0]*=_,t[4]*=r,t[8]*=a,t[1]*=_,t[5]*=r,t[9]*=a,t[2]*=_,t[6]*=r,t[10]*=a,t[3]*=_,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],_=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,_,r))}makeTranslation(e,t,_){return this.set(1,0,0,e,0,1,0,t,0,0,1,_,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),_=Math.sin(e);return this.set(1,0,0,0,0,t,-_,0,0,_,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),_=Math.sin(e);return this.set(t,0,_,0,0,1,0,0,-_,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),_=Math.sin(e);return this.set(t,-_,0,0,_,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const _=Math.cos(t),r=Math.sin(t),a=1-_,n=e.x,i=e.y,s=e.z,o=a*n,c=a*i;return this.set(o*n+_,o*i-r*s,o*s+r*i,0,o*i+r*s,c*i+_,c*s-r*n,0,o*s-r*i,c*s+r*n,a*s*s+_,0,0,0,0,1),this}makeScale(e,t,_){return this.set(e,0,0,0,0,t,0,0,0,0,_,0,0,0,0,1),this}makeShear(e,t,_,r,a,n){return this.set(1,_,a,0,e,1,n,0,t,r,1,0,0,0,0,1),this}compose(e,t,_){const r=this.elements,a=t._x,n=t._y,i=t._z,s=t._w,o=a+a,c=n+n,l=i+i,p=a*o,u=a*c,f=a*l,h=n*c,d=n*l,m=i*l,y=s*o,g=s*c,v=s*l,$=_.x,x=_.y,b=_.z;return r[0]=(1-(h+m))*$,r[1]=(u+v)*$,r[2]=(f-g)*$,r[3]=0,r[4]=(u-v)*x,r[5]=(1-(p+m))*x,r[6]=(d+y)*x,r[7]=0,r[8]=(f+g)*b,r[9]=(d-y)*b,r[10]=(1-(p+h))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,_){const r=this.elements;let a=B_.set(r[0],r[1],r[2]).length();const n=B_.set(r[4],r[5],r[6]).length(),i=B_.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],V_.copy(this);const s=1/a,o=1/n,c=1/i;return V_.elements[0]*=s,V_.elements[1]*=s,V_.elements[2]*=s,V_.elements[4]*=o,V_.elements[5]*=o,V_.elements[6]*=o,V_.elements[8]*=c,V_.elements[9]*=c,V_.elements[10]*=c,t.setFromRotationMatrix(V_),_.x=a,_.y=n,_.z=i,this}makePerspective(e,t,_,r,a,n){void 0===n&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const i=this.elements,s=2*a/(t-e),o=2*a/(_-r),c=(t+e)/(t-e),l=(_+r)/(_-r),p=-(n+a)/(n-a),u=-2*n*a/(n-a);return i[0]=s,i[4]=0,i[8]=c,i[12]=0,i[1]=0,i[5]=o,i[9]=l,i[13]=0,i[2]=0,i[6]=0,i[10]=p,i[14]=u,i[3]=0,i[7]=0,i[11]=-1,i[15]=0,this}makeOrthographic(e,t,_,r,a,n){const i=this.elements,s=1/(t-e),o=1/(_-r),c=1/(n-a),l=(t+e)*s,p=(_+r)*o,u=(n+a)*c;return i[0]=2*s,i[4]=0,i[8]=0,i[12]=-l,i[1]=0,i[5]=2*o,i[9]=0,i[13]=-p,i[2]=0,i[6]=0,i[10]=-2*c,i[14]=-u,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this}equals(e){const t=this.elements,_=e.elements;for(let e=0;e<16;e++)if(t[e]!==_[e])return!1;return!0}fromArray(e,t=0){for(let _=0;_<16;_++)this.elements[_]=e[_+t];return this}toArray(e=[],t=0){const _=this.elements;return e[t]=_[0],e[t+1]=_[1],e[t+2]=_[2],e[t+3]=_[3],e[t+4]=_[4],e[t+5]=_[5],e[t+6]=_[6],e[t+7]=_[7],e[t+8]=_[8],e[t+9]=_[9],e[t+10]=_[10],e[t+11]=_[11],e[t+12]=_[12],e[t+13]=_[13],e[t+14]=_[14],e[t+15]=_[15],e}}E_.prototype.isMatrix4=!0;const B_=new r_,V_=new E_,q_=new r_(0,0,0),H_=new r_(1,1,1),P_=new r_,j_=new r_,F_=new r_,z_=new E_,k_=new __;class G_{constructor(e=0,t=0,_=0,r=G_.DefaultOrder){this._x=e,this._y=t,this._z=_,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,_,r=this._order){return this._x=e,this._y=t,this._z=_,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,_=!0){const r=e.elements,a=r[0],n=r[4],i=r[8],s=r[1],o=r[5],c=r[9],l=r[2],p=r[6],u=r[10];switch(t){case"XYZ":this._y=Math.asin(wt(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(-c,u),this._z=Math.atan2(-n,a)):(this._x=Math.atan2(p,o),this._z=0);break;case"YXZ":this._x=Math.asin(-wt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(i,u),this._z=Math.atan2(s,o)):(this._y=Math.atan2(-l,a),this._z=0);break;case"ZXY":this._x=Math.asin(wt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-l,u),this._z=Math.atan2(-n,o)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-wt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(p,u),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-n,o));break;case"YZX":this._z=Math.asin(wt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,o),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(i,u));break;case"XZY":this._z=Math.asin(-wt(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(p,o),this._y=Math.atan2(i,a)):(this._x=Math.atan2(-c,u),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===_&&this._onChangeCallback(),this}setFromQuaternion(e,t,_){return z_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(z_,t,_)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return k_.setFromEuler(this),this.setFromQuaternion(k_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}G_.prototype.isEuler=!0,G_.DefaultOrder="XYZ",G_.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class N_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let W_=0;const U_=new r_,Z_=new __,X_=new E_,J_=new r_,Y_=new r_,Q_=new r_,K_=new __,er=new r_(1,0,0),tr=new r_(0,1,0),_r=new r_(0,0,1),rr={type:"added"},ar={type:"removed"};class nr extends bt{constructor(){super(),Object.defineProperty(this,"id",{value:W_++}),this.uuid=Mt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nr.DefaultUp.clone();const e=new r_,t=new G_,_=new __,r=new r_(1,1,1);t._onChange((function(){_.setFromEuler(t,!1)})),_._onChange((function(){t.setFromQuaternion(_,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:_},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new E_},normalMatrix:{value:new Rt}}),this.matrix=new E_,this.matrixWorld=new E_,this.matrixAutoUpdate=nr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new N_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Z_.setFromAxisAngle(e,t),this.quaternion.multiply(Z_),this}rotateOnWorldAxis(e,t){return Z_.setFromAxisAngle(e,t),this.quaternion.premultiply(Z_),this}rotateX(e){return this.rotateOnAxis(er,e)}rotateY(e){return this.rotateOnAxis(tr,e)}rotateZ(e){return this.rotateOnAxis(_r,e)}translateOnAxis(e,t){return U_.copy(e).applyQuaternion(this.quaternion),this.position.add(U_.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(er,e)}translateY(e){return this.translateOnAxis(tr,e)}translateZ(e){return this.translateOnAxis(_r,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(X_.copy(this.matrixWorld).invert())}lookAt(e,t,_){e.isVector3?J_.copy(e):J_.set(e,t,_);const r=this.parent;this.updateWorldMatrix(!0,!1),Y_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?X_.lookAt(Y_,J_,this.up):X_.lookAt(J_,Y_,this.up),this.quaternion.setFromRotationMatrix(X_),r&&(X_.extractRotation(r.matrixWorld),Z_.setFromRotationMatrix(X_),this.quaternion.premultiply(Z_.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(rr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ar)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ar)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),X_.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),X_.multiply(e.parent.matrixWorld)),e.applyMatrix4(X_),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let _=0,r=this.children.length;_<r;_++){const r=this.children[_].getObjectByProperty(e,t);if(void 0!==r)return r}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Y_,e,Q_),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Y_,K_,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let _=0,r=t.length;_<r;_++)t[_].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let _=0,r=t.length;_<r;_++)t[_].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let _=0,r=t.length;_<r;_++)t[_].updateMatrixWorld(e)}updateWorldMatrix(e,t){const _=this.parent;if(!0===e&&null!==_&&_.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,_=e.length;t<_;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,_={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},_.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function a(t,_){return void 0===t[_.uuid]&&(t[_.uuid]=_.toJSON(e)),_.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const _=t.shapes;if(Array.isArray(_))for(let t=0,r=_.length;t<r;t++){const r=_[t];a(e.shapes,r)}else a(e.shapes,_)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let _=0,r=this.material.length;_<r;_++)t.push(a(e.materials,this.material[_]));r.material=t}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const _=this.animations[t];r.animations.push(a(e.animations,_))}}if(t){const t=n(e.geometries),r=n(e.materials),a=n(e.textures),i=n(e.images),s=n(e.shapes),o=n(e.skeletons),c=n(e.animations),l=n(e.nodes);t.length>0&&(_.geometries=t),r.length>0&&(_.materials=r),a.length>0&&(_.textures=a),i.length>0&&(_.images=i),s.length>0&&(_.shapes=s),o.length>0&&(_.skeletons=o),c.length>0&&(_.animations=c),l.length>0&&(_.nodes=l)}return _.object=r,_;function n(e){const t=[];for(const _ in e){const r=e[_];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const _=e.children[t];this.add(_.clone())}return this}}nr.DefaultUp=new r_(0,1,0),nr.DefaultMatrixAutoUpdate=!0,nr.prototype.isObject3D=!0;const ir=new r_,sr=new r_,or=new r_,cr=new r_,lr=new r_,pr=new r_,ur=new r_,fr=new r_,hr=new r_,dr=new r_;class mr{constructor(e=new r_,t=new r_,_=new r_){this.a=e,this.b=t,this.c=_}static getNormal(e,t,_,r){r.subVectors(_,t),ir.subVectors(e,t),r.cross(ir);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,_,r,a){ir.subVectors(r,t),sr.subVectors(_,t),or.subVectors(e,t);const n=ir.dot(ir),i=ir.dot(sr),s=ir.dot(or),o=sr.dot(sr),c=sr.dot(or),l=n*o-i*i;if(0===l)return a.set(-2,-1,-1);const p=1/l,u=(o*s-i*c)*p,f=(n*c-i*s)*p;return a.set(1-u-f,f,u)}static containsPoint(e,t,_,r){return this.getBarycoord(e,t,_,r,cr),cr.x>=0&&cr.y>=0&&cr.x+cr.y<=1}static getUV(e,t,_,r,a,n,i,s){return this.getBarycoord(e,t,_,r,cr),s.set(0,0),s.addScaledVector(a,cr.x),s.addScaledVector(n,cr.y),s.addScaledVector(i,cr.z),s}static isFrontFacing(e,t,_,r){return ir.subVectors(_,t),sr.subVectors(e,t),ir.cross(sr).dot(r)<0}set(e,t,_){return this.a.copy(e),this.b.copy(t),this.c.copy(_),this}setFromPointsAndIndices(e,t,_,r){return this.a.copy(e[t]),this.b.copy(e[_]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,_,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,_),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ir.subVectors(this.c,this.b),sr.subVectors(this.a,this.b),.5*ir.cross(sr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return mr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,_,r,a){return mr.getUV(e,this.a,this.b,this.c,t,_,r,a)}containsPoint(e){return mr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const _=this.a,r=this.b,a=this.c;let n,i;lr.subVectors(r,_),pr.subVectors(a,_),fr.subVectors(e,_);const s=lr.dot(fr),o=pr.dot(fr);if(s<=0&&o<=0)return t.copy(_);hr.subVectors(e,r);const c=lr.dot(hr),l=pr.dot(hr);if(c>=0&&l<=c)return t.copy(r);const p=s*l-c*o;if(p<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(_).addScaledVector(lr,n);dr.subVectors(e,a);const u=lr.dot(dr),f=pr.dot(dr);if(f>=0&&u<=f)return t.copy(a);const h=u*o-s*f;if(h<=0&&o>=0&&f<=0)return i=o/(o-f),t.copy(_).addScaledVector(pr,i);const d=c*f-u*l;if(d<=0&&l-c>=0&&u-f>=0)return ur.subVectors(a,r),i=(l-c)/(l-c+(u-f)),t.copy(r).addScaledVector(ur,i);const m=1/(d+h+p);return n=h*m,i=p*m,t.copy(_).addScaledVector(lr,n).addScaledVector(pr,i)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let yr=0;class gr extends bt{constructor(){super(),Object.defineProperty(this,"id",{value:yr++}),this.uuid=Mt(),this.name="",this.type="Material",this.blending=p,this.side=s,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=S,this.blendDst=M,this.blendEquation=m,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=B,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yt,this.stencilZFail=yt,this.stencilZPass=yt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const _=e[t];if(void 0===_){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===_;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(_):r&&r.isVector3&&_&&_.isVector3?r.copy(_):this[t]=_:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const _={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const _ in e){const r=e[_];delete r.metadata,t.push(r)}return t}if(_.uuid=this.uuid,_.type=this.type,""!==this.name&&(_.name=this.name),this.color&&this.color.isColor&&(_.color=this.color.getHex()),void 0!==this.roughness&&(_.roughness=this.roughness),void 0!==this.metalness&&(_.metalness=this.metalness),void 0!==this.sheen&&(_.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(_.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(_.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(_.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(_.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(_.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(_.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(_.shininess=this.shininess),void 0!==this.clearcoat&&(_.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(_.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,_.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(_.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(_.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(_.lightMap=this.lightMap.toJSON(e).uuid,_.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_.aoMap=this.aoMap.toJSON(e).uuid,_.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_.bumpMap=this.bumpMap.toJSON(e).uuid,_.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_.normalMap=this.normalMap.toJSON(e).uuid,_.normalMapType=this.normalMapType,_.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_.displacementMap=this.displacementMap.toJSON(e).uuid,_.displacementScale=this.displacementScale,_.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(_.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(_.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(_.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(_.combine=this.combine)),void 0!==this.envMapIntensity&&(_.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(_.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(_.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(_.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(_.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(_.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(_.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(_.size=this.size),null!==this.shadowSide&&(_.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(_.sizeAttenuation=this.sizeAttenuation),this.blending!==p&&(_.blending=this.blending),this.side!==s&&(_.side=this.side),this.vertexColors&&(_.vertexColors=!0),this.opacity<1&&(_.opacity=this.opacity),!0===this.transparent&&(_.transparent=this.transparent),_.depthFunc=this.depthFunc,_.depthTest=this.depthTest,_.depthWrite=this.depthWrite,_.colorWrite=this.colorWrite,_.stencilWrite=this.stencilWrite,_.stencilWriteMask=this.stencilWriteMask,_.stencilFunc=this.stencilFunc,_.stencilRef=this.stencilRef,_.stencilFuncMask=this.stencilFuncMask,_.stencilFail=this.stencilFail,_.stencilZFail=this.stencilZFail,_.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(_.rotation=this.rotation),!0===this.polygonOffset&&(_.polygonOffset=!0),0!==this.polygonOffsetFactor&&(_.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(_.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(_.linewidth=this.linewidth),void 0!==this.dashSize&&(_.dashSize=this.dashSize),void 0!==this.gapSize&&(_.gapSize=this.gapSize),void 0!==this.scale&&(_.scale=this.scale),!0===this.dithering&&(_.dithering=!0),this.alphaTest>0&&(_.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(_.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(_.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(_.wireframe=this.wireframe),this.wireframeLinewidth>1&&(_.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(_.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(_.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(_.flatShading=this.flatShading),!1===this.visible&&(_.visible=!1),!1===this.toneMapped&&(_.toneMapped=!1),!1===this.fog&&(_.fog=!1),"{}"!==JSON.stringify(this.userData)&&(_.userData=this.userData),t){const t=r(e.textures),a=r(e.images);t.length>0&&(_.textures=t),a.length>0&&(_.images=a)}return _}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let _=null;if(null!==t){const e=t.length;_=new Array(e);for(let r=0;r!==e;++r)_[r]=t[r].clone()}return this.clippingPlanes=_,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}gr.prototype.isMaterial=!0,gr.fromType=function(){return null};class vr extends gr{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=j,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}vr.prototype.isMeshBasicMaterial=!0;const $r=new r_,xr=new At;class br{constructor(e,t,_){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===_,this.usage=gt,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,_){e*=this.itemSize,_*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[_+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let _=0;for(let r=0,a=e.length;r<a;r++){let a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Nt),t[_++]=a.r,t[_++]=a.g,t[_++]=a.b}return this}copyVector2sArray(e){const t=this.array;let _=0;for(let r=0,a=e.length;r<a;r++){let a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new At),t[_++]=a.x,t[_++]=a.y}return this}copyVector3sArray(e){const t=this.array;let _=0;for(let r=0,a=e.length;r<a;r++){let a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new r_),t[_++]=a.x,t[_++]=a.y,t[_++]=a.z}return this}copyVector4sArray(e){const t=this.array;let _=0;for(let r=0,a=e.length;r<a;r++){let a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Qt),t[_++]=a.x,t[_++]=a.y,t[_++]=a.z,t[_++]=a.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,_=this.count;t<_;t++)xr.fromBufferAttribute(this,t),xr.applyMatrix3(e),this.setXY(t,xr.x,xr.y);else if(3===this.itemSize)for(let t=0,_=this.count;t<_;t++)$r.fromBufferAttribute(this,t),$r.applyMatrix3(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}applyMatrix4(e){for(let t=0,_=this.count;t<_;t++)$r.fromBufferAttribute(this,t),$r.applyMatrix4(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let t=0,_=this.count;t<_;t++)$r.fromBufferAttribute(this,t),$r.applyNormalMatrix(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let t=0,_=this.count;t<_;t++)$r.fromBufferAttribute(this,t),$r.transformDirection(e),this.setXYZ(t,$r.x,$r.y,$r.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,_){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=_,this}setXYZ(e,t,_,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=_,this.array[e+2]=r,this}setXYZW(e,t,_,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=_,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==gt&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}br.prototype.isBufferAttribute=!0;class Ir extends br{constructor(e,t,_){super(new Uint16Array(e),t,_)}}class Lr extends br{constructor(e,t,_){super(new Uint32Array(e),t,_)}}(class extends br{constructor(e,t,_){super(new Uint16Array(e),t,_)}}).prototype.isFloat16BufferAttribute=!0;class Sr extends br{constructor(e,t,_){super(new Float32Array(e),t,_)}}let Mr=0;const wr=new E_,Or=new nr,Cr=new r_,Tr=new i_,Ar=new i_,Rr=new r_;class Dr extends bt{constructor(){super(),Object.defineProperty(this,"id",{value:Mr++}),this.uuid=Mt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Dt(e)?Lr:Ir)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,_=0){this.groups.push({start:e,count:t,materialIndex:_})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const _=this.attributes.normal;if(void 0!==_){const t=(new Rt).getNormalMatrix(e);_.applyNormalMatrix(t),_.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return wr.makeRotationFromQuaternion(e),this.applyMatrix4(wr),this}rotateX(e){return wr.makeRotationX(e),this.applyMatrix4(wr),this}rotateY(e){return wr.makeRotationY(e),this.applyMatrix4(wr),this}rotateZ(e){return wr.makeRotationZ(e),this.applyMatrix4(wr),this}translate(e,t,_){return wr.makeTranslation(e,t,_),this.applyMatrix4(wr),this}scale(e,t,_){return wr.makeScale(e,t,_),this.applyMatrix4(wr),this}lookAt(e){return Or.lookAt(e),Or.updateMatrix(),this.applyMatrix4(Or.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cr).negate(),this.translate(Cr.x,Cr.y,Cr.z),this}setFromPoints(e){const t=[];for(let _=0,r=e.length;_<r;_++){const r=e[_];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Sr(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new i_);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new r_(-1/0,-1/0,-1/0),new r_(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,_=t.length;e<_;e++){const _=t[e];Tr.setFromBufferAttribute(_),this.morphTargetsRelative?(Rr.addVectors(this.boundingBox.min,Tr.min),this.boundingBox.expandByPoint(Rr),Rr.addVectors(this.boundingBox.max,Tr.max),this.boundingBox.expandByPoint(Rr)):(this.boundingBox.expandByPoint(Tr.min),this.boundingBox.expandByPoint(Tr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new S_);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new r_,1/0);if(e){const _=this.boundingSphere.center;if(Tr.setFromBufferAttribute(e),t)for(let e=0,_=t.length;e<_;e++){const _=t[e];Ar.setFromBufferAttribute(_),this.morphTargetsRelative?(Rr.addVectors(Tr.min,Ar.min),Tr.expandByPoint(Rr),Rr.addVectors(Tr.max,Ar.max),Tr.expandByPoint(Rr)):(Tr.expandByPoint(Ar.min),Tr.expandByPoint(Ar.max))}Tr.getCenter(_);let r=0;for(let t=0,a=e.count;t<a;t++)Rr.fromBufferAttribute(e,t),r=Math.max(r,_.distanceToSquared(Rr));if(t)for(let a=0,n=t.length;a<n;a++){const n=t[a],i=this.morphTargetsRelative;for(let t=0,a=n.count;t<a;t++)Rr.fromBufferAttribute(n,t),i&&(Cr.fromBufferAttribute(e,t),Rr.add(Cr)),r=Math.max(r,_.distanceToSquared(Rr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const _=e.array,r=t.position.array,a=t.normal.array,n=t.uv.array,i=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new br(new Float32Array(4*i),4));const s=this.getAttribute("tangent").array,o=[],c=[];for(let e=0;e<i;e++)o[e]=new r_,c[e]=new r_;const l=new r_,p=new r_,u=new r_,f=new At,h=new At,d=new At,m=new r_,y=new r_;function g(e,t,_){l.fromArray(r,3*e),p.fromArray(r,3*t),u.fromArray(r,3*_),f.fromArray(n,2*e),h.fromArray(n,2*t),d.fromArray(n,2*_),p.sub(l),u.sub(l),h.sub(f),d.sub(f);const a=1/(h.x*d.y-d.x*h.y);isFinite(a)&&(m.copy(p).multiplyScalar(d.y).addScaledVector(u,-h.y).multiplyScalar(a),y.copy(u).multiplyScalar(h.x).addScaledVector(p,-d.x).multiplyScalar(a),o[e].add(m),o[t].add(m),o[_].add(m),c[e].add(y),c[t].add(y),c[_].add(y))}let v=this.groups;0===v.length&&(v=[{start:0,count:_.length}]);for(let e=0,t=v.length;e<t;++e){const t=v[e],r=t.start;for(let e=r,a=r+t.count;e<a;e+=3)g(_[e+0],_[e+1],_[e+2])}const $=new r_,x=new r_,b=new r_,I=new r_;function L(e){b.fromArray(a,3*e),I.copy(b);const t=o[e];$.copy(t),$.sub(b.multiplyScalar(b.dot(t))).normalize(),x.crossVectors(I,t);const _=x.dot(c[e])<0?-1:1;s[4*e]=$.x,s[4*e+1]=$.y,s[4*e+2]=$.z,s[4*e+3]=_}for(let e=0,t=v.length;e<t;++e){const t=v[e],r=t.start;for(let e=r,a=r+t.count;e<a;e+=3)L(_[e+0]),L(_[e+1]),L(_[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let _=this.getAttribute("normal");if(void 0===_)_=new br(new Float32Array(3*t.count),3),this.setAttribute("normal",_);else for(let e=0,t=_.count;e<t;e++)_.setXYZ(e,0,0,0);const r=new r_,a=new r_,n=new r_,i=new r_,s=new r_,o=new r_,c=new r_,l=new r_;if(e)for(let p=0,u=e.count;p<u;p+=3){const u=e.getX(p+0),f=e.getX(p+1),h=e.getX(p+2);r.fromBufferAttribute(t,u),a.fromBufferAttribute(t,f),n.fromBufferAttribute(t,h),c.subVectors(n,a),l.subVectors(r,a),c.cross(l),i.fromBufferAttribute(_,u),s.fromBufferAttribute(_,f),o.fromBufferAttribute(_,h),i.add(c),s.add(c),o.add(c),_.setXYZ(u,i.x,i.y,i.z),_.setXYZ(f,s.x,s.y,s.z),_.setXYZ(h,o.x,o.y,o.z)}else for(let e=0,i=t.count;e<i;e+=3)r.fromBufferAttribute(t,e+0),a.fromBufferAttribute(t,e+1),n.fromBufferAttribute(t,e+2),c.subVectors(n,a),l.subVectors(r,a),c.cross(l),_.setXYZ(e+0,c.x,c.y,c.z),_.setXYZ(e+1,c.x,c.y,c.z),_.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),_.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const _=this.attributes;for(const r in _){if(void 0===e.attributes[r])continue;const a=_[r].array,n=e.attributes[r],i=n.array,s=n.itemSize*t,o=Math.min(i.length,a.length-s);for(let e=0,t=s;e<o;e++,t++)a[t]=i[e]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,_=e.count;t<_;t++)Rr.fromBufferAttribute(e,t),Rr.normalize(),e.setXYZ(t,Rr.x,Rr.y,Rr.z)}toNonIndexed(){function e(e,t){const _=e.array,r=e.itemSize,a=e.normalized,n=new _.constructor(t.length*r);let i=0,s=0;for(let a=0,o=t.length;a<o;a++){i=e.isInterleavedBufferAttribute?t[a]*e.data.stride+e.offset:t[a]*r;for(let e=0;e<r;e++)n[s++]=_[i++]}return new br(n,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Dr,_=this.index.array,r=this.attributes;for(const a in r){const n=e(r[a],_);t.setAttribute(a,n)}const a=this.morphAttributes;for(const r in a){const n=[],i=a[r];for(let t=0,r=i.length;t<r;t++){const r=e(i[t],_);n.push(r)}t.morphAttributes[r]=n}t.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let e=0,_=n.length;e<_;e++){const _=n[e];t.addGroup(_.start,_.count,_.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const _ in t)void 0!==t[_]&&(e[_]=t[_]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const _=this.attributes;for(const t in _){const r=_[t];e.data.attributes[t]=r.toJSON(e.data)}const r={};let a=!1;for(const t in this.morphAttributes){const _=this.morphAttributes[t],n=[];for(let t=0,r=_.length;t<r;t++){const r=_[t];n.push(r.toJSON(e.data))}n.length>0&&(r[t]=n,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(e.data.groups=JSON.parse(JSON.stringify(n)));const i=this.boundingSphere;return null!==i&&(e.data.boundingSphere={center:i.center.toArray(),radius:i.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const _=e.index;null!==_&&this.setIndex(_.clone(t));const r=e.attributes;for(const e in r){const _=r[e];this.setAttribute(e,_.clone(t))}const a=e.morphAttributes;for(const e in a){const _=[],r=a[e];for(let e=0,a=r.length;e<a;e++)_.push(r[e].clone(t));this.morphAttributes[e]=_}this.morphTargetsRelative=e.morphTargetsRelative;const n=e.groups;for(let e=0,t=n.length;e<t;e++){const t=n[e];this.addGroup(t.start,t.count,t.materialIndex)}const i=e.boundingBox;null!==i&&(this.boundingBox=i.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Dr.prototype.isBufferGeometry=!0;const Er=new E_,Br=new D_,Vr=new S_,qr=new r_,Hr=new r_,Pr=new r_,jr=new r_,Fr=new r_,zr=new r_,kr=new r_,Gr=new r_,Nr=new r_,Wr=new At,Ur=new At,Zr=new At,Xr=new r_,Jr=new r_;class Yr extends nr{constructor(e=new Dr,t=new vr){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,_=Object.keys(t);if(_.length>0){const e=t[_[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,_=e.length;t<_;t++){const _=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const _=this.geometry,r=this.material,a=this.matrixWorld;if(void 0===r)return;if(null===_.boundingSphere&&_.computeBoundingSphere(),Vr.copy(_.boundingSphere),Vr.applyMatrix4(a),!1===e.ray.intersectsSphere(Vr))return;if(Er.copy(a).invert(),Br.copy(e.ray).applyMatrix4(Er),null!==_.boundingBox&&!1===Br.intersectsBox(_.boundingBox))return;let n;if(_.isBufferGeometry){const a=_.index,i=_.attributes.position,s=_.morphAttributes.position,o=_.morphTargetsRelative,c=_.attributes.uv,l=_.attributes.uv2,p=_.groups,u=_.drawRange;if(null!==a)if(Array.isArray(r))for(let _=0,f=p.length;_<f;_++){const f=p[_],h=r[f.materialIndex];for(let _=Math.max(f.start,u.start),r=Math.min(a.count,Math.min(f.start+f.count,u.start+u.count));_<r;_+=3){const r=a.getX(_),p=a.getX(_+1),u=a.getX(_+2);n=Qr(this,h,e,Br,i,s,o,c,l,r,p,u),n&&(n.faceIndex=Math.floor(_/3),n.face.materialIndex=f.materialIndex,t.push(n))}}else for(let _=Math.max(0,u.start),p=Math.min(a.count,u.start+u.count);_<p;_+=3){const p=a.getX(_),u=a.getX(_+1),f=a.getX(_+2);n=Qr(this,r,e,Br,i,s,o,c,l,p,u,f),n&&(n.faceIndex=Math.floor(_/3),t.push(n))}else if(void 0!==i)if(Array.isArray(r))for(let _=0,a=p.length;_<a;_++){const a=p[_],f=r[a.materialIndex];for(let _=Math.max(a.start,u.start),r=Math.min(i.count,Math.min(a.start+a.count,u.start+u.count));_<r;_+=3)n=Qr(this,f,e,Br,i,s,o,c,l,_,_+1,_+2),n&&(n.faceIndex=Math.floor(_/3),n.face.materialIndex=a.materialIndex,t.push(n))}else for(let _=Math.max(0,u.start),a=Math.min(i.count,u.start+u.count);_<a;_+=3)n=Qr(this,r,e,Br,i,s,o,c,l,_,_+1,_+2),n&&(n.faceIndex=Math.floor(_/3),t.push(n))}else _.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Qr(e,t,_,r,a,n,i,s,l,p,u,f){qr.fromBufferAttribute(a,p),Hr.fromBufferAttribute(a,u),Pr.fromBufferAttribute(a,f);const h=e.morphTargetInfluences;if(n&&h){kr.set(0,0,0),Gr.set(0,0,0),Nr.set(0,0,0);for(let e=0,t=n.length;e<t;e++){const t=h[e],_=n[e];0!==t&&(jr.fromBufferAttribute(_,p),Fr.fromBufferAttribute(_,u),zr.fromBufferAttribute(_,f),i?(kr.addScaledVector(jr,t),Gr.addScaledVector(Fr,t),Nr.addScaledVector(zr,t)):(kr.addScaledVector(jr.sub(qr),t),Gr.addScaledVector(Fr.sub(Hr),t),Nr.addScaledVector(zr.sub(Pr),t)))}qr.add(kr),Hr.add(Gr),Pr.add(Nr)}e.isSkinnedMesh&&(e.boneTransform(p,qr),e.boneTransform(u,Hr),e.boneTransform(f,Pr));const d=function(e,t,_,r,a,n,i,s){let l;if(l=t.side===o?r.intersectTriangle(i,n,a,!0,s):r.intersectTriangle(a,n,i,t.side!==c,s),null===l)return null;Jr.copy(s),Jr.applyMatrix4(e.matrixWorld);const p=_.ray.origin.distanceTo(Jr);return p<_.near||p>_.far?null:{distance:p,point:Jr.clone(),object:e}}(e,t,_,r,qr,Hr,Pr,Xr);if(d){s&&(Wr.fromBufferAttribute(s,p),Ur.fromBufferAttribute(s,u),Zr.fromBufferAttribute(s,f),d.uv=mr.getUV(Xr,qr,Hr,Pr,Wr,Ur,Zr,new At)),l&&(Wr.fromBufferAttribute(l,p),Ur.fromBufferAttribute(l,u),Zr.fromBufferAttribute(l,f),d.uv2=mr.getUV(Xr,qr,Hr,Pr,Wr,Ur,Zr,new At));const e={a:p,b:u,c:f,normal:new r_,materialIndex:0};mr.getNormal(qr,Hr,Pr,e.normal),d.face=e}return d}Yr.prototype.isMesh=!0;class Kr extends Dr{constructor(e=1,t=1,_=1,r=1,a=1,n=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:_,widthSegments:r,heightSegments:a,depthSegments:n};const i=this;r=Math.floor(r),a=Math.floor(a),n=Math.floor(n);const s=[],o=[],c=[],l=[];let p=0,u=0;function f(e,t,_,r,a,n,f,h,d,m,y){const g=n/d,v=f/m,$=n/2,x=f/2,b=h/2,I=d+1,L=m+1;let S=0,M=0;const w=new r_;for(let n=0;n<L;n++){const i=n*v-x;for(let s=0;s<I;s++){const p=s*g-$;w[e]=p*r,w[t]=i*a,w[_]=b,o.push(w.x,w.y,w.z),w[e]=0,w[t]=0,w[_]=h>0?1:-1,c.push(w.x,w.y,w.z),l.push(s/d),l.push(1-n/m),S+=1}}for(let e=0;e<m;e++)for(let t=0;t<d;t++){const _=p+t+I*e,r=p+t+I*(e+1),a=p+(t+1)+I*(e+1),n=p+(t+1)+I*e;s.push(_,r,n),s.push(r,a,n),M+=6}i.addGroup(u,M,y),u+=M,p+=S}f("z","y","x",-1,-1,_,t,e,n,a,0),f("z","y","x",1,-1,_,t,-e,n,a,1),f("x","z","y",1,1,e,_,t,r,n,2),f("x","z","y",1,-1,e,_,-t,r,n,3),f("x","y","z",1,-1,e,t,_,r,a,4),f("x","y","z",-1,-1,e,t,-_,r,a,5),this.setIndex(s),this.setAttribute("position",new Sr(o,3)),this.setAttribute("normal",new Sr(c,3)),this.setAttribute("uv",new Sr(l,2))}static fromJSON(e){return new Kr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ea(e){const t={};for(const _ in e){t[_]={};for(const r in e[_]){const a=e[_][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[_][r]=a.clone():Array.isArray(a)?t[_][r]=a.slice():t[_][r]=a}}return t}function ta(e){const t={};for(let _=0;_<e.length;_++){const r=ea(e[_]);for(const e in r)t[e]=r[e]}return t}const _a={clone:ea,merge:ta};class ra extends gr{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ea(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const _ in this.uniforms){const r=this.uniforms[_].value;r&&r.isTexture?t.uniforms[_]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[_]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[_]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[_]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[_]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[_]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[_]={type:"m4",value:r.toArray()}:t.uniforms[_]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const _={};for(const e in this.extensions)!0===this.extensions[e]&&(_[e]=!0);return Object.keys(_).length>0&&(t.extensions=_),t}}ra.prototype.isShaderMaterial=!0;class aa extends nr{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new E_,this.projectionMatrix=new E_,this.projectionMatrixInverse=new E_}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}aa.prototype.isCamera=!0;class na extends aa{constructor(e=50,t=1,_=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=_,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*St*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Lt*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*St*Math.atan(Math.tan(.5*Lt*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,_,r,a,n){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=_,this.view.offsetY=r,this.view.width=a,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Lt*this.fov)/this.zoom,_=2*t,r=this.aspect*_,a=-.5*r;const n=this.view;if(null!==this.view&&this.view.enabled){const e=n.fullWidth,i=n.fullHeight;a+=n.offsetX*r/e,t-=n.offsetY*_/i,r*=n.width/e,_*=n.height/i}const i=this.filmOffset;0!==i&&(a+=e*i/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-_,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}na.prototype.isPerspectiveCamera=!0;const ia=90;class sa extends nr{constructor(e,t,_){if(super(),this.type="CubeCamera",!0!==_.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=_;const r=new na(ia,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new r_(1,0,0)),this.add(r);const a=new na(ia,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new r_(-1,0,0)),this.add(a);const n=new na(ia,1,e,t);n.layers=this.layers,n.up.set(0,0,1),n.lookAt(new r_(0,1,0)),this.add(n);const i=new na(ia,1,e,t);i.layers=this.layers,i.up.set(0,0,-1),i.lookAt(new r_(0,-1,0)),this.add(i);const s=new na(ia,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new r_(0,0,1)),this.add(s);const o=new na(ia,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new r_(0,0,-1)),this.add(o)}update(e,t){null===this.parent&&this.updateMatrixWorld();const _=this.renderTarget,[r,a,n,i,s,o]=this.children,c=e.getRenderTarget(),l=e.toneMapping,p=e.xr.enabled;e.toneMapping=k,e.xr.enabled=!1;const u=_.texture.generateMipmaps;_.texture.generateMipmaps=!1,e.setRenderTarget(_,0),e.render(t,r),e.setRenderTarget(_,1),e.render(t,a),e.setRenderTarget(_,2),e.render(t,n),e.setRenderTarget(_,3),e.render(t,i),e.setRenderTarget(_,4),e.render(t,s),_.texture.generateMipmaps=u,e.setRenderTarget(_,5),e.render(t,o),e.setRenderTarget(c),e.toneMapping=l,e.xr.enabled=p,_.texture.needsPMREMUpdate=!0}}class oa extends Yt{constructor(e,t,_,r,a,n,i,s,o,c){super(e=void 0!==e?e:[],t=void 0!==t?t:X,_,r,a,n,i,s,o,c),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}oa.prototype.isCubeTexture=!0;class ca extends Kt{constructor(e,t={}){super(e,e,t);const _={width:e,height:e,depth:1},r=[_,_,_,_,_,_];this.texture=new oa(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ie}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const _={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",n=new Kr(5,5,5),i=new ra({name:"CubemapFromEquirect",uniforms:ea(_),vertexShader:r,fragmentShader:a,side:o,blending:l});i.uniforms.tEquirect.value=t;const s=new Yr(n,i),c=t.minFilter;return t.minFilter===oe&&(t.minFilter=ie),new sa(1,10,this).update(e,s),t.minFilter=c,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,_,r){const a=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,_,r);e.setRenderTarget(a)}}ca.prototype.isWebGLCubeRenderTarget=!0;const la=new r_,pa=new r_,ua=new Rt;class fa{constructor(e=new r_(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,_,r){return this.normal.set(e,t,_),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,_){const r=la.subVectors(_,t).cross(pa.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const _=e.delta(la),r=this.normal.dot(_);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(_).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),_=this.distanceToPoint(e.end);return t<0&&_>0||_<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const _=t||ua.getNormalMatrix(e),r=this.coplanarPoint(la).applyMatrix4(e),a=this.normal.applyMatrix3(_).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}fa.prototype.isPlane=!0;const ha=new S_,da=new r_;class ma{constructor(e=new fa,t=new fa,_=new fa,r=new fa,a=new fa,n=new fa){this.planes=[e,t,_,r,a,n]}set(e,t,_,r,a,n){const i=this.planes;return i[0].copy(e),i[1].copy(t),i[2].copy(_),i[3].copy(r),i[4].copy(a),i[5].copy(n),this}copy(e){const t=this.planes;for(let _=0;_<6;_++)t[_].copy(e.planes[_]);return this}setFromProjectionMatrix(e){const t=this.planes,_=e.elements,r=_[0],a=_[1],n=_[2],i=_[3],s=_[4],o=_[5],c=_[6],l=_[7],p=_[8],u=_[9],f=_[10],h=_[11],d=_[12],m=_[13],y=_[14],g=_[15];return t[0].setComponents(i-r,l-s,h-p,g-d).normalize(),t[1].setComponents(i+r,l+s,h+p,g+d).normalize(),t[2].setComponents(i+a,l+o,h+u,g+m).normalize(),t[3].setComponents(i-a,l-o,h-u,g-m).normalize(),t[4].setComponents(i-n,l-c,h-f,g-y).normalize(),t[5].setComponents(i+n,l+c,h+f,g+y).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ha.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ha)}intersectsSprite(e){return ha.center.set(0,0,0),ha.radius=.7071067811865476,ha.applyMatrix4(e.matrixWorld),this.intersectsSphere(ha)}intersectsSphere(e){const t=this.planes,_=e.center,r=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(_)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let _=0;_<6;_++){const r=t[_];if(da.x=r.normal.x>0?e.max.x:e.min.x,da.y=r.normal.y>0?e.max.y:e.min.y,da.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(da)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let _=0;_<6;_++)if(t[_].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function ya(){let e=null,t=!1,_=null,r=null;function a(t,n){_(t,n),r=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==_&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){_=e},setContext:function(t){e=t}}}function ga(e,t){const _=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const _=r.get(t);_&&(e.deleteBuffer(_.buffer),r.delete(t))},update:function(t,a){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);void 0===n?r.set(t,function(t,r){const a=t.array,n=t.usage,i=e.createBuffer();let s;if(e.bindBuffer(r,i),e.bufferData(r,a,n),t.onUploadCallback(),a instanceof Float32Array)s=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!_)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(a instanceof Int16Array)s=5122;else if(a instanceof Uint32Array)s=5125;else if(a instanceof Int32Array)s=5124;else if(a instanceof Int8Array)s=5120;else if(a instanceof Uint8Array)s=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);s=5121}return{buffer:i,type:s,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,a)):n.version<t.version&&(function(t,r,a){const n=r.array,i=r.updateRange;e.bindBuffer(a,t),-1===i.count?e.bufferSubData(a,0,n):(_?e.bufferSubData(a,i.offset*n.BYTES_PER_ELEMENT,n,i.offset,i.count):e.bufferSubData(a,i.offset*n.BYTES_PER_ELEMENT,n.subarray(i.offset,i.offset+i.count)),i.count=-1)}(n.buffer,t,a),n.version=t.version)}}}class va extends Dr{constructor(e=1,t=1,_=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:_,heightSegments:r};const a=e/2,n=t/2,i=Math.floor(_),s=Math.floor(r),o=i+1,c=s+1,l=e/i,p=t/s,u=[],f=[],h=[],d=[];for(let e=0;e<c;e++){const t=e*p-n;for(let _=0;_<o;_++){const r=_*l-a;f.push(r,-t,0),h.push(0,0,1),d.push(_/i),d.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<i;t++){const _=t+o*e,r=t+o*(e+1),a=t+1+o*(e+1),n=t+1+o*e;u.push(_,r,n),u.push(r,a,n)}this.setIndex(u),this.setAttribute("position",new Sr(f,3)),this.setAttribute("normal",new Sr(h,3)),this.setAttribute("uv",new Sr(d,2))}static fromJSON(e){return new va(e.width,e.height,e.widthSegments,e.heightSegments)}}const $a={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},xa={common:{diffuse:{value:new Nt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rt},uv2Transform:{value:new Rt},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new At(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rt}},sprite:{diffuse:{value:new Nt(16777215)},opacity:{value:1},center:{value:new At(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rt}}},ba={basic:{uniforms:ta([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.fog]),vertexShader:$a.meshbasic_vert,fragmentShader:$a.meshbasic_frag},lambert:{uniforms:ta([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.fog,xa.lights,{emissive:{value:new Nt(0)}}]),vertexShader:$a.meshlambert_vert,fragmentShader:$a.meshlambert_frag},phong:{uniforms:ta([xa.common,xa.specularmap,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.fog,xa.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:$a.meshphong_vert,fragmentShader:$a.meshphong_frag},standard:{uniforms:ta([xa.common,xa.envmap,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.roughnessmap,xa.metalnessmap,xa.fog,xa.lights,{emissive:{value:new Nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$a.meshphysical_vert,fragmentShader:$a.meshphysical_frag},toon:{uniforms:ta([xa.common,xa.aomap,xa.lightmap,xa.emissivemap,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.gradientmap,xa.fog,xa.lights,{emissive:{value:new Nt(0)}}]),vertexShader:$a.meshtoon_vert,fragmentShader:$a.meshtoon_frag},matcap:{uniforms:ta([xa.common,xa.bumpmap,xa.normalmap,xa.displacementmap,xa.fog,{matcap:{value:null}}]),vertexShader:$a.meshmatcap_vert,fragmentShader:$a.meshmatcap_frag},points:{uniforms:ta([xa.points,xa.fog]),vertexShader:$a.points_vert,fragmentShader:$a.points_frag},dashed:{uniforms:ta([xa.common,xa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$a.linedashed_vert,fragmentShader:$a.linedashed_frag},depth:{uniforms:ta([xa.common,xa.displacementmap]),vertexShader:$a.depth_vert,fragmentShader:$a.depth_frag},normal:{uniforms:ta([xa.common,xa.bumpmap,xa.normalmap,xa.displacementmap,{opacity:{value:1}}]),vertexShader:$a.meshnormal_vert,fragmentShader:$a.meshnormal_frag},sprite:{uniforms:ta([xa.sprite,xa.fog]),vertexShader:$a.sprite_vert,fragmentShader:$a.sprite_frag},background:{uniforms:{uvTransform:{value:new Rt},t2D:{value:null}},vertexShader:$a.background_vert,fragmentShader:$a.background_frag},cube:{uniforms:ta([xa.envmap,{opacity:{value:1}}]),vertexShader:$a.cube_vert,fragmentShader:$a.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$a.equirect_vert,fragmentShader:$a.equirect_frag},distanceRGBA:{uniforms:ta([xa.common,xa.displacementmap,{referencePosition:{value:new r_},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$a.distanceRGBA_vert,fragmentShader:$a.distanceRGBA_frag},shadow:{uniforms:ta([xa.lights,xa.fog,{color:{value:new Nt(0)},opacity:{value:1}}]),vertexShader:$a.shadow_vert,fragmentShader:$a.shadow_frag}};function Ia(e,t,_,r,a,n){const i=new Nt(0);let c,l,p=!0===a?0:1,u=null,f=0,h=null;function d(e,t){_.buffers.color.setClear(e.r,e.g,e.b,t,n)}return{getClearColor:function(){return i},setClearColor:function(e,t=1){i.set(e),p=t,d(i,p)},getClearAlpha:function(){return p},setClearAlpha:function(e){p=e,d(i,p)},render:function(_,a){let n=!1,m=!0===a.isScene?a.background:null;m&&m.isTexture&&(m=t.get(m));const y=e.xr,g=y.getSession&&y.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?d(i,p):m&&m.isColor&&(d(m,1),n=!0),(e.autoClear||n)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===K)?(void 0===l&&(l=new Yr(new Kr(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:ea(ba.cube.uniforms),vertexShader:ba.cube.vertexShader,fragmentShader:ba.cube.fragmentShader,side:o,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,u===m&&f===m.version&&h===e.toneMapping||(l.material.needsUpdate=!0,u=m,f=m.version,h=e.toneMapping),l.layers.enableAll(),_.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(void 0===c&&(c=new Yr(new va(2,2),new ra({name:"BackgroundMaterial",uniforms:ea(ba.background.uniforms),vertexShader:ba.background.vertexShader,fragmentShader:ba.background.fragmentShader,side:s,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),c.material.uniforms.uvTransform.value.copy(m.matrix),u===m&&f===m.version&&h===e.toneMapping||(c.material.needsUpdate=!0,u=m,f=m.version,h=e.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}}}function La(e,t,_,r){const a=e.getParameter(34921),n=r.isWebGL2?null:t.get("OES_vertex_array_object"),i=r.isWebGL2||null!==n,s={},o=f(null);let c=o,l=!1;function p(t){return r.isWebGL2?e.bindVertexArray(t):n.bindVertexArrayOES(t)}function u(t){return r.isWebGL2?e.deleteVertexArray(t):n.deleteVertexArrayOES(t)}function f(e){const t=[],_=[],r=[];for(let e=0;e<a;e++)t[e]=0,_[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:_,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){const e=c.newAttributes;for(let t=0,_=e.length;t<_;t++)e[t]=0}function d(e){m(e,0)}function m(_,a){const n=c.newAttributes,i=c.enabledAttributes,s=c.attributeDivisors;n[_]=1,0===i[_]&&(e.enableVertexAttribArray(_),i[_]=1),s[_]!==a&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](_,a),s[_]=a)}function y(){const t=c.newAttributes,_=c.enabledAttributes;for(let r=0,a=_.length;r<a;r++)_[r]!==t[r]&&(e.disableVertexAttribArray(r),_[r]=0)}function g(t,_,a,n,i,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,_,a,n,i,s):e.vertexAttribIPointer(t,_,a,i,s)}function v(){$(),l=!0,c!==o&&(c=o,p(c.object))}function $(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:function(a,o,u,v,$){let x=!1;if(i){const t=function(t,_,a){const i=!0===a.wireframe;let o=s[t.id];void 0===o&&(o={},s[t.id]=o);let c=o[_.id];void 0===c&&(c={},o[_.id]=c);let l=c[i];return void 0===l&&(l=f(r.isWebGL2?e.createVertexArray():n.createVertexArrayOES()),c[i]=l),l}(v,u,o);c!==t&&(c=t,p(c.object)),x=function(e,t,_,r){const a=c.attributes,n=t.attributes;let i=0;const s=_.getAttributes();for(const t in s)if(s[t].location>=0){const _=a[t];let r=n[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===_)return!0;if(_.attribute!==r)return!0;if(r&&_.data!==r.data)return!0;i++}return c.attributesNum!==i||c.index!==r}(a,v,u,$),x&&function(e,t,_,r){const a={},n=t.attributes;let i=0;const s=_.getAttributes();for(const t in s)if(s[t].location>=0){let _=n[t];void 0===_&&("instanceMatrix"===t&&e.instanceMatrix&&(_=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(_=e.instanceColor));const r={};r.attribute=_,_&&_.data&&(r.data=_.data),a[t]=r,i++}c.attributes=a,c.attributesNum=i,c.index=r}(a,v,u,$)}else{const e=!0===o.wireframe;c.geometry===v.id&&c.program===u.id&&c.wireframe===e||(c.geometry=v.id,c.program=u.id,c.wireframe=e,x=!0)}null!==$&&_.update($,34963),(x||l)&&(l=!1,function(a,n,i,s){if(!1===r.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();const o=s.attributes,c=i.getAttributes(),l=n.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let n=o[t];if(void 0===n&&("instanceMatrix"===t&&a.instanceMatrix&&(n=a.instanceMatrix),"instanceColor"===t&&a.instanceColor&&(n=a.instanceColor)),void 0!==n){const t=n.normalized,i=n.itemSize,o=_.get(n);if(void 0===o)continue;const c=o.buffer,l=o.type,p=o.bytesPerElement;if(n.isInterleavedBufferAttribute){const _=n.data,o=_.stride,u=n.offset;if(_.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)m(r.location+e,_.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=_.meshPerAttribute*_.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)g(r.location+e,i/r.locationSize,l,t,o*p,(u+i/r.locationSize*e)*p)}else{if(n.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)m(r.location+e,n.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)g(r.location+e,i/r.locationSize,l,t,i*p,i/r.locationSize*e*p)}}else if(void 0!==l){const _=l[t];if(void 0!==_)switch(_.length){case 2:e.vertexAttrib2fv(r.location,_);break;case 3:e.vertexAttrib3fv(r.location,_);break;case 4:e.vertexAttrib4fv(r.location,_);break;default:e.vertexAttrib1fv(r.location,_)}}}}y()}(a,o,u,v),null!==$&&e.bindBuffer(34963,_.get($).buffer))},reset:v,resetDefaultState:$,dispose:function(){v();for(const e in s){const t=s[e];for(const e in t){const _=t[e];for(const e in _)u(_[e].object),delete _[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const _=t[e];for(const e in _)u(_[e].object),delete _[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const _=s[t];if(void 0===_[e.id])continue;const r=_[e.id];for(const e in r)u(r[e].object),delete r[e];delete _[e.id]}},initAttributes:h,enableAttribute:d,disableUnusedAttributes:y}}function Sa(e,t,_,r){const a=r.isWebGL2;let n;this.setMode=function(e){n=e},this.render=function(t,r){e.drawArrays(n,t,r),_.update(r,n,1)},this.renderInstances=function(r,i,s){if(0===s)return;let o,c;if(a)o=e,c="drawArraysInstanced";else if(o=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===o)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");o[c](n,r,i,s),_.update(i,n,s)}}function Ma(e,t,_){let r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const n="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let i=void 0!==_.precision?_.precision:"highp";const s=a(i);s!==i&&(console.warn("THREE.WebGLRenderer:",i,"not supported, using",s,"instead."),i=s);const o=n||t.has("WEBGL_draw_buffers"),c=!0===_.logarithmicDepthBuffer,l=e.getParameter(34930),p=e.getParameter(35660),u=e.getParameter(3379),f=e.getParameter(34076),h=e.getParameter(34921),d=e.getParameter(36347),m=e.getParameter(36348),y=e.getParameter(36349),g=p>0,v=n||t.has("OES_texture_float");return{isWebGL2:n,drawBuffers:o,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const _=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:i,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:p,maxTextureSize:u,maxCubemapSize:f,maxAttributes:h,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:y,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v,maxSamples:n?e.getParameter(36183):0}}function wa(e){const t=this;let _=null,r=0,a=!1,n=!1;const i=new fa,s=new Rt,o={value:null,needsUpdate:!1};function c(){o.value!==_&&(o.value=_,o.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function l(e,_,r,a){const n=null!==e?e.length:0;let c=null;if(0!==n){if(c=o.value,!0!==a||null===c){const t=r+4*n,a=_.matrixWorldInverse;s.getNormalMatrix(a),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,_=r;t!==n;++t,_+=4)i.copy(e[t]).applyMatrix4(a,s),i.normal.toArray(c,_),c[_+3]=i.constant}o.value=c,o.needsUpdate=!0}return t.numPlanes=n,t.numIntersection=0,c}this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,n){const i=0!==e.length||t||0!==r||a;return a=t,_=l(e,n,0),r=e.length,i},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,c()},this.setState=function(t,i,s){const p=t.clippingPlanes,u=t.clipIntersection,f=t.clipShadows,h=e.get(t);if(!a||null===p||0===p.length||n&&!f)n?l(null):c();else{const e=n?0:r,t=4*e;let a=h.clippingState||null;o.value=a,a=l(p,i,t,s);for(let e=0;e!==t;++e)a[e]=_[e];h.clippingState=a,this.numIntersection=u?this.numPlanes:0,this.numPlanes+=e}}}function Oa(e){let t=new WeakMap;function _(e,t){return t===Y?e.mapping=X:t===Q&&(e.mapping=J),e}function r(e){const _=e.target;_.removeEventListener("dispose",r);const a=t.get(_);void 0!==a&&(t.delete(_),a.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const n=a.mapping;if(n===Y||n===Q){if(t.has(a))return _(t.get(a).texture,a.mapping);{const n=a.image;if(n&&n.height>0){const i=new ca(n.height/2);return i.fromEquirectangularTexture(e,a),t.set(a,i),a.addEventListener("dispose",r),_(i.texture,a.mapping)}return null}}}return a},dispose:function(){t=new WeakMap}}}ba.physical={uniforms:ta([ba.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new At(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Nt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new At},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Nt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Nt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$a.meshphysical_vert,fragmentShader:$a.meshphysical_frag};class Ca extends aa{constructor(e=-1,t=1,_=1,r=-1,a=.1,n=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=_,this.bottom=r,this.near=a,this.far=n,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,_,r,a,n){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=_,this.view.offsetY=r,this.view.width=a,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),_=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=_-e,n=_+e,i=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=e*this.view.offsetX,n=a+e*this.view.width,i-=t*this.view.offsetY,s=i-t*this.view.height}this.projectionMatrix.makeOrthographic(a,n,i,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Ca.prototype.isOrthographicCamera=!0;const Ta=[.125,.215,.35,.446,.526,.582],Aa=20,Ra=new Ca,Da=new Nt;let Ea=null;const Ba=(1+Math.sqrt(5))/2,Va=1/Ba,qa=[new r_(1,1,1),new r_(-1,1,1),new r_(1,1,-1),new r_(-1,1,-1),new r_(0,Ba,Va),new r_(0,Ba,-Va),new r_(Va,0,Ba),new r_(-Va,0,Ba),new r_(Ba,Va,0),new r_(-Ba,Va,0)];class Ha{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,_=.1,r=100){Ea=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,_,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=za(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Fa(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ea),e.scissorTest=!1,ja(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===X||e.mapping===J?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ea=this._renderer.getRenderTarget();const _=t||this._allocateTargets();return this._textureToCubeUV(e,_),this._applyPMREM(_),this._cleanup(_),_}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,_={magFilter:ie,minFilter:ie,generateMipmaps:!1,type:me,format:be,encoding:lt,depthBuffer:!1},r=Pa(e,t,_);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Pa(e,t,_);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],_=[],r=[];let a=e;const n=e-4+1+Ta.length;for(let i=0;i<n;i++){const n=Math.pow(2,a);_.push(n);let s=1/n;i>e-4?s=Ta[i-e+4-1]:0===i&&(s=0),r.push(s);const o=1/(n-2),c=-o,l=1+o,p=[c,c,l,c,l,l,c,c,l,l,c,l],u=6,f=6,h=3,d=2,m=1,y=new Float32Array(h*f*u),g=new Float32Array(d*f*u),v=new Float32Array(m*f*u);for(let e=0;e<u;e++){const t=e%3*2/3-1,_=e>2?0:-1,r=[t,_,0,t+2/3,_,0,t+2/3,_+1,0,t,_,0,t+2/3,_+1,0,t,_+1,0];y.set(r,h*f*e),g.set(p,d*f*e);const a=[e,e,e,e,e,e];v.set(a,m*f*e)}const $=new Dr;$.setAttribute("position",new br(y,h)),$.setAttribute("uv",new br(g,d)),$.setAttribute("faceIndex",new br(v,m)),t.push($),a>4&&a--}return{lodPlanes:t,sizeLods:_,sigmas:r}}(r)),this._blurMaterial=function(e,t,_){const r=new Float32Array(Aa),a=new r_(0,1,0);return new ra({name:"SphericalGaussianBlur",defines:{n:Aa,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/_,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:l,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){const t=new Yr(this._lodPlanes[0],e);this._renderer.compile(t,Ra)}_sceneToCubeUV(e,t,_,r){const a=new na(90,1,t,_),n=[1,-1,1,1,1,1],i=[1,1,1,-1,-1,-1],s=this._renderer,c=s.autoClear,l=s.toneMapping;s.getClearColor(Da),s.toneMapping=k,s.autoClear=!1;const p=new vr({name:"PMREM.Background",side:o,depthWrite:!1,depthTest:!1}),u=new Yr(new Kr,p);let f=!1;const h=e.background;h?h.isColor&&(p.color.copy(h),e.background=null,f=!0):(p.color.copy(Da),f=!0);for(let t=0;t<6;t++){const _=t%3;0===_?(a.up.set(0,n[t],0),a.lookAt(i[t],0,0)):1===_?(a.up.set(0,0,n[t]),a.lookAt(0,i[t],0)):(a.up.set(0,n[t],0),a.lookAt(0,0,i[t]));const o=this._cubeSize;ja(r,_*o,t>2?o:0,o,o),s.setRenderTarget(r),f&&s.render(u,a),s.render(e,a)}u.geometry.dispose(),u.material.dispose(),s.toneMapping=l,s.autoClear=c,e.background=h}_textureToCubeUV(e,t){const _=this._renderer,r=e.mapping===X||e.mapping===J;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=za()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Fa());const a=r?this._cubemapMaterial:this._equirectMaterial,n=new Yr(this._lodPlanes[0],a);a.uniforms.envMap.value=e;const i=this._cubeSize;ja(t,0,0,3*i,2*i),_.setRenderTarget(t),_.render(n,Ra)}_applyPMREM(e){const t=this._renderer,_=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const _=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=qa[(t-1)%qa.length];this._blur(e,t-1,t,_,r)}t.autoClear=_}_blur(e,t,_,r,a){const n=this._pingPongRenderTarget;this._halfBlur(e,n,t,_,r,"latitudinal",a),this._halfBlur(n,e,_,_,r,"longitudinal",a)}_halfBlur(e,t,_,r,a,n,i){const s=this._renderer,o=this._blurMaterial;"latitudinal"!==n&&"longitudinal"!==n&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Yr(this._lodPlanes[r],o),l=o.uniforms,p=this._sizeLods[_]-1,u=isFinite(a)?Math.PI/(2*p):2*Math.PI/39,f=a/u,h=isFinite(a)?1+Math.floor(3*f):Aa;h>Aa&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${h} samples when the maximum is set to 20`);const d=[];let m=0;for(let e=0;e<Aa;++e){const t=e/f,_=Math.exp(-t*t/2);d.push(_),0===e?m+=_:e<h&&(m+=2*_)}for(let e=0;e<d.length;e++)d[e]=d[e]/m;l.envMap.value=e.texture,l.samples.value=h,l.weights.value=d,l.latitudinal.value="latitudinal"===n,i&&(l.poleAxis.value=i);const{_lodMax:y}=this;l.dTheta.value=u,l.mipInt.value=y-_;const g=this._sizeLods[r];ja(t,3*g*(r>y-4?r-y+4:0),4*(this._cubeSize-g),3*g,2*g),s.setRenderTarget(t),s.render(c,Ra)}}function Pa(e,t,_){const r=new Kt(e,t,_);return r.texture.mapping=K,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ja(e,t,_,r,a){e.viewport.set(t,_,r,a),e.scissor.set(t,_,r,a)}function Fa(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:l,depthTest:!1,depthWrite:!1})}function za(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:l,depthTest:!1,depthWrite:!1})}function ka(e){let t=new WeakMap,_=null;function r(e){const _=e.target;_.removeEventListener("dispose",r);const a=t.get(_);void 0!==a&&(t.delete(_),a.dispose())}return{get:function(a){if(a&&a.isTexture){const n=a.mapping,i=n===Y||n===Q,s=n===X||n===J;if(i||s){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let r=t.get(a);return null===_&&(_=new Ha(e)),r=i?_.fromEquirectangular(a,r):_.fromCubemap(a,r),t.set(a,r),r.texture}if(t.has(a))return t.get(a).texture;{const n=a.image;if(i&&n&&n.height>0||s&&n&&function(e){let t=0;for(let _=0;_<6;_++)void 0!==e[_]&&t++;return 6===t}(n)){null===_&&(_=new Ha(e));const n=i?_.fromEquirectangular(a):_.fromCubemap(a);return t.set(a,n),a.addEventListener("dispose",r),n.texture}return null}}}return a},dispose:function(){t=new WeakMap,null!==_&&(_.dispose(),_=null)}}}function Ga(e){const t={};function _(_){if(void 0!==t[_])return t[_];let r;switch(_){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(_)}return t[_]=r,r}return{has:function(e){return null!==_(e)},init:function(e){e.isWebGL2?_("EXT_color_buffer_float"):(_("WEBGL_depth_texture"),_("OES_texture_float"),_("OES_texture_half_float"),_("OES_texture_half_float_linear"),_("OES_standard_derivatives"),_("OES_element_index_uint"),_("OES_vertex_array_object"),_("ANGLE_instanced_arrays")),_("OES_texture_float_linear"),_("EXT_color_buffer_half_float"),_("WEBGL_multisampled_render_to_texture")},get:function(e){const t=_(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Na(e,t,_,r){const a={},n=new WeakMap;function i(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",i),delete a[s.id];const o=n.get(s);o&&(t.remove(o),n.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,_.memory.geometries--}function s(e){const _=[],r=e.index,a=e.attributes.position;let i=0;if(null!==r){const e=r.array;i=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],a=e[t+1],n=e[t+2];_.push(r,a,a,n,n,r)}}else{const e=a.array;i=a.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,a=t+2;_.push(e,r,r,a,a,e)}}const s=new(Dt(_)?Lr:Ir)(_,1);s.version=i;const o=n.get(e);o&&t.remove(o),n.set(e,s)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",i),a[t.id]=!0,_.memory.geometries++),t},update:function(e){const _=e.attributes;for(const e in _)t.update(_[e],34962);const r=e.morphAttributes;for(const e in r){const _=r[e];for(let e=0,r=_.length;e<r;e++)t.update(_[e],34962)}},getWireframeAttribute:function(e){const t=n.get(e);if(t){const _=e.index;null!==_&&t.version<_.version&&s(e)}else s(e);return n.get(e)}}}function Wa(e,t,_,r){const a=r.isWebGL2;let n,i,s;this.setMode=function(e){n=e},this.setIndex=function(e){i=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(n,r,i,t*s),_.update(r,n,1)},this.renderInstances=function(r,o,c){if(0===c)return;let l,p;if(a)l=e,p="drawElementsInstanced";else if(l=t.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",null===l)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[p](n,o,i,r*s,c),_.update(o,n,c)}}function Ua(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,_,r){switch(t.calls++,_){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",_)}}}}function Za(e,t){return e[0]-t[0]}function Xa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ja(e,t){let _=1;const r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?_=127:r instanceof Int16Array?_=32767:r instanceof Int32Array?_=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(_)}function Ya(e,t,_){const r={},a=new Float32Array(8),n=new WeakMap,i=new Qt,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(o,c,l,p){const u=o.morphTargetInfluences;if(!0===t.isWebGL2){const f=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,h=void 0!==f?f.length:0;let d=n.get(c);if(void 0===d||d.count!==h){void 0!==d&&d.texture.dispose();const g=void 0!==c.morphAttributes.position,v=void 0!==c.morphAttributes.normal,$=void 0!==c.morphAttributes.color,x=c.morphAttributes.position||[],b=c.morphAttributes.normal||[],I=c.morphAttributes.color||[];let L=0;!0===g&&(L=1),!0===v&&(L=2),!0===$&&(L=3);let S=c.attributes.position.count*L,M=1;S>t.maxTextureSize&&(M=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);const w=new Float32Array(S*M*4*h),O=new e_(w,S,M,h);O.type=de,O.needsUpdate=!0;const C=4*L;for(let A=0;A<h;A++){const R=x[A],D=b[A],E=I[A],B=S*M*4*A;for(let V=0;V<R.count;V++){const q=V*C;!0===g&&(i.fromBufferAttribute(R,V),!0===R.normalized&&Ja(i,R),w[B+q+0]=i.x,w[B+q+1]=i.y,w[B+q+2]=i.z,w[B+q+3]=0),!0===v&&(i.fromBufferAttribute(D,V),!0===D.normalized&&Ja(i,D),w[B+q+4]=i.x,w[B+q+5]=i.y,w[B+q+6]=i.z,w[B+q+7]=0),!0===$&&(i.fromBufferAttribute(E,V),!0===E.normalized&&Ja(i,E),w[B+q+8]=i.x,w[B+q+9]=i.y,w[B+q+10]=i.z,w[B+q+11]=4===E.itemSize?i.w:1)}}function T(){O.dispose(),n.delete(c),c.removeEventListener("dispose",T)}d={count:h,texture:O,size:new At(S,M)},n.set(c,d),c.addEventListener("dispose",T)}let m=0;for(let H=0;H<u.length;H++)m+=u[H];const y=c.morphTargetsRelative?1:1-m;p.getUniforms().setValue(e,"morphTargetBaseInfluence",y),p.getUniforms().setValue(e,"morphTargetInfluences",u),p.getUniforms().setValue(e,"morphTargetsTexture",d.texture,_),p.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}else{const P=void 0===u?0:u.length;let j=r[c.id];if(void 0===j||j.length!==P){j=[];for(let N=0;N<P;N++)j[N]=[N,0];r[c.id]=j}for(let W=0;W<P;W++){const U=j[W];U[0]=W,U[1]=u[W]}j.sort(Xa);for(let Z=0;Z<8;Z++)Z<P&&j[Z][1]?(s[Z][0]=j[Z][0],s[Z][1]=j[Z][1]):(s[Z][0]=Number.MAX_SAFE_INTEGER,s[Z][1]=0);s.sort(Za);const F=c.morphAttributes.position,z=c.morphAttributes.normal;let k=0;for(let X=0;X<8;X++){const J=s[X],Y=J[0],Q=J[1];Y!==Number.MAX_SAFE_INTEGER&&Q?(F&&c.getAttribute("morphTarget"+X)!==F[Y]&&c.setAttribute("morphTarget"+X,F[Y]),z&&c.getAttribute("morphNormal"+X)!==z[Y]&&c.setAttribute("morphNormal"+X,z[Y]),a[X]=Q,k+=Q):(F&&!0===c.hasAttribute("morphTarget"+X)&&c.deleteAttribute("morphTarget"+X),z&&!0===c.hasAttribute("morphNormal"+X)&&c.deleteAttribute("morphNormal"+X),a[X]=0)}const G=c.morphTargetsRelative?1:1-k;p.getUniforms().setValue(e,"morphTargetBaseInfluence",G),p.getUniforms().setValue(e,"morphTargetInfluences",a)}}}}function Qa(e,t,_,r){let a=new WeakMap;function n(e){const t=e.target;t.removeEventListener("dispose",n),_.remove(t.instanceMatrix),null!==t.instanceColor&&_.remove(t.instanceColor)}return{update:function(e){const i=r.render.frame,s=e.geometry,o=t.get(e,s);return a.get(o)!==i&&(t.update(o),a.set(o,i)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",n)&&e.addEventListener("dispose",n),_.update(e.instanceMatrix,34962),null!==e.instanceColor&&_.update(e.instanceColor,34962)),o},dispose:function(){a=new WeakMap}}}const Ka=new Yt,en=new e_,tn=new t_,_n=new oa,rn=[],an=[],nn=new Float32Array(16),sn=new Float32Array(9),on=new Float32Array(4);function cn(e,t,_){const r=e[0];if(r<=0||r>0)return e;const a=t*_;let n=rn[a];if(void 0===n&&(n=new Float32Array(a),rn[a]=n),0!==t){r.toArray(n,0);for(let r=1,a=0;r!==t;++r)a+=_,e[r].toArray(n,a)}return n}function ln(e,t){if(e.length!==t.length)return!1;for(let _=0,r=e.length;_<r;_++)if(e[_]!==t[_])return!1;return!0}function pn(e,t){for(let _=0,r=t.length;_<r;_++)e[_]=t[_]}function un(e,t){let _=an[t];void 0===_&&(_=new Int32Array(t),an[t]=_);for(let r=0;r!==t;++r)_[r]=e.allocateTextureUnit();return _}function fn(e,t){const _=this.cache;_[0]!==t&&(e.uniform1f(this.addr,t),_[0]=t)}function hn(e,t){const _=this.cache;if(void 0!==t.x)_[0]===t.x&&_[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),_[0]=t.x,_[1]=t.y);else{if(ln(_,t))return;e.uniform2fv(this.addr,t),pn(_,t)}}function dn(e,t){const _=this.cache;if(void 0!==t.x)_[0]===t.x&&_[1]===t.y&&_[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),_[0]=t.x,_[1]=t.y,_[2]=t.z);else if(void 0!==t.r)_[0]===t.r&&_[1]===t.g&&_[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),_[0]=t.r,_[1]=t.g,_[2]=t.b);else{if(ln(_,t))return;e.uniform3fv(this.addr,t),pn(_,t)}}function mn(e,t){const _=this.cache;if(void 0!==t.x)_[0]===t.x&&_[1]===t.y&&_[2]===t.z&&_[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),_[0]=t.x,_[1]=t.y,_[2]=t.z,_[3]=t.w);else{if(ln(_,t))return;e.uniform4fv(this.addr,t),pn(_,t)}}function yn(e,t){const _=this.cache,r=t.elements;if(void 0===r){if(ln(_,t))return;e.uniformMatrix2fv(this.addr,!1,t),pn(_,t)}else{if(ln(_,r))return;on.set(r),e.uniformMatrix2fv(this.addr,!1,on),pn(_,r)}}function gn(e,t){const _=this.cache,r=t.elements;if(void 0===r){if(ln(_,t))return;e.uniformMatrix3fv(this.addr,!1,t),pn(_,t)}else{if(ln(_,r))return;sn.set(r),e.uniformMatrix3fv(this.addr,!1,sn),pn(_,r)}}function vn(e,t){const _=this.cache,r=t.elements;if(void 0===r){if(ln(_,t))return;e.uniformMatrix4fv(this.addr,!1,t),pn(_,t)}else{if(ln(_,r))return;nn.set(r),e.uniformMatrix4fv(this.addr,!1,nn),pn(_,r)}}function $n(e,t){const _=this.cache;_[0]!==t&&(e.uniform1i(this.addr,t),_[0]=t)}function xn(e,t){const _=this.cache;ln(_,t)||(e.uniform2iv(this.addr,t),pn(_,t))}function bn(e,t){const _=this.cache;ln(_,t)||(e.uniform3iv(this.addr,t),pn(_,t))}function In(e,t){const _=this.cache;ln(_,t)||(e.uniform4iv(this.addr,t),pn(_,t))}function Ln(e,t){const _=this.cache;_[0]!==t&&(e.uniform1ui(this.addr,t),_[0]=t)}function Sn(e,t){const _=this.cache;ln(_,t)||(e.uniform2uiv(this.addr,t),pn(_,t))}function Mn(e,t){const _=this.cache;ln(_,t)||(e.uniform3uiv(this.addr,t),pn(_,t))}function wn(e,t){const _=this.cache;ln(_,t)||(e.uniform4uiv(this.addr,t),pn(_,t))}function On(e,t,_){const r=this.cache,a=_.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),_.setTexture2D(t||Ka,a)}function Cn(e,t,_){const r=this.cache,a=_.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),_.setTexture3D(t||tn,a)}function Tn(e,t,_){const r=this.cache,a=_.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),_.setTextureCube(t||_n,a)}function An(e,t,_){const r=this.cache,a=_.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),_.setTexture2DArray(t||en,a)}function Rn(e,t){e.uniform1fv(this.addr,t)}function Dn(e,t){const _=cn(t,this.size,2);e.uniform2fv(this.addr,_)}function En(e,t){const _=cn(t,this.size,3);e.uniform3fv(this.addr,_)}function Bn(e,t){const _=cn(t,this.size,4);e.uniform4fv(this.addr,_)}function Vn(e,t){const _=cn(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,_)}function qn(e,t){const _=cn(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,_)}function Hn(e,t){const _=cn(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,_)}function Pn(e,t){e.uniform1iv(this.addr,t)}function jn(e,t){e.uniform2iv(this.addr,t)}function Fn(e,t){e.uniform3iv(this.addr,t)}function zn(e,t){e.uniform4iv(this.addr,t)}function kn(e,t){e.uniform1uiv(this.addr,t)}function Gn(e,t){e.uniform2uiv(this.addr,t)}function Nn(e,t){e.uniform3uiv(this.addr,t)}function Wn(e,t){e.uniform4uiv(this.addr,t)}function Un(e,t,_){const r=t.length,a=un(_,r);e.uniform1iv(this.addr,a);for(let e=0;e!==r;++e)_.setTexture2D(t[e]||Ka,a[e])}function Zn(e,t,_){const r=t.length,a=un(_,r);e.uniform1iv(this.addr,a);for(let e=0;e!==r;++e)_.setTexture3D(t[e]||tn,a[e])}function Xn(e,t,_){const r=t.length,a=un(_,r);e.uniform1iv(this.addr,a);for(let e=0;e!==r;++e)_.setTextureCube(t[e]||_n,a[e])}function Jn(e,t,_){const r=t.length,a=un(_,r);e.uniform1iv(this.addr,a);for(let e=0;e!==r;++e)_.setTexture2DArray(t[e]||en,a[e])}function Yn(e,t,_){this.id=e,this.addr=_,this.cache=[],this.setValue=function(e){switch(e){case 5126:return fn;case 35664:return hn;case 35665:return dn;case 35666:return mn;case 35674:return yn;case 35675:return gn;case 35676:return vn;case 5124:case 35670:return $n;case 35667:case 35671:return xn;case 35668:case 35672:return bn;case 35669:case 35673:return In;case 5125:return Ln;case 36294:return Sn;case 36295:return Mn;case 36296:return wn;case 35678:case 36198:case 36298:case 36306:case 35682:return On;case 35679:case 36299:case 36307:return Cn;case 35680:case 36300:case 36308:case 36293:return Tn;case 36289:case 36303:case 36311:case 36292:return An}}(t.type)}function Qn(e,t,_){this.id=e,this.addr=_,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Rn;case 35664:return Dn;case 35665:return En;case 35666:return Bn;case 35674:return Vn;case 35675:return qn;case 35676:return Hn;case 5124:case 35670:return Pn;case 35667:case 35671:return jn;case 35668:case 35672:return Fn;case 35669:case 35673:return zn;case 5125:return kn;case 36294:return Gn;case 36295:return Nn;case 36296:return Wn;case 35678:case 36198:case 36298:case 36306:case 35682:return Un;case 35679:case 36299:case 36307:return Zn;case 35680:case 36300:case 36308:case 36293:return Xn;case 36289:case 36303:case 36311:case 36292:return Jn}}(t.type)}function Kn(e){this.id=e,this.seq=[],this.map={}}Kn.prototype.setValue=function(e,t,_){const r=this.seq;for(let a=0,n=r.length;a!==n;++a){const n=r[a];n.setValue(e,t[n.id],_)}};const ei=/(\w+)(\])?(\[|\.)?/g;function ti(e,t){e.seq.push(t),e.map[t.id]=t}function _i(e,t,_){const r=e.name,a=r.length;for(ei.lastIndex=0;;){const n=ei.exec(r),i=ei.lastIndex;let s=n[1];const o="]"===n[2],c=n[3];if(o&&(s|=0),void 0===c||"["===c&&i+2===a){ti(_,void 0===c?new Yn(s,e,t):new Qn(s,e,t));break}{let e=_.map[s];void 0===e&&(e=new Kn(s),ti(_,e)),_=e}}}function ri(e,t){this.seq=[],this.map={};const _=e.getProgramParameter(t,35718);for(let r=0;r<_;++r){const _=e.getActiveUniform(t,r);_i(_,e.getUniformLocation(t,_.name),this)}}function ai(e,t,_){const r=e.createShader(t);return e.shaderSource(r,_),e.compileShader(r),r}ri.prototype.setValue=function(e,t,_,r){const a=this.map[t];void 0!==a&&a.setValue(e,_,r)},ri.prototype.setOptional=function(e,t,_){const r=t[_];void 0!==r&&this.setValue(e,_,r)},ri.upload=function(e,t,_,r){for(let a=0,n=t.length;a!==n;++a){const n=t[a],i=_[n.id];!1!==i.needsUpdate&&n.setValue(e,i.value,r)}},ri.seqWithValue=function(e,t){const _=[];for(let r=0,a=e.length;r!==a;++r){const a=e[r];a.id in t&&_.push(a)}return _};let ni=0;function ii(e,t,_){const r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();if(r&&""===a)return"";const n=/ERROR: 0:(\d+)/.exec(a);if(n){const r=parseInt(n[0]);return _.toUpperCase()+"\n\n"+a+"\n\n"+function(e,t){const _=e.split("\n"),r=[],a=Math.max(t-6,0),n=Math.min(t+6,_.length);for(let e=a;e<n;e++)r.push(e+1+": "+_[e]);return r.join("\n")}(e.getShaderSource(t),r)}return a}function si(e,t){const _=function(e){switch(e){case lt:return["Linear","( value )"];case pt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+_[0]+_[1]+"; }"}function oi(e,t){let _;switch(t){case G:_="Linear";break;case N:_="Reinhard";break;case W:_="OptimizedCineon";break;case U:_="ACESFilmic";break;case Z:_="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),_="Linear"}return"vec3 "+e+"( vec3 color ) { return "+_+"ToneMapping( color ); }"}function ci(e){return""!==e}function li(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function pi(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ui=/^[ \t]*#include +<([\w\d./]+)>/gm;function fi(e){return e.replace(ui,hi)}function hi(e,t){const _=$a[t];if(void 0===_)throw new Error("Can not resolve #include <"+t+">");return fi(_)}const di=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,mi=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yi(e){return e.replace(mi,vi).replace(di,gi)}function gi(e,t,_,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),vi(0,t,_,r)}function vi(e,t,_,r){let a="";for(let e=parseInt(t);e<parseInt(_);e++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return a}function $i(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function xi(e,t,_,r){const s=e.getContext(),o=_.defines;let c=_.vertexShader,l=_.fragmentShader;const p=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===a?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===n?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===i&&(t="SHADOWMAP_TYPE_VSM"),t}(_),u=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case X:case J:t="ENVMAP_TYPE_CUBE";break;case K:t="ENVMAP_TYPE_CUBE_UV"}return t}(_),f=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===J&&(t="ENVMAP_MODE_REFRACTION"),t}(_),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case j:t="ENVMAP_BLENDING_MULTIPLY";break;case F:t="ENVMAP_BLENDING_MIX";break;case z:t="ENVMAP_BLENDING_ADD"}return t}(_),d=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const _=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,_),112)),texelHeight:r,maxMip:_}}(_),m=_.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ci).join("\n")}(_),y=function(e){const t=[];for(const _ in e){const r=e[_];!1!==r&&t.push("#define "+_+" "+r)}return t.join("\n")}(o),g=s.createProgram();let v,$,x=_.glslVersion?"#version "+_.glslVersion+"\n":"";_.isRawShaderMaterial?(v=[y].filter(ci).join("\n"),v.length>0&&(v+="\n"),$=[m,y].filter(ci).join("\n"),$.length>0&&($+="\n")):(v=[$i(_),"#define SHADER_NAME "+_.shaderName,y,_.instancing?"#define USE_INSTANCING":"",_.instancingColor?"#define USE_INSTANCING_COLOR":"",_.supportsVertexTextures?"#define VERTEX_TEXTURES":"",_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.map?"#define USE_MAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+f:"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMap&&_.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_.normalMap&&_.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.displacementMap&&_.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_.vertexTangents?"#define USE_TANGENT":"",_.vertexColors?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUvs?"#define USE_UV":"",_.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_.flatShading?"#define FLAT_SHADED":"",_.skinning?"#define USE_SKINNING":"",_.morphTargets?"#define USE_MORPHTARGETS":"",_.morphNormals&&!1===_.flatShading?"#define USE_MORPHNORMALS":"",_.morphColors&&_.isWebGL2?"#define USE_MORPHCOLORS":"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+_.morphTextureStride:"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_COUNT "+_.morphTargetsCount:"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+p:"",_.sizeAttenuation?"#define USE_SIZEATTENUATION":"",_.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_.logarithmicDepthBuffer&&_.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ci).join("\n"),$=[m,$i(_),"#define SHADER_NAME "+_.shaderName,y,_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.map?"#define USE_MAP":"",_.matcap?"#define USE_MATCAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+u:"",_.envMap?"#define "+f:"",_.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMap&&_.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_.normalMap&&_.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_.clearcoat?"#define USE_CLEARCOAT":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.alphaTest?"#define USE_ALPHATEST":"",_.sheen?"#define USE_SHEEN":"",_.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",_.vertexTangents?"#define USE_TANGENT":"",_.vertexColors||_.instancingColor?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUvs?"#define USE_UV":"",_.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_.gradientMap?"#define USE_GRADIENTMAP":"",_.flatShading?"#define FLAT_SHADED":"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+p:"",_.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",_.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",_.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_.logarithmicDepthBuffer&&_.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",_.toneMapping!==k?"#define TONE_MAPPING":"",_.toneMapping!==k?$a.tonemapping_pars_fragment:"",_.toneMapping!==k?oi("toneMapping",_.toneMapping):"",_.dithering?"#define DITHERING":"",_.opaque?"#define OPAQUE":"",$a.encodings_pars_fragment,si("linearToOutputTexel",_.outputEncoding),_.useDepthPacking?"#define DEPTH_PACKING "+_.depthPacking:"","\n"].filter(ci).join("\n")),c=fi(c),c=li(c,_),c=pi(c,_),l=fi(l),l=li(l,_),l=pi(l,_),c=yi(c),l=yi(l),_.isWebGL2&&!0!==_.isRawShaderMaterial&&(x="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,$=["#define varying in",_.glslVersion===$t?"":"layout(location = 0) out highp vec4 pc_fragColor;",_.glslVersion===$t?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+$);const b=x+$+l,I=ai(s,35633,x+v+c),L=ai(s,35632,b);if(s.attachShader(g,I),s.attachShader(g,L),void 0!==_.index0AttributeName?s.bindAttribLocation(g,0,_.index0AttributeName):!0===_.morphTargets&&s.bindAttribLocation(g,0,"position"),s.linkProgram(g),e.debug.checkShaderErrors){const e=s.getProgramInfoLog(g).trim(),t=s.getShaderInfoLog(I).trim(),_=s.getShaderInfoLog(L).trim();let r=!0,a=!0;if(!1===s.getProgramParameter(g,35714)){r=!1;const t=ii(s,I,"vertex"),_=ii(s,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+_)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==_||(a=!1);a&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:v},fragmentShader:{log:_,prefix:$}})}let S,M;return s.deleteShader(I),s.deleteShader(L),this.getUniforms=function(){return void 0===S&&(S=new ri(s,g)),S},this.getAttributes=function(){return void 0===M&&(M=function(e,t){const _={},r=e.getProgramParameter(t,35721);for(let a=0;a<r;a++){const r=e.getActiveAttrib(t,a),n=r.name;let i=1;35674===r.type&&(i=2),35675===r.type&&(i=3),35676===r.type&&(i=4),_[n]={type:r.type,location:e.getAttribLocation(t,n),locationSize:i}}return _}(s,g)),M},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(g),this.program=void 0},this.name=_.shaderName,this.id=ni++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=I,this.fragmentShader=L,this}let bi=0;class Ii{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,_=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(_),n=this._getShaderCacheForMaterial(e);return!1===n.has(r)&&(n.add(r),r.usedTimes++),!1===n.has(a)&&(n.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const _=new Li(e);t.set(e,_)}return t.get(e)}}class Li{constructor(e){this.id=bi++,this.code=e,this.usedTimes=0}}function Si(e,t,_,r,a,n,i){const s=new N_,l=new Ii,u=[],f=a.isWebGL2,h=a.logarithmicDepthBuffer,d=a.vertexTextures;let m=a.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(n,s,u,g,v){const $=g.fog,x=v.geometry,b=n.isMeshStandardMaterial?g.environment:null,I=(n.isMeshStandardMaterial?_:t).get(n.envMap||b),L=I&&I.mapping===K?I.image.height:null,S=y[n.type];null!==n.precision&&(m=a.getMaxPrecision(n.precision),m!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",m,"instead."));const M=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,w=void 0!==M?M.length:0;let O,C,T,A,R=0;if(void 0!==x.morphAttributes.position&&(R=1),void 0!==x.morphAttributes.normal&&(R=2),void 0!==x.morphAttributes.color&&(R=3),S){const e=ba[S];O=e.vertexShader,C=e.fragmentShader}else O=n.vertexShader,C=n.fragmentShader,l.update(n),T=l.getVertexShaderID(n),A=l.getFragmentShaderID(n);const D=e.getRenderTarget(),E=n.alphaTest>0,B=n.clearcoat>0;return{isWebGL2:f,shaderID:S,shaderName:n.type,vertexShader:O,fragmentShader:C,defines:n.defines,customVertexShaderID:T,customFragmentShaderID:A,isRawShaderMaterial:!0===n.isRawShaderMaterial,glslVersion:n.glslVersion,precision:m,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:d,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:lt,map:!!n.map,matcap:!!n.matcap,envMap:!!I,envMapMode:I&&I.mapping,envMapCubeUVHeight:L,lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:n.normalMapType===ht,tangentSpaceNormalMap:n.normalMapType===ft,decodeVideoTexture:!!n.map&&!0===n.map.isVideoTexture&&n.map.encoding===pt,clearcoat:B,clearcoatMap:B&&!!n.clearcoatMap,clearcoatRoughnessMap:B&&!!n.clearcoatRoughnessMap,clearcoatNormalMap:B&&!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,specularIntensityMap:!!n.specularIntensityMap,specularColorMap:!!n.specularColorMap,opaque:!1===n.transparent&&n.blending===p,alphaMap:!!n.alphaMap,alphaTest:E,gradientMap:!!n.gradientMap,sheen:n.sheen>0,sheenColorMap:!!n.sheenColorMap,sheenRoughnessMap:!!n.sheenRoughnessMap,transmission:n.transmission>0,transmissionMap:!!n.transmissionMap,thicknessMap:!!n.thicknessMap,combine:n.combine,vertexTangents:!!n.normalMap&&!!x.attributes.tangent,vertexColors:n.vertexColors,vertexAlphas:!0===n.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUvs:!!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatMap||n.clearcoatRoughnessMap||n.clearcoatNormalMap||n.displacementMap||n.transmissionMap||n.thicknessMap||n.specularIntensityMap||n.specularColorMap||n.sheenColorMap||n.sheenRoughnessMap),uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap||n.transmission>0||n.transmissionMap||n.thicknessMap||n.specularIntensityMap||n.specularColorMap||n.sheen>0||n.sheenColorMap||n.sheenRoughnessMap||!n.displacementMap),fog:!!$,useFog:!0===n.fog,fogExp2:$&&$.isFogExp2,flatShading:!!n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:w,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:i.numPlanes,numClipIntersection:i.numIntersection,dithering:n.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:n.toneMapped?e.toneMapping:k,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,doubleSided:n.side===c,flipSided:n.side===o,useDepthPacking:!!n.depthPacking,depthPacking:n.depthPacking||0,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawBuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:n.customProgramCacheKey()}},getProgramCacheKey:function(t){const _=[];if(t.shaderID?_.push(t.shaderID):(_.push(t.customVertexShaderID),_.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)_.push(e),_.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(_,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.displacementMap&&s.enable(18),t.specularMap&&s.enable(19),t.roughnessMap&&s.enable(20),t.metalnessMap&&s.enable(21),t.gradientMap&&s.enable(22),t.alphaMap&&s.enable(23),t.alphaTest&&s.enable(24),t.vertexColors&&s.enable(25),t.vertexAlphas&&s.enable(26),t.vertexUvs&&s.enable(27),t.vertexTangents&&s.enable(28),t.uvsVertexOnly&&s.enable(29),t.fog&&s.enable(30),e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0),t.flatShading&&s.enable(1),t.logarithmicDepthBuffer&&s.enable(2),t.skinning&&s.enable(3),t.morphTargets&&s.enable(4),t.morphNormals&&s.enable(5),t.morphColors&&s.enable(6),t.premultipliedAlpha&&s.enable(7),t.shadowMapEnabled&&s.enable(8),t.physicallyCorrectLights&&s.enable(9),t.doubleSided&&s.enable(10),t.flipSided&&s.enable(11),t.useDepthPacking&&s.enable(12),t.dithering&&s.enable(13),t.specularIntensityMap&&s.enable(14),t.specularColorMap&&s.enable(15),t.transmission&&s.enable(16),t.transmissionMap&&s.enable(17),t.thicknessMap&&s.enable(18),t.sheen&&s.enable(19),t.sheenColorMap&&s.enable(20),t.sheenRoughnessMap&&s.enable(21),t.decodeVideoTexture&&s.enable(22),t.opaque&&s.enable(23),e.push(s.mask)}(_,t),_.push(e.outputEncoding)),_.push(t.customProgramCacheKey),_.join()},getUniforms:function(e){const t=y[e.type];let _;if(t){const e=ba[t];_=_a.clone(e.uniforms)}else _=e.uniforms;return _},acquireProgram:function(t,_){let r;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(t.cacheKey===_){r=t,++r.usedTimes;break}}return void 0===r&&(r=new xi(e,_,t,n),u.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Mi(){let e=new WeakMap;return{get:function(t){let _=e.get(t);return void 0===_&&(_={},e.set(t,_)),_},remove:function(t){e.delete(t)},update:function(t,_,r){e.get(t)[_]=r},dispose:function(){e=new WeakMap}}}function wi(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Oi(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ci(){const e=[];let t=0;const _=[],r=[],a=[];function n(_,r,a,n,i,s){let o=e[t];return void 0===o?(o={id:_.id,object:_,geometry:r,material:a,groupOrder:n,renderOrder:_.renderOrder,z:i,group:s},e[t]=o):(o.id=_.id,o.object=_,o.geometry=r,o.material=a,o.groupOrder=n,o.renderOrder=_.renderOrder,o.z=i,o.group=s),t++,o}return{opaque:_,transmissive:r,transparent:a,init:function(){t=0,_.length=0,r.length=0,a.length=0},push:function(e,t,i,s,o,c){const l=n(e,t,i,s,o,c);i.transmission>0?r.push(l):!0===i.transparent?a.push(l):_.push(l)},unshift:function(e,t,i,s,o,c){const l=n(e,t,i,s,o,c);i.transmission>0?r.unshift(l):!0===i.transparent?a.unshift(l):_.unshift(l)},finish:function(){for(let _=t,r=e.length;_<r;_++){const t=e[_];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){_.length>1&&_.sort(e||wi),r.length>1&&r.sort(t||Oi),a.length>1&&a.sort(t||Oi)}}}function Ti(){let e=new WeakMap;return{get:function(t,_){let r;return!1===e.has(t)?(r=new Ci,e.set(t,[r])):_>=e.get(t).length?(r=new Ci,e.get(t).push(r)):r=e.get(t)[_],r},dispose:function(){e=new WeakMap}}}function Ai(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let _;switch(t.type){case"DirectionalLight":_={direction:new r_,color:new Nt};break;case"SpotLight":_={position:new r_,direction:new r_,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":_={position:new r_,color:new Nt,distance:0,decay:0};break;case"HemisphereLight":_={direction:new r_,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":_={color:new Nt,position:new r_,halfWidth:new r_,halfHeight:new r_}}return e[t.id]=_,_}}}let Ri=0;function Di(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ei(e,t){const _=new Ai,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let _;switch(t.type){case"DirectionalLight":case"SpotLight":_={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At};break;case"PointLight":_={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=_,_}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)a.probe.push(new r_);const n=new r_,i=new E_,s=new E_;return{setup:function(n,i){let s=0,o=0,c=0;for(let e=0;e<9;e++)a.probe[e].set(0,0,0);let l=0,p=0,u=0,f=0,h=0,d=0,m=0,y=0;n.sort(Di);const g=!0!==i?Math.PI:1;for(let e=0,t=n.length;e<t;e++){const t=n[e],i=t.color,v=t.intensity,$=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=i.r*v*g,o+=i.g*v*g,c+=i.b*v*g;else if(t.isLightProbe)for(let e=0;e<9;e++)a.probe[e].addScaledVector(t.sh.coefficients[e],v);else if(t.isDirectionalLight){const e=_.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*g),t.castShadow){const e=t.shadow,_=r.get(t);_.shadowBias=e.bias,_.shadowNormalBias=e.normalBias,_.shadowRadius=e.radius,_.shadowMapSize=e.mapSize,a.directionalShadow[l]=_,a.directionalShadowMap[l]=x,a.directionalShadowMatrix[l]=t.shadow.matrix,d++}a.directional[l]=e,l++}else if(t.isSpotLight){const e=_.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(i).multiplyScalar(v*g),e.distance=$,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,_=r.get(t);_.shadowBias=e.bias,_.shadowNormalBias=e.normalBias,_.shadowRadius=e.radius,_.shadowMapSize=e.mapSize,a.spotShadow[u]=_,a.spotShadowMap[u]=x,a.spotShadowMatrix[u]=t.shadow.matrix,y++}a.spot[u]=e,u++}else if(t.isRectAreaLight){const e=_.get(t);e.color.copy(i).multiplyScalar(v),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),a.rectArea[f]=e,f++}else if(t.isPointLight){const e=_.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*g),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,_=r.get(t);_.shadowBias=e.bias,_.shadowNormalBias=e.normalBias,_.shadowRadius=e.radius,_.shadowMapSize=e.mapSize,_.shadowCameraNear=e.camera.near,_.shadowCameraFar=e.camera.far,a.pointShadow[p]=_,a.pointShadowMap[p]=x,a.pointShadowMatrix[p]=t.shadow.matrix,m++}a.point[p]=e,p++}else if(t.isHemisphereLight){const e=_.get(t);e.skyColor.copy(t.color).multiplyScalar(v*g),e.groundColor.copy(t.groundColor).multiplyScalar(v*g),a.hemi[h]=e,h++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=xa.LTC_FLOAT_1,a.rectAreaLTC2=xa.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=xa.LTC_HALF_1,a.rectAreaLTC2=xa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=s,a.ambient[1]=o,a.ambient[2]=c;const v=a.hash;v.directionalLength===l&&v.pointLength===p&&v.spotLength===u&&v.rectAreaLength===f&&v.hemiLength===h&&v.numDirectionalShadows===d&&v.numPointShadows===m&&v.numSpotShadows===y||(a.directional.length=l,a.spot.length=u,a.rectArea.length=f,a.point.length=p,a.hemi.length=h,a.directionalShadow.length=d,a.directionalShadowMap.length=d,a.pointShadow.length=m,a.pointShadowMap.length=m,a.spotShadow.length=y,a.spotShadowMap.length=y,a.directionalShadowMatrix.length=d,a.pointShadowMatrix.length=m,a.spotShadowMatrix.length=y,v.directionalLength=l,v.pointLength=p,v.spotLength=u,v.rectAreaLength=f,v.hemiLength=h,v.numDirectionalShadows=d,v.numPointShadows=m,v.numSpotShadows=y,a.version=Ri++)},setupView:function(e,t){let _=0,r=0,o=0,c=0,l=0;const p=t.matrixWorldInverse;for(let t=0,u=e.length;t<u;t++){const u=e[t];if(u.isDirectionalLight){const e=a.directional[_];e.direction.setFromMatrixPosition(u.matrixWorld),n.setFromMatrixPosition(u.target.matrixWorld),e.direction.sub(n),e.direction.transformDirection(p),_++}else if(u.isSpotLight){const e=a.spot[o];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(p),e.direction.setFromMatrixPosition(u.matrixWorld),n.setFromMatrixPosition(u.target.matrixWorld),e.direction.sub(n),e.direction.transformDirection(p),o++}else if(u.isRectAreaLight){const e=a.rectArea[c];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(p),s.identity(),i.copy(u.matrixWorld),i.premultiply(p),s.extractRotation(i),e.halfWidth.set(.5*u.width,0,0),e.halfHeight.set(0,.5*u.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(u.isPointLight){const e=a.point[r];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(p),r++}else if(u.isHemisphereLight){const e=a.hemi[l];e.direction.setFromMatrixPosition(u.matrixWorld),e.direction.transformDirection(p),l++}}},state:a}}function Bi(e,t){const _=new Ei(e,t),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:_},setupLights:function(e){_.setup(r,e)},setupLightsView:function(e){_.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function Vi(e,t){let _=new WeakMap;return{get:function(r,a=0){let n;return!1===_.has(r)?(n=new Bi(e,t),_.set(r,[n])):a>=_.get(r).length?(n=new Bi(e,t),_.get(r).push(n)):n=_.get(r)[a],n},dispose:function(){_=new WeakMap}}}class qi extends gr{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}qi.prototype.isMeshDepthMaterial=!0;class Hi extends gr{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new r_,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Hi.prototype.isMeshDistanceMaterial=!0;const Pi="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",ji="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Fi(e,t,_){let r=new ma;const n=new At,p=new At,u=new Qt,f=new qi({depthPacking:ut}),h=new Hi,d={},m=_.maxTextureSize,y={0:o,1:s,2:c},g=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new At},radius:{value:4}},vertexShader:Pi,fragmentShader:ji}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const $=new Dr;$.setAttribute("position",new br(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Yr($,g),b=this;function I(_,r){const a=t.update(x);g.defines.VSM_SAMPLES!==_.blurSamples&&(g.defines.VSM_SAMPLES=_.blurSamples,v.defines.VSM_SAMPLES=_.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),g.uniforms.shadow_pass.value=_.map.texture,g.uniforms.resolution.value=_.mapSize,g.uniforms.radius.value=_.radius,e.setRenderTarget(_.mapPass),e.clear(),e.renderBufferDirect(r,null,a,g,x,null),v.uniforms.shadow_pass.value=_.mapPass.texture,v.uniforms.resolution.value=_.mapSize,v.uniforms.radius.value=_.radius,e.setRenderTarget(_.map),e.clear(),e.renderBufferDirect(r,null,a,v,x,null)}function L(t,_,r,a,n,s){let o=null;const c=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(o=void 0!==c?c:!0===r.isPointLight?h:f,e.localClippingEnabled&&!0===_.clipShadows&&0!==_.clippingPlanes.length||_.displacementMap&&0!==_.displacementScale||_.alphaMap&&_.alphaTest>0){const e=o.uuid,t=_.uuid;let r=d[e];void 0===r&&(r={},d[e]=r);let a=r[t];void 0===a&&(a=o.clone(),r[t]=a),o=a}return o.visible=_.visible,o.wireframe=_.wireframe,o.side=s===i?null!==_.shadowSide?_.shadowSide:_.side:null!==_.shadowSide?_.shadowSide:y[_.side],o.alphaMap=_.alphaMap,o.alphaTest=_.alphaTest,o.clipShadows=_.clipShadows,o.clippingPlanes=_.clippingPlanes,o.clipIntersection=_.clipIntersection,o.displacementMap=_.displacementMap,o.displacementScale=_.displacementScale,o.displacementBias=_.displacementBias,o.wireframeLinewidth=_.wireframeLinewidth,o.linewidth=_.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial&&(o.referencePosition.setFromMatrixPosition(r.matrixWorld),o.nearDistance=a,o.farDistance=n),o}function S(_,a,n,s,o){if(!1===_.visible)return;if(_.layers.test(a.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&o===i)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,_.matrixWorld);const r=t.update(_),a=_.material;if(Array.isArray(a)){const t=r.groups;for(let i=0,c=t.length;i<c;i++){const c=t[i],l=a[c.materialIndex];if(l&&l.visible){const t=L(_,l,s,n.near,n.far,o);e.renderBufferDirect(n,null,r,t,_,c)}}}else if(a.visible){const t=L(_,a,s,n.near,n.far,o);e.renderBufferDirect(n,null,r,t,_,null)}}const c=_.children;for(let e=0,t=c.length;e<t;e++)S(c[e],a,n,s,o)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a,this.render=function(t,_,a){if(!1===b.enabled)return;if(!1===b.autoUpdate&&!1===b.needsUpdate)return;if(0===t.length)return;const s=e.getRenderTarget(),o=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),f=e.state;f.setBlending(l),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let s=0,o=t.length;s<o;s++){const o=t[s],c=o.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",o,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;n.copy(c.mapSize);const l=c.getFrameExtents();if(n.multiply(l),p.copy(c.mapSize),(n.x>m||n.y>m)&&(n.x>m&&(p.x=Math.floor(m/l.x),n.x=p.x*l.x,c.mapSize.x=p.x),n.y>m&&(p.y=Math.floor(m/l.y),n.y=p.y*l.y,c.mapSize.y=p.y)),null!==c.map||c.isPointLightShadow||this.type!==i||(c.map=new Kt(n.x,n.y),c.map.texture.name=o.name+".shadowMap",c.mapPass=new Kt(n.x,n.y),c.camera.updateProjectionMatrix()),null===c.map){const e={minFilter:re,magFilter:re,format:be};c.map=new Kt(n.x,n.y,e),c.map.texture.name=o.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const h=c.getViewportCount();for(let e=0;e<h;e++){const t=c.getViewport(e);u.set(p.x*t.x,p.y*t.y,p.x*t.z,p.y*t.w),f.viewport(u),c.updateMatrices(o,e),r=c.getFrustum(),S(_,a,c.camera,o,this.type)}c.isPointLightShadow||this.type!==i||I(c,a),c.needsUpdate=!1}b.needsUpdate=!1,e.setRenderTarget(s,o,c)}}function zi(e,a,n){const i=n.isWebGL2,s=new function(){let t=!1;const _=new Qt;let r=null;const a=new Qt(0,0,0,0);return{setMask:function(_){r===_||t||(e.colorMask(_,_,_,_),r=_)},setLocked:function(e){t=e},setClear:function(t,r,n,i,s){!0===s&&(t*=i,r*=i,n*=i),_.set(t,r,n,i),!1===a.equals(_)&&(e.clearColor(t,r,n,i),a.copy(_))},reset:function(){t=!1,r=null,a.set(-1,0,0,0)}}},j=new function(){let t=!1,_=null,r=null,a=null;return{setTest:function(e){e?ve(2929):$e(2929)},setMask:function(r){_===r||t||(e.depthMask(r),_=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case R:e.depthFunc(512);break;case D:e.depthFunc(519);break;case E:e.depthFunc(513);break;case B:e.depthFunc(515);break;case V:e.depthFunc(514);break;case q:e.depthFunc(518);break;case H:e.depthFunc(516);break;case P:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,_=null,r=null,a=null}}},F=new function(){let t=!1,_=null,r=null,a=null,n=null,i=null,s=null,o=null,c=null;return{setTest:function(e){t||(e?ve(2960):$e(2960))},setMask:function(r){_===r||t||(e.stencilMask(r),_=r)},setFunc:function(t,_,i){r===t&&a===_&&n===i||(e.stencilFunc(t,_,i),r=t,a=_,n=i)},setOp:function(t,_,r){i===t&&s===_&&o===r||(e.stencilOp(t,_,r),i=t,s=_,o=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,_=null,r=null,a=null,n=null,i=null,s=null,o=null,c=null}}};let z={},k={},G=new WeakMap,N=[],W=null,U=!1,Z=null,X=null,J=null,Y=null,Q=null,K=null,ee=null,te=!1,_e=null,re=null,ae=null,ne=null,ie=null;const se=e.getParameter(35661);let oe=!1,ce=0;const le=e.getParameter(7938);-1!==le.indexOf("WebGL")?(ce=parseFloat(/^WebGL (\d)/.exec(le)[1]),oe=ce>=1):-1!==le.indexOf("OpenGL ES")&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(le)[1]),oe=ce>=2);let pe=null,ue={};const fe=e.getParameter(3088),he=e.getParameter(2978),de=(new Qt).fromArray(fe),me=(new Qt).fromArray(he);function ye(t,_,r){const a=new Uint8Array(4),n=e.createTexture();e.bindTexture(t,n),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(_+t,0,6408,1,1,0,6408,5121,a);return n}const ge={};function ve(t){!0!==z[t]&&(e.enable(t),z[t]=!0)}function $e(t){!1!==z[t]&&(e.disable(t),z[t]=!1)}ge[3553]=ye(3553,3553,1),ge[34067]=ye(34067,34069,6),s.setClear(0,0,0,1),j.setClear(1),F.setClear(0),ve(2929),j.setFunc(B),Le(!1),Se(_),ve(2884),Ie(l);const xe={[m]:32774,[y]:32778,[g]:32779};if(i)xe[v]=32775,xe[$]=32776;else{const e=a.get("EXT_blend_minmax");null!==e&&(xe[v]=e.MIN_EXT,xe[$]=e.MAX_EXT)}const be={[x]:0,[b]:1,[I]:768,[S]:770,[A]:776,[C]:774,[w]:772,[L]:769,[M]:771,[T]:775,[O]:773};function Ie(t,_,r,a,n,i,s,o){if(t!==l){if(!1===U&&(ve(3042),U=!0),t===d)n=n||_,i=i||r,s=s||a,_===X&&n===Q||(e.blendEquationSeparate(xe[_],xe[n]),X=_,Q=n),r===J&&a===Y&&i===K&&s===ee||(e.blendFuncSeparate(be[r],be[a],be[i],be[s]),J=r,Y=a,K=i,ee=s),Z=t,te=null;else if(t!==Z||o!==te){if(X===m&&Q===m||(e.blendEquation(32774),X=m,Q=m),o)switch(t){case p:e.blendFuncSeparate(1,771,1,771);break;case u:e.blendFunc(1,1);break;case f:e.blendFuncSeparate(0,769,0,1);break;case h:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case p:e.blendFuncSeparate(770,771,1,771);break;case u:e.blendFunc(770,1);break;case f:e.blendFuncSeparate(0,769,0,1);break;case h:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}J=null,Y=null,K=null,ee=null,Z=t,te=o}}else!0===U&&($e(3042),U=!1)}function Le(t){_e!==t&&(t?e.frontFace(2304):e.frontFace(2305),_e=t)}function Se(a){a!==t?(ve(2884),a!==re&&(a===_?e.cullFace(1029):a===r?e.cullFace(1028):e.cullFace(1032))):$e(2884),re=a}function Me(t,_,r){t?(ve(32823),ne===_&&ie===r||(e.polygonOffset(_,r),ne=_,ie=r)):$e(32823)}function we(t){void 0===t&&(t=33984+se-1),pe!==t&&(e.activeTexture(t),pe=t)}return{buffers:{color:s,depth:j,stencil:F},enable:ve,disable:$e,bindFramebuffer:function(t,_){return k[t]!==_&&(e.bindFramebuffer(t,_),k[t]=_,i&&(36009===t&&(k[36160]=_),36160===t&&(k[36009]=_)),!0)},drawBuffers:function(t,_){let r=N,i=!1;if(t)if(r=G.get(_),void 0===r&&(r=[],G.set(_,r)),t.isWebGLMultipleRenderTargets){const e=t.texture;if(r.length!==e.length||36064!==r[0]){for(let t=0,_=e.length;t<_;t++)r[t]=36064+t;r.length=e.length,i=!0}}else 36064!==r[0]&&(r[0]=36064,i=!0);else 1029!==r[0]&&(r[0]=1029,i=!0);i&&(n.isWebGL2?e.drawBuffers(r):a.get("WEBGL_draw_buffers").drawBuffersWEBGL(r))},useProgram:function(t){return W!==t&&(e.useProgram(t),W=t,!0)},setBlending:Ie,setMaterial:function(e,t){e.side===c?$e(2884):ve(2884);let _=e.side===o;t&&(_=!_),Le(_),e.blending===p&&!1===e.transparent?Ie(l):Ie(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),j.setFunc(e.depthFunc),j.setTest(e.depthTest),j.setMask(e.depthWrite),s.setMask(e.colorWrite);const r=e.stencilWrite;F.setTest(r),r&&(F.setMask(e.stencilWriteMask),F.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),F.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Me(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?ve(32926):$e(32926)},setFlipSided:Le,setCullFace:Se,setLineWidth:function(t){t!==ae&&(oe&&e.lineWidth(t),ae=t)},setPolygonOffset:Me,setScissorTest:function(e){e?ve(3089):$e(3089)},activeTexture:we,bindTexture:function(t,_){null===pe&&we();let r=ue[pe];void 0===r&&(r={type:void 0,texture:void 0},ue[pe]=r),r.type===t&&r.texture===_||(e.bindTexture(t,_||ge[t]),r.type=t,r.texture=_)},unbindTexture:function(){const t=ue[pe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===de.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),de.copy(t))},viewport:function(t){!1===me.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),me.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),z={},pe=null,ue={},k={},G=new WeakMap,N=[],W=null,U=!1,Z=null,X=null,J=null,Y=null,Q=null,K=null,ee=null,te=!1,_e=null,re=null,ae=null,ne=null,ie=null,de.set(0,0,e.canvas.width,e.canvas.height),me.set(0,0,e.canvas.width,e.canvas.height),s.reset(),j.reset(),F.reset()}}}function ki(e,t,_,r,a,n,i){const s=a.isWebGL2,o=a.maxTextures,c=a.maxCubemapSize,l=a.maxTextureSize,p=a.maxSamples,u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let d;const m=new WeakMap;let y=!1;try{y="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function g(e,t){return y?new OffscreenCanvas(e,t):Et("canvas")}function v(e,t,_,r){let a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?Tt:Math.floor,n=r(a*e.width),i=r(a*e.height);void 0===d&&(d=g(n,i));const s=_?g(n,i):d;return s.width=n,s.height=i,s.getContext("2d").drawImage(e,0,0,n,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+n+"x"+i+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function $(e){return Ct(e.width)&&Ct(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==re&&e.minFilter!==ie}function b(t){e.generateMipmap(t)}function I(_,r,a,n,i=!1){if(!1===s)return r;if(null!==_){if(void 0!==e[_])return e[_];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+_+"'")}let o=r;return 6403===r&&(5126===a&&(o=33326),5131===a&&(o=33325),5121===a&&(o=33321)),33319===r&&(5126===a&&(o=33328),5131===a&&(o=33327),5121===a&&(o=33323)),6408===r&&(5126===a&&(o=34836),5131===a&&(o=34842),5121===a&&(o=n===pt&&!1===i?35907:32856),32819===a&&(o=32854),32820===a&&(o=32855)),33325!==o&&33326!==o&&33327!==o&&33328!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function L(e,t,_){return!0===x(e,_)||e.isFramebufferTexture&&e.minFilter!==re&&e.minFilter!==ie?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function S(e){return e===re||e===ae||e===ne?9728:9729}function M(e){const t=e.target;t.removeEventListener("dispose",M),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const _=e.source,a=m.get(_);if(a){const r=a[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&O(e),0===Object.keys(a).length&&m.delete(_)}r.remove(e)}(t),t.isVideoTexture&&h.delete(t)}function w(t){const _=t.target;_.removeEventListener("dispose",w),function(t){const _=t.texture,a=r.get(t),n=r.get(_);if(void 0!==n.__webglTexture&&(e.deleteTexture(n.__webglTexture),i.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(a.__webglFramebuffer[t]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[t]);else e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&e.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer&&e.deleteRenderbuffer(a.__webglColorRenderbuffer),a.__webglDepthRenderbuffer&&e.deleteRenderbuffer(a.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(let t=0,a=_.length;t<a;t++){const a=r.get(_[t]);a.__webglTexture&&(e.deleteTexture(a.__webglTexture),i.memory.textures--),r.remove(_[t])}r.remove(_),r.remove(t)}(_)}function O(t){const _=r.get(t);e.deleteTexture(_.__webglTexture);const a=t.source;delete m.get(a)[_.__cacheKey],i.memory.textures--}let C=0;function T(e,t){const a=r.get(e);if(e.isVideoTexture&&function(e){const t=i.render.frame;h.get(e)!==t&&(h.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&a.__version!==e.version){const _=e.image;if(null===_)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==_.complete)return void B(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}_.activeTexture(33984+t),_.bindTexture(3553,a.__webglTexture)}const A={[ee]:10497,[te]:33071,[_e]:33648},R={[re]:9728,[ae]:9984,[ne]:9986,[ie]:9729,[se]:9985,[oe]:9987};function D(_,n,i){if(i?(e.texParameteri(_,10242,A[n.wrapS]),e.texParameteri(_,10243,A[n.wrapT]),32879!==_&&35866!==_||e.texParameteri(_,32882,A[n.wrapR]),e.texParameteri(_,10240,R[n.magFilter]),e.texParameteri(_,10241,R[n.minFilter])):(e.texParameteri(_,10242,33071),e.texParameteri(_,10243,33071),32879!==_&&35866!==_||e.texParameteri(_,32882,33071),n.wrapS===te&&n.wrapT===te||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(_,10240,S(n.magFilter)),e.texParameteri(_,10241,S(n.minFilter)),n.minFilter!==re&&n.minFilter!==ie&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const i=t.get("EXT_texture_filter_anisotropic");if(n.type===de&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&n.type===me&&!1===t.has("OES_texture_half_float_linear"))return;(n.anisotropy>1||r.get(n).__currentAnisotropy)&&(e.texParameterf(_,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,a.getMaxAnisotropy())),r.get(n).__currentAnisotropy=n.anisotropy)}}function E(t,_){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,_.addEventListener("dispose",M));const a=_.source;let n=m.get(a);void 0===n&&(n={},m.set(a,n));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(_);if(s!==t.__cacheKey){void 0===n[s]&&(n[s]={texture:e.createTexture(),usedTimes:0},i.memory.textures++,r=!0),n[s].usedTimes++;const a=n[t.__cacheKey];void 0!==a&&(n[t.__cacheKey].usedTimes--,0===a.usedTimes&&O(_)),t.__cacheKey=s,t.__webglTexture=n[s].texture}return r}function B(t,r,a){let i=3553;r.isDataArrayTexture&&(i=35866),r.isData3DTexture&&(i=32879);const o=E(t,r),c=r.source;if(_.activeTexture(33984+a),_.bindTexture(i,t.__webglTexture),c.version!==c.__currentVersion||!0===o){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const a=function(e){return!s&&(e.wrapS!==te||e.wrapT!==te||e.minFilter!==re&&e.minFilter!==ie)}(r)&&!1===$(r.image);let p=v(r.image,a,!1,l);p=F(r,p);const u=$(p)||s,f=n.convert(r.format,r.encoding);let h,d=n.convert(r.type),m=I(r.internalFormat,f,d,r.encoding,r.isVideoTexture);D(i,r,u);const y=r.mipmaps,g=s&&!0!==r.isVideoTexture,S=void 0===t.__version||!0===o,M=L(r,p,u);if(r.isDepthTexture)m=6402,s?m=r.type===de?36012:r.type===he?33190:r.type===ve?35056:33189:r.type===de&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Se&&6402===m&&r.type!==ue&&r.type!==he&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=ue,d=n.convert(r.type)),r.format===Me&&6402===m&&(m=34041,r.type!==ve&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=ve,d=n.convert(r.type))),S&&(g?_.texStorage2D(3553,1,m,p.width,p.height):_.texImage2D(3553,0,m,p.width,p.height,0,f,d,null));else if(r.isDataTexture)if(y.length>0&&u){g&&S&&_.texStorage2D(3553,M,m,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)h=y[e],g?_.texSubImage2D(3553,e,0,0,h.width,h.height,f,d,h.data):_.texImage2D(3553,e,m,h.width,h.height,0,f,d,h.data);r.generateMipmaps=!1}else g?(S&&_.texStorage2D(3553,M,m,p.width,p.height),_.texSubImage2D(3553,0,0,0,p.width,p.height,f,d,p.data)):_.texImage2D(3553,0,m,p.width,p.height,0,f,d,p.data);else if(r.isCompressedTexture){g&&S&&_.texStorage2D(3553,M,m,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)h=y[e],r.format!==be?null!==f?g?_.compressedTexSubImage2D(3553,e,0,0,h.width,h.height,f,h.data):_.compressedTexImage2D(3553,e,m,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):g?_.texSubImage2D(3553,e,0,0,h.width,h.height,f,d,h.data):_.texImage2D(3553,e,m,h.width,h.height,0,f,d,h.data)}else if(r.isDataArrayTexture)g?(S&&_.texStorage3D(35866,M,m,p.width,p.height,p.depth),_.texSubImage3D(35866,0,0,0,0,p.width,p.height,p.depth,f,d,p.data)):_.texImage3D(35866,0,m,p.width,p.height,p.depth,0,f,d,p.data);else if(r.isData3DTexture)g?(S&&_.texStorage3D(32879,M,m,p.width,p.height,p.depth),_.texSubImage3D(32879,0,0,0,0,p.width,p.height,p.depth,f,d,p.data)):_.texImage3D(32879,0,m,p.width,p.height,p.depth,0,f,d,p.data);else if(r.isFramebufferTexture){if(S)if(g)_.texStorage2D(3553,M,m,p.width,p.height);else{let e=p.width,t=p.height;for(let r=0;r<M;r++)_.texImage2D(3553,r,m,e,t,0,f,d,null),e>>=1,t>>=1}}else if(y.length>0&&u){g&&S&&_.texStorage2D(3553,M,m,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)h=y[e],g?_.texSubImage2D(3553,e,0,0,f,d,h):_.texImage2D(3553,e,m,f,d,h);r.generateMipmaps=!1}else g?(S&&_.texStorage2D(3553,M,m,p.width,p.height),_.texSubImage2D(3553,0,0,0,f,d,p)):_.texImage2D(3553,0,m,f,d,p);x(r,u)&&b(i),c.__currentVersion=c.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function V(t,a,i,s,o){const c=n.convert(i.format,i.encoding),l=n.convert(i.type),p=I(i.internalFormat,c,l,i.encoding);r.get(a).__hasExternalTextures||(32879===o||35866===o?_.texImage3D(o,0,p,a.width,a.height,a.depth,0,c,l,null):_.texImage2D(o,0,p,a.width,a.height,0,c,l,null)),_.bindFramebuffer(36160,t),j(a)?u.framebufferTexture2DMultisampleEXT(36160,s,o,r.get(i).__webglTexture,0,P(a)):e.framebufferTexture2D(36160,s,o,r.get(i).__webglTexture,0),_.bindFramebuffer(36160,null)}function q(t,_,r){if(e.bindRenderbuffer(36161,t),_.depthBuffer&&!_.stencilBuffer){let a=33189;if(r||j(_)){const t=_.depthTexture;t&&t.isDepthTexture&&(t.type===de?a=36012:t.type===he&&(a=33190));const r=P(_);j(_)?u.renderbufferStorageMultisampleEXT(36161,r,a,_.width,_.height):e.renderbufferStorageMultisample(36161,r,a,_.width,_.height)}else e.renderbufferStorage(36161,a,_.width,_.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(_.depthBuffer&&_.stencilBuffer){const a=P(_);r&&!1===j(_)?e.renderbufferStorageMultisample(36161,a,35056,_.width,_.height):j(_)?u.renderbufferStorageMultisampleEXT(36161,a,35056,_.width,_.height):e.renderbufferStorage(36161,34041,_.width,_.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===_.isWebGLMultipleRenderTargets?_.texture[0]:_.texture,a=n.convert(t.format,t.encoding),i=n.convert(t.type),s=I(t.internalFormat,a,i,t.encoding),o=P(_);r&&!1===j(_)?e.renderbufferStorageMultisample(36161,o,s,_.width,_.height):j(_)?u.renderbufferStorageMultisampleEXT(36161,o,s,_.width,_.height):e.renderbufferStorage(36161,s,_.width,_.height)}e.bindRenderbuffer(36161,null)}function H(t){const a=r.get(t),n=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!a.__autoAllocateDepthBuffer){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,a){if(a&&a.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(_.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),T(a.depthTexture,0);const n=r.get(a.depthTexture).__webglTexture,i=P(a);if(a.depthTexture.format===Se)j(a)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,n,0,i):e.framebufferTexture2D(36160,36096,3553,n,0);else{if(a.depthTexture.format!==Me)throw new Error("Unknown depthTexture format");j(a)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,n,0,i):e.framebufferTexture2D(36160,33306,3553,n,0)}}(a.__webglFramebuffer,t)}else if(n){a.__webglDepthbuffer=[];for(let r=0;r<6;r++)_.bindFramebuffer(36160,a.__webglFramebuffer[r]),a.__webglDepthbuffer[r]=e.createRenderbuffer(),q(a.__webglDepthbuffer[r],t,!1)}else _.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),q(a.__webglDepthbuffer,t,!1);_.bindFramebuffer(36160,null)}function P(e){return Math.min(p,e.samples)}function j(e){const _=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==_.__useRenderToTexture}function F(e,_){const r=e.encoding,a=e.format,n=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===xt||r!==lt&&(r===pt?!1===s?!0===t.has("EXT_sRGB")&&a===be?(e.format=xt,e.minFilter=ie,e.generateMipmaps=!1):_=Ut.sRGBToLinear(_):a===be&&n===ce||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),_}this.allocateTextureUnit=function(){const e=C;return e>=o&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+o),C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){const a=r.get(e);e.version>0&&a.__version!==e.version?B(a,e,t):(_.activeTexture(33984+t),_.bindTexture(35866,a.__webglTexture))},this.setTexture3D=function(e,t){const a=r.get(e);e.version>0&&a.__version!==e.version?B(a,e,t):(_.activeTexture(33984+t),_.bindTexture(32879,a.__webglTexture))},this.setTextureCube=function(t,a){const i=r.get(t);t.version>0&&i.__version!==t.version?function(t,r,a){if(6!==r.image.length)return;const i=E(t,r),o=r.source;if(_.activeTexture(33984+a),_.bindTexture(34067,t.__webglTexture),o.version!==o.__currentVersion||!0===i){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const a=r.isCompressedTexture||r.image[0].isCompressedTexture,i=r.image[0]&&r.image[0].isDataTexture,l=[];for(let e=0;e<6;e++)l[e]=a||i?i?r.image[e].image:r.image[e]:v(r.image[e],!1,!0,c),l[e]=F(r,l[e]);const p=l[0],u=$(p)||s,f=n.convert(r.format,r.encoding),h=n.convert(r.type),d=I(r.internalFormat,f,h,r.encoding),m=s&&!0!==r.isVideoTexture,y=void 0===t.__version;let g,S=L(r,p,u);if(D(34067,r,u),a){m&&y&&_.texStorage2D(34067,S,d,p.width,p.height);for(let e=0;e<6;e++){g=l[e].mipmaps;for(let t=0;t<g.length;t++){const a=g[t];r.format!==be?null!==f?m?_.compressedTexSubImage2D(34069+e,t,0,0,a.width,a.height,f,a.data):_.compressedTexImage2D(34069+e,t,d,a.width,a.height,0,a.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):m?_.texSubImage2D(34069+e,t,0,0,a.width,a.height,f,h,a.data):_.texImage2D(34069+e,t,d,a.width,a.height,0,f,h,a.data)}}}else{g=r.mipmaps,m&&y&&(g.length>0&&S++,_.texStorage2D(34067,S,d,l[0].width,l[0].height));for(let e=0;e<6;e++)if(i){m?_.texSubImage2D(34069+e,0,0,0,l[e].width,l[e].height,f,h,l[e].data):_.texImage2D(34069+e,0,d,l[e].width,l[e].height,0,f,h,l[e].data);for(let t=0;t<g.length;t++){const r=g[t].image[e].image;m?_.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,f,h,r.data):_.texImage2D(34069+e,t+1,d,r.width,r.height,0,f,h,r.data)}}else{m?_.texSubImage2D(34069+e,0,0,0,f,h,l[e]):_.texImage2D(34069+e,0,d,f,h,l[e]);for(let t=0;t<g.length;t++){const r=g[t];m?_.texSubImage2D(34069+e,t+1,0,0,f,h,r.image[e]):_.texImage2D(34069+e,t+1,d,f,h,r.image[e])}}}x(r,u)&&b(34067),o.__currentVersion=o.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(i,t,a):(_.activeTexture(33984+a),_.bindTexture(34067,i.__webglTexture))},this.rebindTextures=function(e,t,_){const a=r.get(e);void 0!==t&&V(a.__webglFramebuffer,e,e.texture,36064,3553),void 0!==_&&H(e)},this.setupRenderTarget=function(t){const o=t.texture,c=r.get(t),l=r.get(o);t.addEventListener("dispose",w),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=o.version,i.memory.textures++);const p=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultipleRenderTargets,f=$(t)||s;if(p){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else if(c.__webglFramebuffer=e.createFramebuffer(),u)if(a.drawBuffers){const _=t.texture;for(let t=0,a=_.length;t<a;t++){const a=r.get(_[t]);void 0===a.__webglTexture&&(a.__webglTexture=e.createTexture(),i.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(s&&t.samples>0&&!1===j(t)){c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer);const r=n.convert(o.format,o.encoding),a=n.convert(o.type),i=I(o.internalFormat,r,a,o.encoding),s=P(t);e.renderbufferStorageMultisample(36161,s,i,t.width,t.height),_.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),q(c.__webglDepthRenderbuffer,t,!0)),_.bindFramebuffer(36160,null)}if(p){_.bindTexture(34067,l.__webglTexture),D(34067,o,f);for(let e=0;e<6;e++)V(c.__webglFramebuffer[e],t,o,36064,34069+e);x(o,f)&&b(34067),_.unbindTexture()}else if(u){const e=t.texture;for(let a=0,n=e.length;a<n;a++){const n=e[a],i=r.get(n);_.bindTexture(3553,i.__webglTexture),D(3553,n,f),V(c.__webglFramebuffer,t,n,36064+a,3553),x(n,f)&&b(3553)}_.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),_.bindTexture(e,l.__webglTexture),D(e,o,f),V(c.__webglFramebuffer,t,o,36064,e),x(o,f)&&b(e),_.unbindTexture()}t.depthBuffer&&H(t)},this.updateRenderTargetMipmap=function(e){const t=$(e)||s,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let n=0,i=a.length;n<i;n++){const i=a[n];if(x(i,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,a=r.get(i).__webglTexture;_.bindTexture(t,a),b(t),_.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===j(t)){const a=t.width,n=t.height;let i=16384;const s=[36064],o=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(o);const c=r.get(t),l=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;!1===l&&(t.depthBuffer&&(i|=256),t.stencilBuffer&&(i|=1024)),_.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),_.bindFramebuffer(36009,c.__webglFramebuffer),!0===l&&(e.invalidateFramebuffer(36008,[o]),e.invalidateFramebuffer(36009,[o])),e.blitFramebuffer(0,0,a,n,0,0,a,n,i,9728),f&&e.invalidateFramebuffer(36008,s),_.bindFramebuffer(36008,null),_.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=H,this.setupFrameBufferTexture=V,this.useMultisampledRTT=j}function Gi(e,t,_){const r=_.isWebGL2;return{convert:function(_,a=null){let n;if(_===ce)return 5121;if(_===ye)return 32819;if(_===ge)return 32820;if(_===le)return 5120;if(_===pe)return 5122;if(_===ue)return 5123;if(_===fe)return 5124;if(_===he)return 5125;if(_===de)return 5126;if(_===me)return r?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(_===$e)return 6406;if(_===be)return 6408;if(_===Ie)return 6409;if(_===Le)return 6410;if(_===Se)return 6402;if(_===Me)return 34041;if(_===we)return 6403;if(_===xe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(_===xt)return n=t.get("EXT_sRGB"),null!==n?n.SRGB_ALPHA_EXT:null;if(_===Oe)return 36244;if(_===Ce)return 33319;if(_===Te)return 33320;if(_===Ae)return 36249;if(_===Re||_===De||_===Ee||_===Be)if(a===pt){if(n=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===n)return null;if(_===Re)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(_===De)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(_===Ee)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(_===Be)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(_===Re)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(_===De)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(_===Ee)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(_===Be)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(_===Ve||_===qe||_===He||_===Pe){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(_===Ve)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(_===qe)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(_===He)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(_===Pe)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(_===je)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(_===Fe||_===ze){if(n=t.get("WEBGL_compressed_texture_etc"),null===n)return null;if(_===Fe)return a===pt?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(_===ze)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}if(_===ke||_===Ge||_===Ne||_===We||_===Ue||_===Ze||_===Xe||_===Je||_===Ye||_===Qe||_===Ke||_===et||_===tt||_===_t){if(n=t.get("WEBGL_compressed_texture_astc"),null===n)return null;if(_===ke)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(_===Ge)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(_===Ne)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(_===We)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(_===Ue)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(_===Ze)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(_===Xe)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(_===Je)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(_===Ye)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(_===Qe)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(_===Ke)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(_===et)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(_===tt)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(_===_t)return a===pt?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}if(_===rt){if(n=t.get("EXT_texture_compression_bptc"),null===n)return null;if(_===rt)return a===pt?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}return _===ve?r?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[_]?e[_]:null}}}class Ni extends na{constructor(e=[]){super(),this.cameras=e}}Ni.prototype.isArrayCamera=!0;class Wi extends nr{constructor(){super(),this.type="Group"}}Wi.prototype.isGroup=!0;const Ui={type:"move"};class Zi{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Wi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Wi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new r_,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new r_),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Wi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new r_,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new r_),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,_){let r=null,a=null,n=null;const i=this._targetRay,s=this._grip,o=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==i&&(r=t.getPose(e.targetRaySpace,_),null!==r&&(i.matrix.fromArray(r.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),r.linearVelocity?(i.hasLinearVelocity=!0,i.linearVelocity.copy(r.linearVelocity)):i.hasLinearVelocity=!1,r.angularVelocity?(i.hasAngularVelocity=!0,i.angularVelocity.copy(r.angularVelocity)):i.hasAngularVelocity=!1,this.dispatchEvent(Ui))),o&&e.hand){n=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,_);if(void 0===o.joints[r.jointName]){const e=new Wi;e.matrixAutoUpdate=!1,e.visible=!1,o.joints[r.jointName]=e,o.add(e)}const a=o.joints[r.jointName];null!==e&&(a.matrix.fromArray(e.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.jointRadius=e.radius),a.visible=null!==e}const r=o.joints["index-finger-tip"],a=o.joints["thumb-tip"],i=r.position.distanceTo(a.position),s=.02,c=.005;o.inputState.pinching&&i>s+c?(o.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!o.inputState.pinching&&i<=s-c&&(o.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(a=t.getPose(e.gripSpace,_),null!==a&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1));return null!==i&&(i.visible=null!==r),null!==s&&(s.visible=null!==a),null!==o&&(o.visible=null!==n),this}}class Xi extends Yt{constructor(e,t,_,r,a,n,i,s,o,c){if((c=void 0!==c?c:Se)!==Se&&c!==Me)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===_&&c===Se&&(_=ue),void 0===_&&c===Me&&(_=ve),super(null,r,a,n,i,s,c,_,o),this.image={width:e,height:t},this.magFilter=void 0!==i?i:re,this.minFilter=void 0!==s?s:re,this.flipY=!1,this.generateMipmaps=!1}}Xi.prototype.isDepthTexture=!0;class Ji extends bt{constructor(e,t){super();const _=this;let r=null,a=1,n=null,i="local-floor",s=null,o=null,c=null,l=null,p=null,u=null;const f=t.getContextAttributes();let h=null,d=null;const m=[],y=new Map,g=new na;g.layers.enable(1),g.viewport=new Qt;const v=new na;v.layers.enable(2),v.viewport=new Qt;const $=[g,v],x=new Ni;x.layers.enable(1),x.layers.enable(2);let b=null,I=null;function L(e){const t=y.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function S(){y.forEach((function(e,t){e.disconnect(t)})),y.clear(),b=null,I=null,e.setRenderTarget(h),p=null,l=null,c=null,r=null,d=null,A.stop(),_.isPresenting=!1,_.dispatchEvent({type:"sessionend"})}function M(e){const t=r.inputSources;for(let e=0;e<t.length;e++){const _="right"===t[e].handedness?1:0;y.set(t[e],m[_])}for(let t=0;t<e.removed.length;t++){const _=e.removed[t],r=y.get(_);r&&(r.dispatchEvent({type:"disconnected",data:_}),y.delete(_))}for(let t=0;t<e.added.length;t++){const _=e.added[t],r=y.get(_);r&&r.dispatchEvent({type:"connected",data:_})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=m[e];return void 0===t&&(t=new Zi,m[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=m[e];return void 0===t&&(t=new Zi,m[e]=t),t.getGripSpace()},this.getHand=function(e){let t=m[e];return void 0===t&&(t=new Zi,m[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){a=e,!0===_.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){i=e,!0===_.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s||n},this.setReferenceSpace=function(e){s=e},this.getBaseLayer=function(){return null!==l?l:p},this.getBinding=function(){return c},this.getFrame=function(){return u},this.getSession=function(){return r},this.setSession=async function(s){if(r=s,null!==r){if(h=e.getRenderTarget(),r.addEventListener("select",L),r.addEventListener("selectstart",L),r.addEventListener("selectend",L),r.addEventListener("squeeze",L),r.addEventListener("squeezestart",L),r.addEventListener("squeezeend",L),r.addEventListener("end",S),r.addEventListener("inputsourceschange",M),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const _={antialias:void 0!==r.renderState.layers||f.antialias,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:a};p=new XRWebGLLayer(r,t,_),r.updateRenderState({baseLayer:p}),d=new Kt(p.framebufferWidth,p.framebufferHeight,{format:be,type:ce,encoding:e.outputEncoding})}else{let _=null,n=null,i=null;f.depth&&(i=f.stencil?35056:33190,_=f.stencil?Me:Se,n=f.stencil?ve:ue);const s={colorFormat:e.outputEncoding===pt?35907:32856,depthFormat:i,scaleFactor:a};c=new XRWebGLBinding(r,t),l=c.createProjectionLayer(s),r.updateRenderState({layers:[l]}),d=new Kt(l.textureWidth,l.textureHeight,{format:be,type:ce,depthTexture:new Xi(l.textureWidth,l.textureHeight,n,void 0,void 0,void 0,void 0,void 0,void 0,_),stencilBuffer:f.stencil,encoding:e.outputEncoding,samples:f.antialias?4:0}),e.properties.get(d).__ignoreDepthValues=l.ignoreDepthValues}d.isXRRenderTarget=!0,this.setFoveation(1),n=await r.requestReferenceSpace(i),A.setContext(r),A.start(),_.isPresenting=!0,_.dispatchEvent({type:"sessionstart"})}};const w=new r_,O=new r_;function C(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;x.near=v.near=g.near=e.near,x.far=v.far=g.far=e.far,b===x.near&&I===x.far||(r.updateRenderState({depthNear:x.near,depthFar:x.far}),b=x.near,I=x.far);const t=e.parent,_=x.cameras;C(x,t);for(let e=0;e<_.length;e++)C(_[e],t);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),e.position.copy(x.position),e.quaternion.copy(x.quaternion),e.scale.copy(x.scale),e.matrix.copy(x.matrix),e.matrixWorld.copy(x.matrixWorld);const a=e.children;for(let e=0,t=a.length;e<t;e++)a[e].updateMatrixWorld(!0);2===_.length?function(e,t,_){w.setFromMatrixPosition(t.matrixWorld),O.setFromMatrixPosition(_.matrixWorld);const r=w.distanceTo(O),a=t.projectionMatrix.elements,n=_.projectionMatrix.elements,i=a[14]/(a[10]-1),s=a[14]/(a[10]+1),o=(a[9]+1)/a[5],c=(a[9]-1)/a[5],l=(a[8]-1)/a[0],p=(n[8]+1)/n[0],u=i*l,f=i*p,h=r/(-l+p),d=h*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(d),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const m=i+h,y=s+h,g=u-d,v=f+(r-d),$=o*s/y*m,x=c*s/y*m;e.projectionMatrix.makePerspective(g,v,$,x,m,y)}(x,g,v):x.projectionMatrix.copy(g.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){return null!==l?l.fixedFoveation:null!==p?p.fixedFoveation:void 0},this.setFoveation=function(e){null!==l&&(l.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)};let T=null;const A=new ya;A.setAnimationLoop((function(t,_){if(o=_.getViewerPose(s||n),u=_,null!==o){const t=o.views;null!==p&&(e.setRenderTargetFramebuffer(d,p.framebuffer),e.setRenderTarget(d));let _=!1;t.length!==x.cameras.length&&(x.cameras.length=0,_=!0);for(let r=0;r<t.length;r++){const a=t[r];let n=null;if(null!==p)n=p.getViewport(a);else{const t=c.getViewSubImage(l,a);n=t.viewport,0===r&&(e.setRenderTargetTextures(d,t.colorTexture,l.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(d))}const i=$[r];i.matrix.fromArray(a.transform.matrix),i.projectionMatrix.fromArray(a.projectionMatrix),i.viewport.set(n.x,n.y,n.width,n.height),0===r&&x.matrix.copy(i.matrix),!0===_&&x.cameras.push(i)}}const a=r.inputSources;for(let e=0;e<m.length;e++){const t=a[e],r=y.get(t);void 0!==r&&r.update(t,_,s||n)}T&&T(t,_),u=null})),this.setAnimationLoop=function(e){T=e},this.dispose=function(){}}}function Yi(e,t){function _(_,r){_.opacity.value=r.opacity,r.color&&_.diffuse.value.copy(r.color),r.emissive&&_.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(_.map.value=r.map),r.alphaMap&&(_.alphaMap.value=r.alphaMap),r.bumpMap&&(_.bumpMap.value=r.bumpMap,_.bumpScale.value=r.bumpScale,r.side===o&&(_.bumpScale.value*=-1)),r.displacementMap&&(_.displacementMap.value=r.displacementMap,_.displacementScale.value=r.displacementScale,_.displacementBias.value=r.displacementBias),r.emissiveMap&&(_.emissiveMap.value=r.emissiveMap),r.normalMap&&(_.normalMap.value=r.normalMap,_.normalScale.value.copy(r.normalScale),r.side===o&&_.normalScale.value.negate()),r.specularMap&&(_.specularMap.value=r.specularMap),r.alphaTest>0&&(_.alphaTest.value=r.alphaTest);const a=t.get(r).envMap;if(a&&(_.envMap.value=a,_.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,_.reflectivity.value=r.reflectivity,_.ior.value=r.ior,_.refractionRatio.value=r.refractionRatio),r.lightMap){_.lightMap.value=r.lightMap;const t=!0!==e.physicallyCorrectLights?Math.PI:1;_.lightMapIntensity.value=r.lightMapIntensity*t}let n,i;r.aoMap&&(_.aoMap.value=r.aoMap,_.aoMapIntensity.value=r.aoMapIntensity),r.map?n=r.map:r.specularMap?n=r.specularMap:r.displacementMap?n=r.displacementMap:r.normalMap?n=r.normalMap:r.bumpMap?n=r.bumpMap:r.roughnessMap?n=r.roughnessMap:r.metalnessMap?n=r.metalnessMap:r.alphaMap?n=r.alphaMap:r.emissiveMap?n=r.emissiveMap:r.clearcoatMap?n=r.clearcoatMap:r.clearcoatNormalMap?n=r.clearcoatNormalMap:r.clearcoatRoughnessMap?n=r.clearcoatRoughnessMap:r.specularIntensityMap?n=r.specularIntensityMap:r.specularColorMap?n=r.specularColorMap:r.transmissionMap?n=r.transmissionMap:r.thicknessMap?n=r.thicknessMap:r.sheenColorMap?n=r.sheenColorMap:r.sheenRoughnessMap&&(n=r.sheenRoughnessMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),_.uvTransform.value.copy(n.matrix)),r.aoMap?i=r.aoMap:r.lightMap&&(i=r.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),_.uv2Transform.value.copy(i.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,a,n,i){r.isMeshBasicMaterial||r.isMeshLambertMaterial?_(e,r):r.isMeshToonMaterial?(_(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(_(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(_(e,r),function(e,_){e.roughness.value=_.roughness,e.metalness.value=_.metalness,_.roughnessMap&&(e.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(e.metalnessMap.value=_.metalnessMap);t.get(_).envMap&&(e.envMapIntensity.value=_.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,_){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===o&&e.clearcoatNormalScale.value.negate())),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=_.texture,e.transmissionSamplerSize.value.set(_.width,_.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,i)):r.isMeshMatcapMaterial?(_(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?_(e,r):r.isMeshDistanceMaterial?(_(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?_(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,_,r){let a;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*_,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?a=t.map:t.alphaMap&&(a=t.alphaMap),void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,n):r.isSpriteMaterial?function(e,t){let _;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?_=t.map:t.alphaMap&&(_=t.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),e.uvTransform.value.copy(_.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Qi(t={}){const _=void 0!==t.canvas?t.canvas:function(){const e=Et("canvas");return e.style.display="block",e}(),r=void 0!==t.context?t.context:null,a=void 0===t.depth||t.depth,n=void 0===t.stencil||t.stencil,i=void 0!==t.antialias&&t.antialias,l=void 0===t.premultipliedAlpha||t.premultipliedAlpha,p=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",f=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h;h=null!==r?r.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let d=null,m=null;const y=[],g=[];this.domElement=_,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=lt,this.physicallyCorrectLights=!1,this.toneMapping=k,this.toneMappingExposure=1;const v=this;let $=!1,x=0,b=0,I=null,L=-1,S=null;const M=new Qt,w=new Qt;let O=null,C=_.width,T=_.height,A=1,R=null,D=null;const E=new Qt(0,0,C,T),B=new Qt(0,0,C,T);let V=!1;const q=new ma;let H=!1,P=!1,j=null;const F=new E_,z=new At,G=new r_,N={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===I?A:1}let U,Z,X,J,Y,Q,K,ee,te,_e,re,ae,ne,ie,se,le,pe,ue,fe,he,ye,ge,ve,$e=r;function xe(e,t){for(let r=0;r<e.length;r++){const a=e[r],n=_.getContext(a,t);if(null!==n)return n}return null}try{const t={alpha:!0,depth:a,stencil:n,antialias:i,premultipliedAlpha:l,preserveDrawingBuffer:p,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in _&&_.setAttribute("data-engine",`three.js r${e}`),_.addEventListener("webglcontextlost",Se,!1),_.addEventListener("webglcontextrestored",Me,!1),null===$e){const e=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&e.shift(),$e=xe(e,t),null===$e)throw xe(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===$e.getShaderPrecisionFormat&&($e.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function Ie(){U=new Ga($e),Z=new Ma($e,U,t),U.init(Z),ge=new Gi($e,U,Z),X=new zi($e,U,Z),J=new Ua($e),Y=new Mi,Q=new ki($e,U,X,Y,Z,ge,J),K=new Oa(v),ee=new ka(v),te=new ga($e,Z),ve=new La($e,U,te,Z),_e=new Na($e,te,J,ve),re=new Qa($e,_e,te,J),fe=new Ya($e,Z,Q),le=new wa(Y),ae=new Si(v,K,ee,U,Z,ve,le),ne=new Yi(v,Y),ie=new Ti,se=new Vi(U,Z),ue=new Ia(v,K,X,re,h,l),pe=new Fi(v,re,Z),he=new Sa($e,U,J,Z),ye=new Wa($e,U,J,Z),J.programs=ae.programs,v.capabilities=Z,v.extensions=U,v.properties=Y,v.renderLists=ie,v.shadowMap=pe,v.state=X,v.info=J}Ie();const Le=new Ji(v,$e);function Se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),$=!0}function Me(){console.log("THREE.WebGLRenderer: Context Restored."),$=!1;const e=J.autoReset,t=pe.enabled,_=pe.autoUpdate,r=pe.needsUpdate,a=pe.type;Ie(),J.autoReset=e,pe.enabled=t,pe.autoUpdate=_,pe.needsUpdate=r,pe.type=a}function we(e){const t=e.target;t.removeEventListener("dispose",we),function(e){(function(e){const t=Y.get(e).programs;void 0!==t&&(t.forEach((function(e){ae.releaseProgram(e)})),e.isShaderMaterial&&ae.releaseShaderCache(e))})(e),Y.remove(e)}(t)}this.xr=Le,this.getContext=function(){return $e},this.getContextAttributes=function(){return $e.getContextAttributes()},this.forceContextLoss=function(){const e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(e){void 0!==e&&(A=e,this.setSize(C,T,!1))},this.getSize=function(e){return e.set(C,T)},this.setSize=function(e,t,r){Le.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=e,T=t,_.width=Math.floor(e*A),_.height=Math.floor(t*A),!1!==r&&(_.style.width=e+"px",_.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(C*A,T*A).floor()},this.setDrawingBufferSize=function(e,t,r){C=e,T=t,A=r,_.width=Math.floor(e*r),_.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(E)},this.setViewport=function(e,t,_,r){e.isVector4?E.set(e.x,e.y,e.z,e.w):E.set(e,t,_,r),X.viewport(M.copy(E).multiplyScalar(A).floor())},this.getScissor=function(e){return e.copy(B)},this.setScissor=function(e,t,_,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,_,r),X.scissor(w.copy(B).multiplyScalar(A).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(e){X.setScissorTest(V=e)},this.setOpaqueSort=function(e){R=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,_=!0){let r=0;e&&(r|=16384),t&&(r|=256),_&&(r|=1024),$e.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_.removeEventListener("webglcontextlost",Se,!1),_.removeEventListener("webglcontextrestored",Me,!1),ie.dispose(),se.dispose(),Y.dispose(),K.dispose(),ee.dispose(),re.dispose(),ve.dispose(),ae.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",Ce),Le.removeEventListener("sessionend",Te),j&&(j.dispose(),j=null),Ae.stop()},this.renderBufferDirect=function(e,t,_,r,a,n){null===t&&(t=N);const i=a.isMesh&&a.matrixWorld.determinant()<0,s=function(e,t,_,r,a){!0!==t.isScene&&(t=N),Q.resetTextureUnits();const n=t.fog,i=r.isMeshStandardMaterial?t.environment:null,s=null===I?v.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:lt,o=(r.isMeshStandardMaterial?ee:K).get(r.envMap||i),c=!0===r.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,l=!!r.normalMap&&!!_.attributes.tangent,p=!!_.morphAttributes.position,u=!!_.morphAttributes.normal,f=!!_.morphAttributes.color,h=r.toneMapped?v.toneMapping:k,d=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,y=void 0!==d?d.length:0,g=Y.get(r),$=m.state.lights;if(!0===H&&(!0===P||e!==S)){const t=e===S&&r.id===L;le.setState(r,e,t)}let x=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==$.state.version||g.outputEncoding!==s||a.isInstancedMesh&&!1===g.instancing?x=!0:a.isInstancedMesh||!0!==g.instancing?a.isSkinnedMesh&&!1===g.skinning?x=!0:a.isSkinnedMesh||!0!==g.skinning?g.envMap!==o||!0===r.fog&&g.fog!==n?x=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===le.numPlanes&&g.numIntersection===le.numIntersection?(g.vertexAlphas!==c||g.vertexTangents!==l||g.morphTargets!==p||g.morphNormals!==u||g.morphColors!==f||g.toneMapping!==h||!0===Z.isWebGL2&&g.morphTargetsCount!==y)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,g.__version=r.version);let b=g.currentProgram;!0===x&&(b=Ve(r,t,a));let M=!1,w=!1,O=!1;const C=b.getUniforms(),R=g.uniforms;if(X.useProgram(b.program)&&(M=!0,w=!0,O=!0),r.id!==L&&(L=r.id,w=!0),M||S!==e){if(C.setValue($e,"projectionMatrix",e.projectionMatrix),Z.logarithmicDepthBuffer&&C.setValue($e,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,w=!0,O=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=C.map.cameraPosition;void 0!==t&&t.setValue($e,G.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&C.setValue($e,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||a.isSkinnedMesh)&&C.setValue($e,"viewMatrix",e.matrixWorldInverse)}if(a.isSkinnedMesh){C.setOptional($e,a,"bindMatrix"),C.setOptional($e,a,"bindMatrixInverse");const e=a.skeleton;e&&(Z.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),C.setValue($e,"boneTexture",e.boneTexture,Q),C.setValue($e,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const D=_.morphAttributes;var E,B;return(void 0!==D.position||void 0!==D.normal||void 0!==D.color&&!0===Z.isWebGL2)&&fe.update(a,_,r,b),(w||g.receiveShadow!==a.receiveShadow)&&(g.receiveShadow=a.receiveShadow,C.setValue($e,"receiveShadow",a.receiveShadow)),w&&(C.setValue($e,"toneMappingExposure",v.toneMappingExposure),g.needsLights&&(B=O,(E=R).ambientLightColor.needsUpdate=B,E.lightProbe.needsUpdate=B,E.directionalLights.needsUpdate=B,E.directionalLightShadows.needsUpdate=B,E.pointLights.needsUpdate=B,E.pointLightShadows.needsUpdate=B,E.spotLights.needsUpdate=B,E.spotLightShadows.needsUpdate=B,E.rectAreaLights.needsUpdate=B,E.hemisphereLights.needsUpdate=B),n&&!0===r.fog&&ne.refreshFogUniforms(R,n),ne.refreshMaterialUniforms(R,r,A,T,j),ri.upload($e,g.uniformsList,R,Q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ri.upload($e,g.uniformsList,R,Q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&C.setValue($e,"center",a.center),C.setValue($e,"modelViewMatrix",a.modelViewMatrix),C.setValue($e,"normalMatrix",a.normalMatrix),C.setValue($e,"modelMatrix",a.matrixWorld),b}(e,t,_,r,a);X.setMaterial(r,i);let o=_.index;const c=_.attributes.position;if(null===o){if(void 0===c||0===c.count)return}else if(0===o.count)return;let l,p=1;!0===r.wireframe&&(o=_e.getWireframeAttribute(_),p=2),ve.setup(a,r,s,_,o);let u=he;null!==o&&(l=te.get(o),u=ye,u.setIndex(l));const f=null!==o?o.count:c.count,h=_.drawRange.start*p,d=_.drawRange.count*p,y=null!==n?n.start*p:0,g=null!==n?n.count*p:1/0,$=Math.max(h,y),x=Math.min(f,h+d,y+g)-1,b=Math.max(0,x-$+1);if(0!==b){if(a.isMesh)!0===r.wireframe?(X.setLineWidth(r.wireframeLinewidth*W()),u.setMode(1)):u.setMode(4);else if(a.isLine){let e=r.linewidth;void 0===e&&(e=1),X.setLineWidth(e*W()),a.isLineSegments?u.setMode(1):a.isLineLoop?u.setMode(2):u.setMode(3)}else a.isPoints?u.setMode(0):a.isSprite&&u.setMode(4);if(a.isInstancedMesh)u.renderInstances($,b,a.count);else if(_.isInstancedBufferGeometry){const e=Math.min(_.instanceCount,_._maxInstanceCount);u.renderInstances($,b,e)}else u.render($,b)}},this.compile=function(e,t){m=se.get(e),m.init(),g.push(m),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),m.setupLights(v.physicallyCorrectLights),e.traverse((function(t){const _=t.material;if(_)if(Array.isArray(_))for(let r=0;r<_.length;r++)Ve(_[r],e,t);else Ve(_,e,t)})),g.pop(),m=null};let Oe=null;function Ce(){Ae.stop()}function Te(){Ae.start()}const Ae=new ya;function Re(e,t,_,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)_=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||q.intersectsSprite(e)){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=re.update(e),a=e.material;a.visible&&d.push(e,t,a,_,G.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==J.render.frame&&(e.skeleton.update(),e.skeleton.frame=J.render.frame),!e.frustumCulled||q.intersectsObject(e))){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);const t=re.update(e),a=e.material;if(Array.isArray(a)){const r=t.groups;for(let n=0,i=r.length;n<i;n++){const i=r[n],s=a[i.materialIndex];s&&s.visible&&d.push(e,t,s,_,G.z,i)}}else a.visible&&d.push(e,t,a,_,G.z,null)}const a=e.children;for(let e=0,n=a.length;e<n;e++)Re(a[e],t,_,r)}function De(e,t,_,r){const a=e.opaque,n=e.transmissive,s=e.transparent;m.setupLightsView(_),n.length>0&&function(e,t,_){const r=Z.isWebGL2;null===j&&(j=new Kt(1,1,{generateMipmaps:!0,type:U.has("EXT_color_buffer_half_float")?me:ce,minFilter:oe,samples:r&&!0===i?4:0})),v.getDrawingBufferSize(z),r?j.setSize(z.x,z.y):j.setSize(Tt(z.x),Tt(z.y));const a=v.getRenderTarget();v.setRenderTarget(j),v.clear();const n=v.toneMapping;v.toneMapping=k,Ee(e,t,_),v.toneMapping=n,Q.updateMultisampleRenderTarget(j),Q.updateRenderTargetMipmap(j),v.setRenderTarget(a)}(a,t,_),r&&X.viewport(M.copy(r)),a.length>0&&Ee(a,t,_),n.length>0&&Ee(n,t,_),s.length>0&&Ee(s,t,_),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1)}function Ee(e,t,_){const r=!0===t.isScene?t.overrideMaterial:null;for(let a=0,n=e.length;a<n;a++){const n=e[a],i=n.object,s=n.geometry,o=null===r?n.material:r,c=n.group;i.layers.test(_.layers)&&Be(i,t,_,s,o,c)}}function Be(e,t,_,r,a,n){e.onBeforeRender(v,t,_,r,a,n),e.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),a.onBeforeRender(v,t,_,r,e,n),!0===a.transparent&&a.side===c?(a.side=o,a.needsUpdate=!0,v.renderBufferDirect(_,t,r,a,e,n),a.side=s,a.needsUpdate=!0,v.renderBufferDirect(_,t,r,a,e,n),a.side=c):v.renderBufferDirect(_,t,r,a,e,n),e.onAfterRender(v,t,_,r,a,n)}function Ve(e,t,_){!0!==t.isScene&&(t=N);const r=Y.get(e),a=m.state.lights,n=m.state.shadowsArray,i=a.state.version,s=ae.getParameters(e,a.state,n,t,_),o=ae.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:K).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",we),c=new Map,r.programs=c);let l=c.get(o);if(void 0!==l){if(r.currentProgram===l&&r.lightsStateVersion===i)return qe(e,s),l}else s.uniforms=ae.getUniforms(e),e.onBuild(_,s,v),e.onBeforeCompile(s,v),l=ae.acquireProgram(s,o),c.set(o,l),r.uniforms=s.uniforms;const p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(p.clippingPlanes=le.uniform),qe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=i,r.needsLights&&(p.ambientLightColor.value=a.state.ambient,p.lightProbe.value=a.state.probe,p.directionalLights.value=a.state.directional,p.directionalLightShadows.value=a.state.directionalShadow,p.spotLights.value=a.state.spot,p.spotLightShadows.value=a.state.spotShadow,p.rectAreaLights.value=a.state.rectArea,p.ltc_1.value=a.state.rectAreaLTC1,p.ltc_2.value=a.state.rectAreaLTC2,p.pointLights.value=a.state.point,p.pointLightShadows.value=a.state.pointShadow,p.hemisphereLights.value=a.state.hemi,p.directionalShadowMap.value=a.state.directionalShadowMap,p.directionalShadowMatrix.value=a.state.directionalShadowMatrix,p.spotShadowMap.value=a.state.spotShadowMap,p.spotShadowMatrix.value=a.state.spotShadowMatrix,p.pointShadowMap.value=a.state.pointShadowMap,p.pointShadowMatrix.value=a.state.pointShadowMatrix);const u=l.getUniforms(),f=ri.seqWithValue(u.seq,p);return r.currentProgram=l,r.uniformsList=f,l}function qe(e,t){const _=Y.get(e);_.outputEncoding=t.outputEncoding,_.instancing=t.instancing,_.skinning=t.skinning,_.morphTargets=t.morphTargets,_.morphNormals=t.morphNormals,_.morphColors=t.morphColors,_.morphTargetsCount=t.morphTargetsCount,_.numClippingPlanes=t.numClippingPlanes,_.numIntersection=t.numClipIntersection,_.vertexAlphas=t.vertexAlphas,_.vertexTangents=t.vertexTangents,_.toneMapping=t.toneMapping}Ae.setAnimationLoop((function(e){Oe&&Oe(e)})),"undefined"!=typeof self&&Ae.setContext(self),this.setAnimationLoop=function(e){Oe=e,Le.setAnimationLoop(e),null===e?Ae.stop():Ae.start()},Le.addEventListener("sessionstart",Ce),Le.addEventListener("sessionend",Te),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===$)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===Le.enabled&&!0===Le.isPresenting&&(!0===Le.cameraAutoUpdate&&Le.updateCamera(t),t=Le.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,I),m=se.get(e,g.length),m.init(),g.push(m),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),q.setFromProjectionMatrix(F),P=this.localClippingEnabled,H=le.init(this.clippingPlanes,P,t),d=ie.get(e,y.length),d.init(),y.push(d),Re(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(R,D),!0===H&&le.beginShadows();const _=m.state.shadowsArray;if(pe.render(_,e,t),!0===H&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(d,e),m.setupLights(v.physicallyCorrectLights),t.isArrayCamera){const _=t.cameras;for(let t=0,r=_.length;t<r;t++){const r=_[t];De(d,e,r,r.viewport)}}else De(d,e,t);null!==I&&(Q.updateMultisampleRenderTarget(I),Q.updateRenderTargetMipmap(I)),!0===e.isScene&&e.onAfterRender(v,e,t),ve.resetDefaultState(),L=-1,S=null,g.pop(),m=g.length>0?g[g.length-1]:null,y.pop(),d=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(e,t,_){Y.get(e.texture).__webglTexture=t,Y.get(e.depthTexture).__webglTexture=_;const r=Y.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===_,r.__autoAllocateDepthBuffer||!0===U.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const _=Y.get(e);_.__webglFramebuffer=t,_.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,_=0){I=e,x=t,b=_;let r=!0;if(e){const t=Y.get(e);void 0!==t.__useDefaultFramebuffer?(X.bindFramebuffer(36160,null),r=!1):void 0===t.__webglFramebuffer?Q.setupRenderTarget(e):t.__hasExternalTextures&&Q.rebindTextures(e,Y.get(e.texture).__webglTexture,Y.get(e.depthTexture).__webglTexture)}let a=null,n=!1,i=!1;if(e){const _=e.texture;(_.isData3DTexture||_.isDataArrayTexture)&&(i=!0);const r=Y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=r[t],n=!0):a=Z.isWebGL2&&e.samples>0&&!1===Q.useMultisampledRTT(e)?Y.get(e).__webglMultisampledFramebuffer:r,M.copy(e.viewport),w.copy(e.scissor),O=e.scissorTest}else M.copy(E).multiplyScalar(A).floor(),w.copy(B).multiplyScalar(A).floor(),O=V;if(X.bindFramebuffer(36160,a)&&Z.drawBuffers&&r&&X.drawBuffers(e,a),X.viewport(M),X.scissor(w),X.setScissorTest(O),n){const r=Y.get(e.texture);$e.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,_)}else if(i){const r=Y.get(e.texture),a=t||0;$e.framebufferTextureLayer(36160,36064,r.__webglTexture,_||0,a)}L=-1},this.readRenderTargetPixels=function(e,t,_,r,a,n,i){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==i&&(s=s[i]),s){X.bindFramebuffer(36160,s);try{const i=e.texture,s=i.format,o=i.type;if(s!==be&&ge.convert(s)!==$e.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=o===me&&(U.has("EXT_color_buffer_half_float")||Z.isWebGL2&&U.has("EXT_color_buffer_float"));if(!(o===ce||ge.convert(o)===$e.getParameter(35738)||o===de&&(Z.isWebGL2||U.has("OES_texture_float")||U.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&_>=0&&_<=e.height-a&&$e.readPixels(t,_,r,a,ge.convert(s),ge.convert(o),n)}finally{const e=null!==I?Y.get(I).__webglFramebuffer:null;X.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,_=0){if(!0!==t.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const r=Math.pow(2,-_),a=Math.floor(t.image.width*r),n=Math.floor(t.image.height*r);Q.setTexture2D(t,0),$e.copyTexSubImage2D(3553,_,0,0,e.x,e.y,a,n),X.unbindTexture()},this.copyTextureToTexture=function(e,t,_,r=0){const a=t.image.width,n=t.image.height,i=ge.convert(_.format),s=ge.convert(_.type);Q.setTexture2D(_,0),$e.pixelStorei(37440,_.flipY),$e.pixelStorei(37441,_.premultiplyAlpha),$e.pixelStorei(3317,_.unpackAlignment),t.isDataTexture?$e.texSubImage2D(3553,r,e.x,e.y,a,n,i,s,t.image.data):t.isCompressedTexture?$e.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,i,t.mipmaps[0].data):$e.texSubImage2D(3553,r,e.x,e.y,i,s,t.image),0===r&&_.generateMipmaps&&$e.generateMipmap(3553),X.unbindTexture()},this.copyTextureToTexture3D=function(e,t,_,r,a=0){if(v.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const n=e.max.x-e.min.x+1,i=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,o=ge.convert(r.format),c=ge.convert(r.type);let l;if(r.isData3DTexture)Q.setTexture3D(r,0),l=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(r,0),l=35866}$e.pixelStorei(37440,r.flipY),$e.pixelStorei(37441,r.premultiplyAlpha),$e.pixelStorei(3317,r.unpackAlignment);const p=$e.getParameter(3314),u=$e.getParameter(32878),f=$e.getParameter(3316),h=$e.getParameter(3315),d=$e.getParameter(32877),m=_.isCompressedTexture?_.mipmaps[0]:_.image;$e.pixelStorei(3314,m.width),$e.pixelStorei(32878,m.height),$e.pixelStorei(3316,e.min.x),$e.pixelStorei(3315,e.min.y),$e.pixelStorei(32877,e.min.z),_.isDataTexture||_.isData3DTexture?$e.texSubImage3D(l,a,t.x,t.y,t.z,n,i,s,o,c,m.data):_.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$e.compressedTexSubImage3D(l,a,t.x,t.y,t.z,n,i,s,o,m.data)):$e.texSubImage3D(l,a,t.x,t.y,t.z,n,i,s,o,c,m),$e.pixelStorei(3314,p),$e.pixelStorei(32878,u),$e.pixelStorei(3316,f),$e.pixelStorei(3315,h),$e.pixelStorei(32877,d),0===a&&r.generateMipmaps&&$e.generateMipmap(l),X.unbindTexture()},this.initTexture=function(e){Q.setTexture2D(e,0),X.unbindTexture()},this.resetState=function(){x=0,b=0,I=null,X.reset(),ve.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Qi.prototype.isWebGLRenderer=!0,class extends Qi{}.prototype.isWebGL1Renderer=!0;class Ki{constructor(e,t=25e-5){this.name="",this.color=new Nt(e),this.density=t}clone(){return new Ki(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Ki.prototype.isFogExp2=!0;class es{constructor(e,t=1,_=1e3){this.name="",this.color=new Nt(e),this.near=t,this.far=_}clone(){return new es(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}es.prototype.isFog=!0;class ts extends nr{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}ts.prototype.isScene=!0;class _s{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=gt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Mt()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,_){e*=this.stride,_*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[_+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Mt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),_=new this.constructor(t,this.stride);return _.setUsage(this.usage),_}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Mt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}_s.prototype.isInterleavedBuffer=!0;const rs=new r_;class as{constructor(e,t,_,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=_,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,_=this.data.count;t<_;t++)rs.fromBufferAttribute(this,t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}applyNormalMatrix(e){for(let t=0,_=this.count;t<_;t++)rs.fromBufferAttribute(this,t),rs.applyNormalMatrix(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}transformDirection(e){for(let t=0,_=this.count;t<_;t++)rs.fromBufferAttribute(this,t),rs.transformDirection(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,_){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=_,this}setXYZ(e,t,_,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=_,this.data.array[e+2]=r,this}setXYZW(e,t,_,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=_,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const _=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[_+t])}return new br(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new as(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const _=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[_+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}as.prototype.isInterleavedBufferAttribute=!0;class ns extends gr{constructor(e){super(),this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let is;ns.prototype.isSpriteMaterial=!0;const ss=new r_,os=new r_,cs=new r_,ls=new At,ps=new At,us=new E_,fs=new r_,hs=new r_,ds=new r_,ms=new At,ys=new At,gs=new At;function vs(e,t,_,r,a,n){ls.subVectors(e,_).addScalar(.5).multiply(r),void 0!==a?(ps.x=n*ls.x-a*ls.y,ps.y=a*ls.x+n*ls.y):ps.copy(ls),e.copy(t),e.x+=ps.x,e.y+=ps.y,e.applyMatrix4(us)}(class extends nr{constructor(e){if(super(),this.type="Sprite",void 0===is){is=new Dr;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new _s(e,5);is.setIndex([0,1,2,0,2,3]),is.setAttribute("position",new as(t,3,0,!1)),is.setAttribute("uv",new as(t,2,3,!1))}this.geometry=is,this.material=void 0!==e?e:new ns,this.center=new At(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),os.setFromMatrixScale(this.matrixWorld),us.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),cs.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&os.multiplyScalar(-cs.z);const _=this.material.rotation;let r,a;0!==_&&(a=Math.cos(_),r=Math.sin(_));const n=this.center;vs(fs.set(-.5,-.5,0),cs,n,os,r,a),vs(hs.set(.5,-.5,0),cs,n,os,r,a),vs(ds.set(.5,.5,0),cs,n,os,r,a),ms.set(0,0),ys.set(1,0),gs.set(1,1);let i=e.ray.intersectTriangle(fs,hs,ds,!1,ss);if(null===i&&(vs(hs.set(-.5,.5,0),cs,n,os,r,a),ys.set(0,1),i=e.ray.intersectTriangle(fs,ds,hs,!1,ss),null===i))return;const s=e.ray.origin.distanceTo(ss);s<e.near||s>e.far||t.push({distance:s,point:ss.clone(),uv:mr.getUV(ss,fs,hs,ds,ms,ys,gs,new At),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const $s=new r_,xs=new Qt,bs=new Qt,Is=new r_,Ls=new E_;class Ss extends Yr{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new E_,this.bindMatrixInverse=new E_}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qt,t=this.geometry.attributes.skinWeight;for(let _=0,r=t.count;_<r;_++){e.fromBufferAttribute(t,_);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(_,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const _=this.skeleton,r=this.geometry;xs.fromBufferAttribute(r.attributes.skinIndex,e),bs.fromBufferAttribute(r.attributes.skinWeight,e),$s.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const r=bs.getComponent(e);if(0!==r){const a=xs.getComponent(e);Ls.multiplyMatrices(_.bones[a].matrixWorld,_.boneInverses[a]),t.addScaledVector(Is.copy($s).applyMatrix4(Ls),r)}}return t.applyMatrix4(this.bindMatrixInverse)}}Ss.prototype.isSkinnedMesh=!0;(class extends nr{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class extends Yt{constructor(e=null,t=1,_=1,r,a,n,i,s,o=re,c=re,l,p){super(null,n,i,s,o,c,r,a,l,p),this.image={data:e,width:t,height:_},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}).prototype.isDataTexture=!0;class Ms extends br{constructor(e,t,_,r=1){"number"==typeof _&&(r=_,_=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,_),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Ms.prototype.isInstancedBufferAttribute=!0;const ws=new E_,Os=new E_,Cs=[],Ts=new Yr;(class extends Yr{constructor(e,t,_){super(e,t),this.instanceMatrix=new Ms(new Float32Array(16*_),16),this.instanceColor=null,this.count=_,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const _=this.matrixWorld,r=this.count;if(Ts.geometry=this.geometry,Ts.material=this.material,void 0!==Ts.material)for(let a=0;a<r;a++){this.getMatrixAt(a,ws),Os.multiplyMatrices(_,ws),Ts.matrixWorld=Os,Ts.raycast(e,Cs);for(let e=0,_=Cs.length;e<_;e++){const _=Cs[e];_.instanceId=a,_.object=this,t.push(_)}Cs.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ms(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class As extends gr{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Nt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}As.prototype.isLineBasicMaterial=!0;const Rs=new r_,Ds=new r_,Es=new E_,Bs=new D_,Vs=new S_;class qs extends nr{constructor(e=new Dr,t=new As){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,_=[0];for(let e=1,r=t.count;e<r;e++)Rs.fromBufferAttribute(t,e-1),Ds.fromBufferAttribute(t,e),_[e]=_[e-1],_[e]+=Rs.distanceTo(Ds);e.setAttribute("lineDistance",new Sr(_,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const _=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,n=_.drawRange;if(null===_.boundingSphere&&_.computeBoundingSphere(),Vs.copy(_.boundingSphere),Vs.applyMatrix4(r),Vs.radius+=a,!1===e.ray.intersectsSphere(Vs))return;Es.copy(r).invert(),Bs.copy(e.ray).applyMatrix4(Es);const i=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=i*i,o=new r_,c=new r_,l=new r_,p=new r_,u=this.isLineSegments?2:1;if(_.isBufferGeometry){const r=_.index,a=_.attributes.position;if(null!==r)for(let _=Math.max(0,n.start),i=Math.min(r.count,n.start+n.count)-1;_<i;_+=u){const n=r.getX(_),i=r.getX(_+1);if(o.fromBufferAttribute(a,n),c.fromBufferAttribute(a,i),Bs.distanceSqToSegment(o,c,p,l)>s)continue;p.applyMatrix4(this.matrixWorld);const u=e.ray.origin.distanceTo(p);u<e.near||u>e.far||t.push({distance:u,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}else for(let _=Math.max(0,n.start),r=Math.min(a.count,n.start+n.count)-1;_<r;_+=u){if(o.fromBufferAttribute(a,_),c.fromBufferAttribute(a,_+1),Bs.distanceSqToSegment(o,c,p,l)>s)continue;p.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(p);r<e.near||r>e.far||t.push({distance:r,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else _.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,_=Object.keys(t);if(_.length>0){const e=t[_[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,_=e.length;t<_;t++){const _=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}qs.prototype.isLine=!0;const Hs=new r_,Ps=new r_;class js extends qs{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,_=[];for(let e=0,r=t.count;e<r;e+=2)Hs.fromBufferAttribute(t,e),Ps.fromBufferAttribute(t,e+1),_[e]=0===e?0:_[e-1],_[e+1]=_[e]+Hs.distanceTo(Ps);e.setAttribute("lineDistance",new Sr(_,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}js.prototype.isLineSegments=!0;(class extends qs{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class Fs extends gr{constructor(e){super(),this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}Fs.prototype.isPointsMaterial=!0;const zs=new E_,ks=new D_,Gs=new S_,Ns=new r_;function Ws(e,t,_,r,a,n,i){const s=ks.distanceSqToPoint(e);if(s<_){const _=new r_;ks.closestPointToPoint(e,_),_.applyMatrix4(r);const o=a.ray.origin.distanceTo(_);if(o<a.near||o>a.far)return;n.push({distance:o,distanceToRay:Math.sqrt(s),point:_,index:t,face:null,object:i})}}(class extends nr{constructor(e=new Dr,t=new Fs){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const _=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,n=_.drawRange;if(null===_.boundingSphere&&_.computeBoundingSphere(),Gs.copy(_.boundingSphere),Gs.applyMatrix4(r),Gs.radius+=a,!1===e.ray.intersectsSphere(Gs))return;zs.copy(r).invert(),ks.copy(e.ray).applyMatrix4(zs);const i=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=i*i;if(_.isBufferGeometry){const a=_.index,i=_.attributes.position;if(null!==a)for(let _=Math.max(0,n.start),o=Math.min(a.count,n.start+n.count);_<o;_++){const n=a.getX(_);Ns.fromBufferAttribute(i,n),Ws(Ns,n,s,r,e,t,this)}else for(let _=Math.max(0,n.start),a=Math.min(i.count,n.start+n.count);_<a;_++)Ns.fromBufferAttribute(i,_),Ws(Ns,_,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,_=Object.keys(t);if(_.length>0){const e=t[_[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,_=e.length;t<_;t++){const _=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0,class extends Yt{constructor(e,t,_,r,a,n,i,s,o){super(e,t,_,r,a,n,i,s,o),this.minFilter=void 0!==n?n:ie,this.magFilter=void 0!==a?a:ie,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class extends Yt{constructor(e,t,_){super({width:e,height:t}),this.format=_,this.magFilter=re,this.minFilter=re,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class extends Yt{constructor(e,t,_,r,a,n,i,s,o,c,l,p){super(null,n,i,s,o,c,r,a,l,p),this.image={width:t,height:_},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class extends Yt{constructor(e,t,_,r,a,n,i,s,o){super(e,t,_,r,a,n,i,s,o),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class Us{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const _=this.getUtoTmapping(e);return this.getPoint(_,t)}getPoints(e=5){const t=[];for(let _=0;_<=e;_++)t.push(this.getPoint(_/e));return t}getSpacedPoints(e=5){const t=[];for(let _=0;_<=e;_++)t.push(this.getPointAt(_/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let _,r=this.getPoint(0),a=0;t.push(0);for(let n=1;n<=e;n++)_=this.getPoint(n/e),a+=_.distanceTo(r),t.push(a),r=_;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const _=this.getLengths();let r=0;const a=_.length;let n;n=t||e*_[a-1];let i,s=0,o=a-1;for(;s<=o;)if(r=Math.floor(s+(o-s)/2),i=_[r]-n,i<0)s=r+1;else{if(!(i>0)){o=r;break}o=r-1}if(r=o,_[r]===n)return r/(a-1);const c=_[r];return(r+(n-c)/(_[r+1]-c))/(a-1)}getTangent(e,t){const _=1e-4;let r=e-_,a=e+_;r<0&&(r=0),a>1&&(a=1);const n=this.getPoint(r),i=this.getPoint(a),s=t||(n.isVector2?new At:new r_);return s.copy(i).sub(n).normalize(),s}getTangentAt(e,t){const _=this.getUtoTmapping(e);return this.getTangent(_,t)}computeFrenetFrames(e,t){const _=new r_,r=[],a=[],n=[],i=new r_,s=new E_;for(let t=0;t<=e;t++){const _=t/e;r[t]=this.getTangentAt(_,new r_)}a[0]=new r_,n[0]=new r_;let o=Number.MAX_VALUE;const c=Math.abs(r[0].x),l=Math.abs(r[0].y),p=Math.abs(r[0].z);c<=o&&(o=c,_.set(1,0,0)),l<=o&&(o=l,_.set(0,1,0)),p<=o&&_.set(0,0,1),i.crossVectors(r[0],_).normalize(),a[0].crossVectors(r[0],i),n[0].crossVectors(r[0],a[0]);for(let t=1;t<=e;t++){if(a[t]=a[t-1].clone(),n[t]=n[t-1].clone(),i.crossVectors(r[t-1],r[t]),i.length()>Number.EPSILON){i.normalize();const e=Math.acos(wt(r[t-1].dot(r[t]),-1,1));a[t].applyMatrix4(s.makeRotationAxis(i,e))}n[t].crossVectors(r[t],a[t])}if(!0===t){let t=Math.acos(wt(a[0].dot(a[e]),-1,1));t/=e,r[0].dot(i.crossVectors(a[0],a[e]))>0&&(t=-t);for(let _=1;_<=e;_++)a[_].applyMatrix4(s.makeRotationAxis(r[_],t*_)),n[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:n}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Zs extends Us{constructor(e=0,t=0,_=1,r=1,a=0,n=2*Math.PI,i=!1,s=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=_,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=n,this.aClockwise=i,this.aRotation=s}getPoint(e,t){const _=t||new At,r=2*Math.PI;let a=this.aEndAngle-this.aStartAngle;const n=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=n?0:r),!0!==this.aClockwise||n||(a===r?a=-r:a-=r);const i=this.aStartAngle+e*a;let s=this.aX+this.xRadius*Math.cos(i),o=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),_=s-this.aX,r=o-this.aY;s=_*e-r*t+this.aX,o=_*t+r*e+this.aY}return _.set(s,o)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Zs.prototype.isEllipseCurve=!0;class Xs extends Zs{constructor(e,t,_,r,a,n){super(e,t,_,_,r,a,n),this.type="ArcCurve"}}function Js(){let e=0,t=0,_=0,r=0;function a(a,n,i,s){e=a,t=i,_=-3*a+3*n-2*i-s,r=2*a-2*n+i+s}return{initCatmullRom:function(e,t,_,r,n){a(t,_,n*(_-e),n*(r-t))},initNonuniformCatmullRom:function(e,t,_,r,n,i,s){let o=(t-e)/n-(_-e)/(n+i)+(_-t)/i,c=(_-t)/i-(r-t)/(i+s)+(r-_)/s;o*=i,c*=i,a(t,_,o,c)},calc:function(a){const n=a*a;return e+t*a+_*n+r*(n*a)}}}Xs.prototype.isArcCurve=!0;const Ys=new r_,Qs=new Js,Ks=new Js,eo=new Js;class to extends Us{constructor(e=[],t=!1,_="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=_,this.tension=r}getPoint(e,t=new r_){const _=t,r=this.points,a=r.length,n=(a-(this.closed?0:1))*e;let i,s,o=Math.floor(n),c=n-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:0===c&&o===a-1&&(o=a-2,c=1),this.closed||o>0?i=r[(o-1)%a]:(Ys.subVectors(r[0],r[1]).add(r[0]),i=Ys);const l=r[o%a],p=r[(o+1)%a];if(this.closed||o+2<a?s=r[(o+2)%a]:(Ys.subVectors(r[a-1],r[a-2]).add(r[a-1]),s=Ys),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(i.distanceToSquared(l),e),_=Math.pow(l.distanceToSquared(p),e),r=Math.pow(p.distanceToSquared(s),e);_<1e-4&&(_=1),t<1e-4&&(t=_),r<1e-4&&(r=_),Qs.initNonuniformCatmullRom(i.x,l.x,p.x,s.x,t,_,r),Ks.initNonuniformCatmullRom(i.y,l.y,p.y,s.y,t,_,r),eo.initNonuniformCatmullRom(i.z,l.z,p.z,s.z,t,_,r)}else"catmullrom"===this.curveType&&(Qs.initCatmullRom(i.x,l.x,p.x,s.x,this.tension),Ks.initCatmullRom(i.y,l.y,p.y,s.y,this.tension),eo.initCatmullRom(i.z,l.z,p.z,s.z,this.tension));return _.set(Qs.calc(c),Ks.calc(c),eo.calc(c)),_}copy(e){super.copy(e),this.points=[];for(let t=0,_=e.points.length;t<_;t++){const _=e.points[t];this.points.push(_.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,_=this.points.length;t<_;t++){const _=this.points[t];e.points.push(_.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,_=e.points.length;t<_;t++){const _=e.points[t];this.points.push((new r_).fromArray(_))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _o(e,t,_,r,a){const n=.5*(r-t),i=.5*(a-_),s=e*e;return(2*_-2*r+n+i)*(e*s)+(-3*_+3*r-2*n-i)*s+n*e+_}function ro(e,t,_,r){return function(e,t){const _=1-e;return _*_*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,_)+function(e,t){return e*e*t}(e,r)}function ao(e,t,_,r,a){return function(e,t){const _=1-e;return _*_*_*t}(e,t)+function(e,t){const _=1-e;return 3*_*_*e*t}(e,_)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}to.prototype.isCatmullRomCurve3=!0;class no extends Us{constructor(e=new At,t=new At,_=new At,r=new At){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=_,this.v3=r}getPoint(e,t=new At){const _=t,r=this.v0,a=this.v1,n=this.v2,i=this.v3;return _.set(ao(e,r.x,a.x,n.x,i.x),ao(e,r.y,a.y,n.y,i.y)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}no.prototype.isCubicBezierCurve=!0;class io extends Us{constructor(e=new r_,t=new r_,_=new r_,r=new r_){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=_,this.v3=r}getPoint(e,t=new r_){const _=t,r=this.v0,a=this.v1,n=this.v2,i=this.v3;return _.set(ao(e,r.x,a.x,n.x,i.x),ao(e,r.y,a.y,n.y,i.y),ao(e,r.z,a.z,n.z,i.z)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}io.prototype.isCubicBezierCurve3=!0;class so extends Us{constructor(e=new At,t=new At){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new At){const _=t;return 1===e?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(e).add(this.v1)),_}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const _=t||new At;return _.copy(this.v2).sub(this.v1).normalize(),_}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}so.prototype.isLineCurve=!0;class oo extends Us{constructor(e=new At,t=new At,_=new At){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=_}getPoint(e,t=new At){const _=t,r=this.v0,a=this.v1,n=this.v2;return _.set(ro(e,r.x,a.x,n.x),ro(e,r.y,a.y,n.y)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}oo.prototype.isQuadraticBezierCurve=!0;class co extends Us{constructor(e=new r_,t=new r_,_=new r_){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=_}getPoint(e,t=new r_){const _=t,r=this.v0,a=this.v1,n=this.v2;return _.set(ro(e,r.x,a.x,n.x),ro(e,r.y,a.y,n.y),ro(e,r.z,a.z,n.z)),_}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}co.prototype.isQuadraticBezierCurve3=!0;class lo extends Us{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new At){const _=t,r=this.points,a=(r.length-1)*e,n=Math.floor(a),i=a-n,s=r[0===n?n:n-1],o=r[n],c=r[n>r.length-2?r.length-1:n+1],l=r[n>r.length-3?r.length-1:n+2];return _.set(_o(i,s.x,o.x,c.x,l.x),_o(i,s.y,o.y,c.y,l.y)),_}copy(e){super.copy(e),this.points=[];for(let t=0,_=e.points.length;t<_;t++){const _=e.points[t];this.points.push(_.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,_=this.points.length;t<_;t++){const _=this.points[t];e.points.push(_.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,_=e.points.length;t<_;t++){const _=e.points[t];this.points.push((new At).fromArray(_))}return this}}lo.prototype.isSplineCurve=!0;var po=Object.freeze({__proto__:null,ArcCurve:Xs,CatmullRomCurve3:to,CubicBezierCurve:no,CubicBezierCurve3:io,EllipseCurve:Zs,LineCurve:so,LineCurve3:class extends Us{constructor(e=new r_,t=new r_){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new r_){const _=t;return 1===e?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(e).add(this.v1)),_}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:oo,QuadraticBezierCurve3:co,SplineCurve:lo});class uo extends Us{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new so(t,e))}getPoint(e,t){const _=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=_){const e=r[a]-_,n=this.curves[a],i=n.getLength(),s=0===i?0:1-e/i;return n.getPointAt(s,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let _=0,r=this.curves.length;_<r;_++)t+=this.curves[_].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let _=0;_<=e;_++)t.push(this.getPoint(_/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let _;for(let r=0,a=this.curves;r<a.length;r++){const n=a[r],i=n.isEllipseCurve?2*e:n.isLineCurve||n.isLineCurve3?1:n.isSplineCurve?e*n.points.length:e,s=n.getPoints(i);for(let e=0;e<s.length;e++){const r=s[e];_&&_.equals(r)||(t.push(r),_=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,_=e.curves.length;t<_;t++){const _=e.curves[t];this.curves.push(_.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,_=this.curves.length;t<_;t++){const _=this.curves[t];e.curves.push(_.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,_=e.curves.length;t<_;t++){const _=e.curves[t];this.curves.push((new po[_.type]).fromJSON(_))}return this}}class fo extends uo{constructor(e){super(),this.type="Path",this.currentPoint=new At,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,_=e.length;t<_;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const _=new so(this.currentPoint.clone(),new At(e,t));return this.curves.push(_),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,_,r){const a=new oo(this.currentPoint.clone(),new At(e,t),new At(_,r));return this.curves.push(a),this.currentPoint.set(_,r),this}bezierCurveTo(e,t,_,r,a,n){const i=new no(this.currentPoint.clone(),new At(e,t),new At(_,r),new At(a,n));return this.curves.push(i),this.currentPoint.set(a,n),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),_=new lo(t);return this.curves.push(_),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,_,r,a,n){const i=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+i,t+s,_,r,a,n),this}absarc(e,t,_,r,a,n){return this.absellipse(e,t,_,_,r,a,n),this}ellipse(e,t,_,r,a,n,i,s){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+o,t+c,_,r,a,n,i,s),this}absellipse(e,t,_,r,a,n,i,s){const o=new Zs(e,t,_,r,a,n,i,s);if(this.curves.length>0){const e=o.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(o);const c=o.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}new r_,new r_,new r_,new mr;class ho extends fo{constructor(e){super(e),this.uuid=Mt(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let _=0,r=this.holes.length;_<r;_++)t[_]=this.holes[_].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,_=e.holes.length;t<_;t++){const _=e.holes[t];this.holes.push(_.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,_=this.holes.length;t<_;t++){const _=this.holes[t];e.holes.push(_.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,_=e.holes.length;t<_;t++){const _=e.holes[t];this.holes.push((new fo).fromJSON(_))}return this}}function mo(e,t,_,r,a){let n,i;if(a===function(e,t,_,r){let a=0;for(let n=t,i=_-r;n<_;n+=r)a+=(e[i]-e[n])*(e[n+1]+e[i+1]),i=n;return a}(e,t,_,r)>0)for(n=t;n<_;n+=r)i=qo(n,e[n],e[n+1],i);else for(n=_-r;n>=t;n-=r)i=qo(n,e[n],e[n+1],i);return i&&Ao(i,i.next)&&(Ho(i),i=i.next),i}function yo(e,t){if(!e)return e;t||(t=e);let _,r=e;do{if(_=!1,r.steiner||!Ao(r,r.next)&&0!==To(r.prev,r,r.next))r=r.next;else{if(Ho(r),r=t=r.prev,r===r.next)break;_=!0}}while(_||r!==t);return t}function go(e,t,_,r,a,n,i){if(!e)return;!i&&n&&function(e,t,_,r){let a=e;do{null===a.z&&(a.z=Mo(a.x,a.y,t,_,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){let t,_,r,a,n,i,s,o,c=1;do{for(_=e,e=null,n=null,i=0;_;){for(i++,r=_,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(o=c;s>0||o>0&&r;)0!==s&&(0===o||!r||_.z<=r.z)?(a=_,_=_.nextZ,s--):(a=r,r=r.nextZ,o--),n?n.nextZ=a:e=a,a.prevZ=n,n=a;_=r}n.nextZ=null,c*=2}while(i>1)}(a)}(e,r,a,n);let s,o,c=e;for(;e.prev!==e.next;)if(s=e.prev,o=e.next,n?$o(e,r,a,n):vo(e))t.push(s.i/_),t.push(e.i/_),t.push(o.i/_),Ho(e),e=o.next,c=o.next;else if((e=o)===c){i?1===i?go(e=xo(yo(e),t,_),t,_,r,a,n,2):2===i&&bo(e,t,_,r,a,n):go(yo(e),t,_,r,a,n,1);break}}function vo(e){const t=e.prev,_=e,r=e.next;if(To(t,_,r)>=0)return!1;let a=e.next.next;for(;a!==e.prev;){if(Oo(t.x,t.y,_.x,_.y,r.x,r.y,a.x,a.y)&&To(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function $o(e,t,_,r){const a=e.prev,n=e,i=e.next;if(To(a,n,i)>=0)return!1;const s=a.x<n.x?a.x<i.x?a.x:i.x:n.x<i.x?n.x:i.x,o=a.y<n.y?a.y<i.y?a.y:i.y:n.y<i.y?n.y:i.y,c=a.x>n.x?a.x>i.x?a.x:i.x:n.x>i.x?n.x:i.x,l=a.y>n.y?a.y>i.y?a.y:i.y:n.y>i.y?n.y:i.y,p=Mo(s,o,t,_,r),u=Mo(c,l,t,_,r);let f=e.prevZ,h=e.nextZ;for(;f&&f.z>=p&&h&&h.z<=u;){if(f!==e.prev&&f!==e.next&&Oo(a.x,a.y,n.x,n.y,i.x,i.y,f.x,f.y)&&To(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,h!==e.prev&&h!==e.next&&Oo(a.x,a.y,n.x,n.y,i.x,i.y,h.x,h.y)&&To(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;f&&f.z>=p;){if(f!==e.prev&&f!==e.next&&Oo(a.x,a.y,n.x,n.y,i.x,i.y,f.x,f.y)&&To(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;h&&h.z<=u;){if(h!==e.prev&&h!==e.next&&Oo(a.x,a.y,n.x,n.y,i.x,i.y,h.x,h.y)&&To(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function xo(e,t,_){let r=e;do{const a=r.prev,n=r.next.next;!Ao(a,n)&&Ro(a,r,r.next,n)&&Bo(a,n)&&Bo(n,a)&&(t.push(a.i/_),t.push(r.i/_),t.push(n.i/_),Ho(r),Ho(r.next),r=e=n),r=r.next}while(r!==e);return yo(r)}function bo(e,t,_,r,a,n){let i=e;do{let e=i.next.next;for(;e!==i.prev;){if(i.i!==e.i&&Co(i,e)){let s=Vo(i,e);return i=yo(i,i.next),s=yo(s,s.next),go(i,t,_,r,a,n),void go(s,t,_,r,a,n)}e=e.next}i=i.next}while(i!==e)}function Io(e,t){return e.x-t.x}function Lo(e,t){if(t=function(e,t){let _=t;const r=e.x,a=e.y;let n,i=-1/0;do{if(a<=_.y&&a>=_.next.y&&_.next.y!==_.y){const e=_.x+(a-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(e<=r&&e>i){if(i=e,e===r){if(a===_.y)return _;if(a===_.next.y)return _.next}n=_.x<_.next.x?_:_.next}}_=_.next}while(_!==t);if(!n)return null;if(r===i)return n;const s=n,o=n.x,c=n.y;let l,p=1/0;_=n;do{r>=_.x&&_.x>=o&&r!==_.x&&Oo(a<c?r:i,a,o,c,a<c?i:r,a,_.x,_.y)&&(l=Math.abs(a-_.y)/(r-_.x),Bo(_,e)&&(l<p||l===p&&(_.x>n.x||_.x===n.x&&So(n,_)))&&(n=_,p=l)),_=_.next}while(_!==s);return n}(e,t),t){const _=Vo(t,e);yo(t,t.next),yo(_,_.next)}}function So(e,t){return To(e.prev,e,t.prev)<0&&To(t.next,e,e.next)<0}function Mo(e,t,_,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-_)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function wo(e){let t=e,_=e;do{(t.x<_.x||t.x===_.x&&t.y<_.y)&&(_=t),t=t.next}while(t!==e);return _}function Oo(e,t,_,r,a,n,i,s){return(a-i)*(t-s)-(e-i)*(n-s)>=0&&(e-i)*(r-s)-(_-i)*(t-s)>=0&&(_-i)*(n-s)-(a-i)*(r-s)>=0}function Co(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let _=e;do{if(_.i!==e.i&&_.next.i!==e.i&&_.i!==t.i&&_.next.i!==t.i&&Ro(_,_.next,e,t))return!0;_=_.next}while(_!==e);return!1}(e,t)&&(Bo(e,t)&&Bo(t,e)&&function(e,t){let _=e,r=!1;const a=(e.x+t.x)/2,n=(e.y+t.y)/2;do{_.y>n!=_.next.y>n&&_.next.y!==_.y&&a<(_.next.x-_.x)*(n-_.y)/(_.next.y-_.y)+_.x&&(r=!r),_=_.next}while(_!==e);return r}(e,t)&&(To(e.prev,e,t.prev)||To(e,t.prev,t))||Ao(e,t)&&To(e.prev,e,e.next)>0&&To(t.prev,t,t.next)>0)}function To(e,t,_){return(t.y-e.y)*(_.x-t.x)-(t.x-e.x)*(_.y-t.y)}function Ao(e,t){return e.x===t.x&&e.y===t.y}function Ro(e,t,_,r){const a=Eo(To(e,t,_)),n=Eo(To(e,t,r)),i=Eo(To(_,r,e)),s=Eo(To(_,r,t));return a!==n&&i!==s||!(0!==a||!Do(e,_,t))||!(0!==n||!Do(e,r,t))||!(0!==i||!Do(_,e,r))||!(0!==s||!Do(_,t,r))}function Do(e,t,_){return t.x<=Math.max(e.x,_.x)&&t.x>=Math.min(e.x,_.x)&&t.y<=Math.max(e.y,_.y)&&t.y>=Math.min(e.y,_.y)}function Eo(e){return e>0?1:e<0?-1:0}function Bo(e,t){return To(e.prev,e,e.next)<0?To(e,t,e.next)>=0&&To(e,e.prev,t)>=0:To(e,t,e.prev)<0||To(e,e.next,t)<0}function Vo(e,t){const _=new Po(e.i,e.x,e.y),r=new Po(t.i,t.x,t.y),a=e.next,n=t.prev;return e.next=t,t.prev=e,_.next=a,a.prev=_,r.next=_,_.prev=r,n.next=r,r.prev=n,r}function qo(e,t,_,r){const a=new Po(e,t,_);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function Ho(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Po(e,t,_){this.i=e,this.x=t,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class jo{static area(e){const t=e.length;let _=0;for(let r=t-1,a=0;a<t;r=a++)_+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*_}static isClockWise(e){return jo.area(e)<0}static triangulateShape(e,t){const _=[],r=[],a=[];Fo(e),zo(_,e);let n=e.length;t.forEach(Fo);for(let e=0;e<t.length;e++)r.push(n),n+=t[e].length,zo(_,t[e]);const i=function(e,t,_=2){const r=t&&t.length,a=r?t[0]*_:e.length;let n=mo(e,0,a,_,!0);const i=[];if(!n||n.next===n.prev)return i;let s,o,c,l,p,u,f;if(r&&(n=function(e,t,_,r){const a=[];let n,i,s,o,c;for(n=0,i=t.length;n<i;n++)s=t[n]*r,o=n<i-1?t[n+1]*r:e.length,c=mo(e,s,o,r,!1),c===c.next&&(c.steiner=!0),a.push(wo(c));for(a.sort(Io),n=0;n<a.length;n++)Lo(a[n],_),_=yo(_,_.next);return _}(e,t,n,_)),e.length>80*_){s=c=e[0],o=l=e[1];for(let t=_;t<a;t+=_)p=e[t],u=e[t+1],p<s&&(s=p),u<o&&(o=u),p>c&&(c=p),u>l&&(l=u);f=Math.max(c-s,l-o),f=0!==f?1/f:0}return go(n,i,_,s,o,f),i}(_,r);for(let e=0;e<i.length;e+=3)a.push(i.slice(e,e+3));return a}}function Fo(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function zo(e,t){for(let _=0;_<t.length;_++)e.push(t[_].x),e.push(t[_].y)}class ko extends Dr{constructor(e=new ho([new At(.5,.5),new At(-.5,.5),new At(-.5,-.5),new At(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const _=this,r=[],a=[];for(let t=0,_=e.length;t<_;t++)n(e[t]);function n(e){const n=[],i=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let o=void 0!==t.depth?t.depth:1,c=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:.2,p=void 0!==t.bevelSize?t.bevelSize:l-.1,u=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const h=t.extrudePath,d=void 0!==t.UVGenerator?t.UVGenerator:Go;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),o=t.amount);let m,y,g,v,$,x=!1;h&&(m=h.getSpacedPoints(s),x=!0,c=!1,y=h.computeFrenetFrames(s,!1),g=new r_,v=new r_,$=new r_),c||(f=0,l=0,p=0,u=0);const b=e.extractPoints(i);let I=b.shape;const L=b.holes;if(!jo.isClockWise(I)){I=I.reverse();for(let e=0,t=L.length;e<t;e++){const t=L[e];jo.isClockWise(t)&&(L[e]=t.reverse())}}const S=jo.triangulateShape(I,L),M=I;for(let e=0,t=L.length;e<t;e++){const t=L[e];I=I.concat(t)}function w(e,t,_){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(_).add(e)}const O=I.length,C=S.length;function T(e,t,_){let r,a,n;const i=e.x-t.x,s=e.y-t.y,o=_.x-e.x,c=_.y-e.y,l=i*i+s*s,p=i*c-s*o;if(Math.abs(p)>Number.EPSILON){const p=Math.sqrt(l),u=Math.sqrt(o*o+c*c),f=t.x-s/p,h=t.y+i/p,d=((_.x-c/u-f)*c-(_.y+o/u-h)*o)/(i*c-s*o);r=f+i*d-e.x,a=h+s*d-e.y;const m=r*r+a*a;if(m<=2)return new At(r,a);n=Math.sqrt(m/2)}else{let e=!1;i>Number.EPSILON?o>Number.EPSILON&&(e=!0):i<-Number.EPSILON?o<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,a=i,n=Math.sqrt(l)):(r=i,a=s,n=Math.sqrt(l/2))}return new At(r/n,a/n)}const A=[];for(let e=0,t=M.length,_=t-1,r=e+1;e<t;e++,_++,r++)_===t&&(_=0),r===t&&(r=0),A[e]=T(M[e],M[_],M[r]);const R=[];let D,E=A.concat();for(let e=0,t=L.length;e<t;e++){const t=L[e];D=[];for(let e=0,_=t.length,r=_-1,a=e+1;e<_;e++,r++,a++)r===_&&(r=0),a===_&&(a=0),D[e]=T(t[e],t[r],t[a]);R.push(D),E=E.concat(D)}for(let e=0;e<f;e++){const t=e/f,_=l*Math.cos(t*Math.PI/2),r=p*Math.sin(t*Math.PI/2)+u;for(let e=0,t=M.length;e<t;e++){const t=w(M[e],A[e],r);q(t.x,t.y,-_)}for(let e=0,t=L.length;e<t;e++){const t=L[e];D=R[e];for(let e=0,a=t.length;e<a;e++){const a=w(t[e],D[e],r);q(a.x,a.y,-_)}}}const B=p+u;for(let e=0;e<O;e++){const t=c?w(I[e],E[e],B):I[e];x?(v.copy(y.normals[0]).multiplyScalar(t.x),g.copy(y.binormals[0]).multiplyScalar(t.y),$.copy(m[0]).add(v).add(g),q($.x,$.y,$.z)):q(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<O;t++){const _=c?w(I[t],E[t],B):I[t];x?(v.copy(y.normals[e]).multiplyScalar(_.x),g.copy(y.binormals[e]).multiplyScalar(_.y),$.copy(m[e]).add(v).add(g),q($.x,$.y,$.z)):q(_.x,_.y,o/s*e)}for(let e=f-1;e>=0;e--){const t=e/f,_=l*Math.cos(t*Math.PI/2),r=p*Math.sin(t*Math.PI/2)+u;for(let e=0,t=M.length;e<t;e++){const t=w(M[e],A[e],r);q(t.x,t.y,o+_)}for(let e=0,t=L.length;e<t;e++){const t=L[e];D=R[e];for(let e=0,a=t.length;e<a;e++){const a=w(t[e],D[e],r);x?q(a.x,a.y+m[s-1].y,m[s-1].x+_):q(a.x,a.y,o+_)}}}function V(e,t){let _=e.length;for(;--_>=0;){const r=_;let a=_-1;a<0&&(a=e.length-1);for(let e=0,_=s+2*f;e<_;e++){const _=O*e,n=O*(e+1);P(t+r+_,t+a+_,t+a+n,t+r+n)}}}function q(e,t,_){n.push(e),n.push(t),n.push(_)}function H(e,t,a){j(e),j(t),j(a);const n=r.length/3,i=d.generateTopUV(_,r,n-3,n-2,n-1);F(i[0]),F(i[1]),F(i[2])}function P(e,t,a,n){j(e),j(t),j(n),j(t),j(a),j(n);const i=r.length/3,s=d.generateSideWallUV(_,r,i-6,i-3,i-2,i-1);F(s[0]),F(s[1]),F(s[3]),F(s[1]),F(s[2]),F(s[3])}function j(e){r.push(n[3*e+0]),r.push(n[3*e+1]),r.push(n[3*e+2])}function F(e){a.push(e.x),a.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=O*e;for(let e=0;e<C;e++){const _=S[e];H(_[2]+t,_[1]+t,_[0]+t)}e=s+2*f,t=O*e;for(let e=0;e<C;e++){const _=S[e];H(_[0]+t,_[1]+t,_[2]+t)}}else{for(let e=0;e<C;e++){const t=S[e];H(t[2],t[1],t[0])}for(let e=0;e<C;e++){const t=S[e];H(t[0]+O*s,t[1]+O*s,t[2]+O*s)}}_.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;V(M,t),t+=M.length;for(let e=0,_=L.length;e<_;e++){const _=L[e];V(_,t),t+=_.length}_.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new Sr(r,3)),this.setAttribute("uv",new Sr(a,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,_){if(_.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){const r=e[t];_.shapes.push(r.uuid)}else _.shapes.push(e.uuid);return void 0!==t.extrudePath&&(_.options.extrudePath=t.extrudePath.toJSON()),_}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const _=[];for(let r=0,a=e.shapes.length;r<a;r++){const a=t[e.shapes[r]];_.push(a)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new po[r.type]).fromJSON(r)),new ko(_,e.options)}}const Go={generateTopUV:function(e,t,_,r,a){const n=t[3*_],i=t[3*_+1],s=t[3*r],o=t[3*r+1],c=t[3*a],l=t[3*a+1];return[new At(n,i),new At(s,o),new At(c,l)]},generateSideWallUV:function(e,t,_,r,a,n){const i=t[3*_],s=t[3*_+1],o=t[3*_+2],c=t[3*r],l=t[3*r+1],p=t[3*r+2],u=t[3*a],f=t[3*a+1],h=t[3*a+2],d=t[3*n],m=t[3*n+1],y=t[3*n+2];return Math.abs(s-l)<Math.abs(i-c)?[new At(i,1-o),new At(c,1-p),new At(u,1-h),new At(d,1-y)]:[new At(s,1-o),new At(l,1-p),new At(f,1-h),new At(m,1-y)]}};class No extends Dr{constructor(e=new ho([new At(0,.5),new At(-.5,-.5),new At(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const _=[],r=[],a=[],n=[];let i=0,s=0;if(!1===Array.isArray(e))o(e);else for(let t=0;t<e.length;t++)o(e[t]),this.addGroup(i,s,t),i+=s,s=0;function o(e){const i=r.length/3,o=e.extractPoints(t);let c=o.shape;const l=o.holes;!1===jo.isClockWise(c)&&(c=c.reverse());for(let e=0,t=l.length;e<t;e++){const t=l[e];!0===jo.isClockWise(t)&&(l[e]=t.reverse())}const p=jo.triangulateShape(c,l);for(let e=0,t=l.length;e<t;e++){const t=l[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];r.push(t.x,t.y,0),a.push(0,0,1),n.push(t.x,t.y)}for(let e=0,t=p.length;e<t;e++){const t=p[e],r=t[0]+i,a=t[1]+i,n=t[2]+i;_.push(r,a,n),s+=3}}this.setIndex(_),this.setAttribute("position",new Sr(r,3)),this.setAttribute("normal",new Sr(a,3)),this.setAttribute("uv",new Sr(n,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let _=0,r=e.length;_<r;_++){const r=e[_];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const _=[];for(let r=0,a=e.shapes.length;r<a;r++){const a=t[e.shapes[r]];_.push(a)}return new No(_,e.curveSegments)}}class Wo extends gr{constructor(e){super(),this.type="ShadowMaterial",this.color=new Nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}Wo.prototype.isShadowMaterial=!0;class Uo extends ra{constructor(e){super(e),this.type="RawShaderMaterial"}}Uo.prototype.isRawShaderMaterial=!0;class Zo extends gr{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ft,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}Zo.prototype.isMeshStandardMaterial=!0;class Xo extends Zo{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new At(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Nt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Xo.prototype.isMeshPhysicalMaterial=!0;class Jo extends gr{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ft,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=j,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}Jo.prototype.isMeshPhongMaterial=!0;class Yo extends gr{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ft,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}Yo.prototype.isMeshToonMaterial=!0;class Qo extends gr{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ft,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Qo.prototype.isMeshNormalMaterial=!0;class Ko extends gr{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=j,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}Ko.prototype.isMeshLambertMaterial=!0;class ec extends gr{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ft,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}ec.prototype.isMeshMatcapMaterial=!0;class tc extends As{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}tc.prototype.isLineDashedMaterial=!0;const _c={ShadowMaterial:Wo,SpriteMaterial:ns,RawShaderMaterial:Uo,ShaderMaterial:ra,PointsMaterial:Fs,MeshPhysicalMaterial:Xo,MeshStandardMaterial:Zo,MeshPhongMaterial:Jo,MeshToonMaterial:Yo,MeshNormalMaterial:Qo,MeshLambertMaterial:Ko,MeshDepthMaterial:qi,MeshDistanceMaterial:Hi,MeshBasicMaterial:vr,MeshMatcapMaterial:ec,LineDashedMaterial:tc,LineBasicMaterial:As,Material:gr};gr.fromType=function(e){return new _c[e]};const rc={arraySlice:function(e,t,_){return rc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==_?_:e.length)):e.slice(t,_)},convertArray:function(e,t,_){return!e||!_&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,_=new Array(t);for(let e=0;e!==t;++e)_[e]=e;return _.sort((function(t,_){return e[t]-e[_]})),_},sortedArray:function(e,t,_){const r=e.length,a=new e.constructor(r);for(let n=0,i=0;i!==r;++n){const r=_[n]*t;for(let _=0;_!==t;++_)a[i++]=e[r+_]}return a},flattenJSON:function(e,t,_,r){let a=1,n=e[0];for(;void 0!==n&&void 0===n[r];)n=e[a++];if(void 0===n)return;let i=n[r];if(void 0!==i)if(Array.isArray(i))do{i=n[r],void 0!==i&&(t.push(n.time),_.push.apply(_,i)),n=e[a++]}while(void 0!==n);else if(void 0!==i.toArray)do{i=n[r],void 0!==i&&(t.push(n.time),i.toArray(_,_.length)),n=e[a++]}while(void 0!==n);else do{i=n[r],void 0!==i&&(t.push(n.time),_.push(i)),n=e[a++]}while(void 0!==n)},subclip:function(e,t,_,r,a=30){const n=e.clone();n.name=t;const i=[];for(let e=0;e<n.tracks.length;++e){const t=n.tracks[e],s=t.getValueSize(),o=[],c=[];for(let e=0;e<t.times.length;++e){const n=t.times[e]*a;if(!(n<_||n>=r)){o.push(t.times[e]);for(let _=0;_<s;++_)c.push(t.values[e*s+_])}}0!==o.length&&(t.times=rc.convertArray(o,t.times.constructor),t.values=rc.convertArray(c,t.values.constructor),i.push(t))}n.tracks=i;let s=1/0;for(let e=0;e<n.tracks.length;++e)s>n.tracks[e].times[0]&&(s=n.tracks[e].times[0]);for(let e=0;e<n.tracks.length;++e)n.tracks[e].shift(-1*s);return n.resetDuration(),n},makeClipAdditive:function(e,t=0,_=e,r=30){r<=0&&(r=30);const a=_.tracks.length,n=t/r;for(let t=0;t<a;++t){const r=_.tracks[t],a=r.ValueTypeName;if("bool"===a||"string"===a)continue;const i=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===a}));if(void 0===i)continue;let s=0;const o=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=o/3);let c=0;const l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=l/3);const p=r.times.length-1;let u;if(n<=r.times[0]){const e=s,t=o-s;u=rc.arraySlice(r.values,e,t)}else if(n>=r.times[p]){const e=p*o+s,t=e+o-s;u=rc.arraySlice(r.values,e,t)}else{const e=r.createInterpolant(),t=s,_=o-s;e.evaluate(n),u=rc.arraySlice(e.resultBuffer,t,_)}"quaternion"===a&&(new __).fromArray(u).normalize().conjugate().toArray(u);const f=i.times.length;for(let e=0;e<f;++e){const t=e*l+c;if("quaternion"===a)__.multiplyQuaternionsFlat(i.values,t,u,0,i.values,t);else{const e=l-2*c;for(let _=0;_<e;++_)i.values[t+_]-=u[_]}}}return e.blendMode=2501,e}};class ac{constructor(e,t,_,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(_),this.sampleValues=t,this.valueSize=_,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let _=this._cachedIndex,r=t[_],a=t[_-1];e:{t:{let n;_:{r:if(!(e<r)){for(let n=_+2;;){if(void 0===r){if(e<a)break r;return _=t.length,this._cachedIndex=_,this.afterEnd_(_-1,e,a)}if(_===n)break;if(a=r,r=t[++_],e<r)break t}n=t.length;break _}if(e>=a)break e;{const i=t[1];e<i&&(_=2,a=i);for(let n=_-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(_===n)break;if(r=a,a=t[--_-1],e>=a)break t}n=_,_=0}}for(;_<n;){const r=_+n>>>1;e<t[r]?n=r:_=r+1}if(r=t[_],a=t[_-1],void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return _=t.length,this._cachedIndex=_,this.afterEnd_(_-1,a,e)}this._cachedIndex=_,this.intervalChanged_(_,a,r)}return this.interpolate_(_,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,_=this.sampleValues,r=this.valueSize,a=e*r;for(let e=0;e!==r;++e)t[e]=_[a+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}ac.prototype.beforeStart_=ac.prototype.copySampleValue_,ac.prototype.afterEnd_=ac.prototype.copySampleValue_;class nc extends ac{constructor(e,t,_,r){super(e,t,_,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:st,endingEnd:st}}intervalChanged_(e,t,_){const r=this.parameterPositions;let a=e-2,n=e+1,i=r[a],s=r[n];if(void 0===i)switch(this.getSettings_().endingStart){case ot:a=e,i=2*t-_;break;case ct:a=r.length-2,i=t+r[a]-r[a+1];break;default:a=e,i=_}if(void 0===s)switch(this.getSettings_().endingEnd){case ot:n=e,s=2*_-t;break;case ct:n=1,s=_+r[1]-r[0];break;default:n=e-1,s=t}const o=.5*(_-t),c=this.valueSize;this._weightPrev=o/(t-i),this._weightNext=o/(s-_),this._offsetPrev=a*c,this._offsetNext=n*c}interpolate_(e,t,_,r){const a=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i,o=s-i,c=this._offsetPrev,l=this._offsetNext,p=this._weightPrev,u=this._weightNext,f=(_-t)/(r-t),h=f*f,d=h*f,m=-p*d+2*p*h-p*f,y=(1+p)*d+(-1.5-2*p)*h+(-.5+p)*f+1,g=(-1-u)*d+(1.5+u)*h+.5*f,v=u*d-u*h;for(let e=0;e!==i;++e)a[e]=m*n[c+e]+y*n[o+e]+g*n[s+e]+v*n[l+e];return a}}class ic extends ac{constructor(e,t,_,r){super(e,t,_,r)}interpolate_(e,t,_,r){const a=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i,o=s-i,c=(_-t)/(r-t),l=1-c;for(let e=0;e!==i;++e)a[e]=n[o+e]*l+n[s+e]*c;return a}}class sc extends ac{constructor(e,t,_,r){super(e,t,_,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class oc{constructor(e,t,_,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rc.convertArray(t,this.TimeBufferType),this.values=rc.convertArray(_,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let _;if(t.toJSON!==this.toJSON)_=t.toJSON(e);else{_={name:e.name,times:rc.convertArray(e.times,Array),values:rc.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(_.interpolation=t)}return _.type=e.ValueTypeName,_}InterpolantFactoryMethodDiscrete(e){return new sc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ic(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new nc(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case at:t=this.InterpolantFactoryMethodDiscrete;break;case nt:t=this.InterpolantFactoryMethodLinear;break;case it:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return at;case this.InterpolantFactoryMethodLinear:return nt;case this.InterpolantFactoryMethodSmooth:return it}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let _=0,r=t.length;_!==r;++_)t[_]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let _=0,r=t.length;_!==r;++_)t[_]*=e}return this}trim(e,t){const _=this.times,r=_.length;let a=0,n=r-1;for(;a!==r&&_[a]<e;)++a;for(;-1!==n&&_[n]>t;)--n;if(++n,0!==a||n!==r){a>=n&&(n=Math.max(n,1),a=n-1);const e=this.getValueSize();this.times=rc.arraySlice(_,a,n),this.values=rc.arraySlice(this.values,a*e,n*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const _=this.times,r=this.values,a=_.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let n=null;for(let t=0;t!==a;t++){const r=_[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==n&&n>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,n),e=!1;break}n=r}if(void 0!==r&&rc.isTypedArray(r))for(let t=0,_=r.length;t!==_;++t){const _=r[t];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,_),e=!1;break}}return e}optimize(){const e=rc.arraySlice(this.times),t=rc.arraySlice(this.values),_=this.getValueSize(),r=this.getInterpolation()===it,a=e.length-1;let n=1;for(let i=1;i<a;++i){let a=!1;const s=e[i];if(s!==e[i+1]&&(1!==i||s!==e[0]))if(r)a=!0;else{const e=i*_,r=e-_,n=e+_;for(let i=0;i!==_;++i){const _=t[e+i];if(_!==t[r+i]||_!==t[n+i]){a=!0;break}}}if(a){if(i!==n){e[n]=e[i];const r=i*_,a=n*_;for(let e=0;e!==_;++e)t[a+e]=t[r+e]}++n}}if(a>0){e[n]=e[a];for(let e=a*_,r=n*_,i=0;i!==_;++i)t[r+i]=t[e+i];++n}return n!==e.length?(this.times=rc.arraySlice(e,0,n),this.values=rc.arraySlice(t,0,n*_)):(this.times=e,this.values=t),this}clone(){const e=rc.arraySlice(this.times,0),t=rc.arraySlice(this.values,0),_=new(0,this.constructor)(this.name,e,t);return _.createInterpolant=this.createInterpolant,_}}oc.prototype.TimeBufferType=Float32Array,oc.prototype.ValueBufferType=Float32Array,oc.prototype.DefaultInterpolation=nt;class cc extends oc{}cc.prototype.ValueTypeName="bool",cc.prototype.ValueBufferType=Array,cc.prototype.DefaultInterpolation=at,cc.prototype.InterpolantFactoryMethodLinear=void 0,cc.prototype.InterpolantFactoryMethodSmooth=void 0;class lc extends oc{}lc.prototype.ValueTypeName="color";class pc extends oc{}pc.prototype.ValueTypeName="number";class uc extends ac{constructor(e,t,_,r){super(e,t,_,r)}interpolate_(e,t,_,r){const a=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=(_-t)/(r-t);let o=e*i;for(let e=o+i;o!==e;o+=4)__.slerpFlat(a,0,n,o-i,n,o,s);return a}}class fc extends oc{InterpolantFactoryMethodLinear(e){return new uc(this.times,this.values,this.getValueSize(),e)}}fc.prototype.ValueTypeName="quaternion",fc.prototype.DefaultInterpolation=nt,fc.prototype.InterpolantFactoryMethodSmooth=void 0;class hc extends oc{}hc.prototype.ValueTypeName="string",hc.prototype.ValueBufferType=Array,hc.prototype.DefaultInterpolation=at,hc.prototype.InterpolantFactoryMethodLinear=void 0,hc.prototype.InterpolantFactoryMethodSmooth=void 0;class dc extends oc{}dc.prototype.ValueTypeName="vector";class mc{constructor(e,t=-1,_,r=2500){this.name=e,this.tracks=_,this.duration=t,this.blendMode=r,this.uuid=Mt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],_=e.tracks,r=1/(e.fps||1);for(let e=0,a=_.length;e!==a;++e)t.push(yc(_[e]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],_=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=_.length;e!==r;++e)t.push(oc.toJSON(_[e]));return r}static CreateFromMorphTargetSequence(e,t,_,r){const a=t.length,n=[];for(let e=0;e<a;e++){let i=[],s=[];i.push((e+a-1)%a,e,(e+1)%a),s.push(0,1,0);const o=rc.getKeyframeOrder(i);i=rc.sortedArray(i,1,o),s=rc.sortedArray(s,1,o),r||0!==i[0]||(i.push(a),s.push(s[0])),n.push(new pc(".morphTargetInfluences["+t[e].name+"]",i,s).scale(1/_))}return new this(e,-1,n)}static findByName(e,t){let _=e;if(!Array.isArray(e)){const t=e;_=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<_.length;e++)if(_[e].name===t)return _[e];return null}static CreateClipsFromMorphTargetSequences(e,t,_){const r={},a=/^([\w-]*?)([\d]+)$/;for(let t=0,_=e.length;t<_;t++){const _=e[t],n=_.name.match(a);if(n&&n.length>1){const e=n[1];let t=r[e];t||(r[e]=t=[]),t.push(_)}}const n=[];for(const e in r)n.push(this.CreateFromMorphTargetSequence(e,r[e],t,_));return n}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const _=function(e,t,_,r,a){if(0!==_.length){const n=[],i=[];rc.flattenJSON(_,n,i,r),0!==n.length&&a.push(new e(t,n,i))}},r=[],a=e.name||"default",n=e.fps||30,i=e.blendMode;let s=e.length||-1;const o=e.hierarchy||[];for(let e=0;e<o.length;e++){const a=o[e].keys;if(a&&0!==a.length)if(a[0].morphTargets){const e={};let t;for(t=0;t<a.length;t++)if(a[t].morphTargets)for(let _=0;_<a[t].morphTargets.length;_++)e[a[t].morphTargets[_]]=-1;for(const _ in e){const e=[],n=[];for(let r=0;r!==a[t].morphTargets.length;++r){const r=a[t];e.push(r.time),n.push(r.morphTarget===_?1:0)}r.push(new pc(".morphTargetInfluence["+_+"]",e,n))}s=e.length*n}else{const n=".bones["+t[e].name+"]";_(dc,n+".position",a,"pos",r),_(fc,n+".quaternion",a,"rot",r),_(dc,n+".scale",a,"scl",r)}}return 0===r.length?null:new this(a,s,r,i)}resetDuration(){let e=0;for(let t=0,_=this.tracks.length;t!==_;++t){const _=this.tracks[t];e=Math.max(e,_.times[_.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pc;case"vector":case"vector2":case"vector3":case"vector4":return dc;case"color":return lc;case"quaternion":return fc;case"bool":case"boolean":return cc;case"string":return hc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],_=[];rc.flattenJSON(e.keys,t,_,"value"),e.times=t,e.values=_}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const gc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};const vc=new class{constructor(e,t,_){const r=this;let a,n=!1,i=0,s=0;const o=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=_,this.itemStart=function(e){s++,!1===n&&void 0!==r.onStart&&r.onStart(e,i,s),n=!0},this.itemEnd=function(e){i++,void 0!==r.onProgress&&r.onProgress(e,i,s),i===s&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return o.push(e,t),this},this.removeHandler=function(e){const t=o.indexOf(e);return-1!==t&&o.splice(t,2),this},this.getHandler=function(e){for(let t=0,_=o.length;t<_;t+=2){const _=o[t],r=o[t+1];if(_.global&&(_.lastIndex=0),_.test(e))return r}return null}}};class $c{constructor(e){this.manager=void 0!==e?e:vc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const _=this;return new Promise((function(r,a){_.load(e,r,t,a)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const xc={};class bc extends $c{constructor(e){super(e)}load(e,t,_,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=gc.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((()=>{t&&t(a),this.manager.itemEnd(e)}),0),a;if(void 0!==xc[e])return void xc[e].push({onLoad:t,onProgress:_,onError:r});xc[e]=[],xc[e].push({onLoad:t,onProgress:_,onError:r});const n=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),i=this.mimeType,s=this.responseType;fetch(n).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const _=xc[e],r=t.body.getReader(),a=t.headers.get("Content-Length"),n=a?parseInt(a):0,i=0!==n;let s=0;const o=new ReadableStream({start(e){!function t(){r.read().then((({done:r,value:a})=>{if(r)e.close();else{s+=a.byteLength;const r=new ProgressEvent("progress",{lengthComputable:i,loaded:s,total:n});for(let e=0,t=_.length;e<t;e++){const t=_[e];t.onProgress&&t.onProgress(r)}e.enqueue(a),t()}}))}()}});return new Response(o)}throw Error(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,i)));case"json":return e.json();default:if(void 0===i)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(i),_=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(_);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{gc.add(e,t);const _=xc[e];delete xc[e];for(let e=0,r=_.length;e<r;e++){const r=_[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const _=xc[e];if(void 0===_)throw this.manager.itemError(e),t;delete xc[e];for(let e=0,r=_.length;e<r;e++){const r=_[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ic extends $c{constructor(e){super(e)}load(e,t,_,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,n=gc.get(e);if(void 0!==n)return a.manager.itemStart(e),setTimeout((function(){t&&t(n),a.manager.itemEnd(e)}),0),n;const i=Et("img");function s(){c(),gc.add(e,this),t&&t(this),a.manager.itemEnd(e)}function o(t){c(),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){i.removeEventListener("load",s,!1),i.removeEventListener("error",o,!1)}return i.addEventListener("load",s,!1),i.addEventListener("error",o,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(i.crossOrigin=this.crossOrigin),a.manager.itemStart(e),i.src=e,i}}class Lc extends $c{constructor(e){super(e)}load(e,t,_,r){const a=new oa,n=new Ic(this.manager);n.setCrossOrigin(this.crossOrigin),n.setPath(this.path);let i=0;function s(_){n.load(e[_],(function(e){a.images[_]=e,i++,6===i&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(let t=0;t<e.length;++t)s(t);return a}}class Sc extends $c{constructor(e){super(e)}load(e,t,_,r){const a=new Yt,n=new Ic(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==t&&t(a)}),_,r),a}}class Mc extends nr{constructor(e,t=1){super(),this.type="Light",this.color=new Nt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}Mc.prototype.isLight=!0;(class extends Mc{constructor(e,t,_){super(e,_),this.type="HemisphereLight",this.position.copy(nr.DefaultUp),this.updateMatrix(),this.groundColor=new Nt(t)}copy(e){return Mc.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}).prototype.isHemisphereLight=!0;const wc=new E_,Oc=new r_,Cc=new r_;class Tc{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new At(512,512),this.map=null,this.mapPass=null,this.matrix=new E_,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ma,this._frameExtents=new At(1,1),this._viewportCount=1,this._viewports=[new Qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,_=this.matrix;Oc.setFromMatrixPosition(e.matrixWorld),t.position.copy(Oc),Cc.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Cc),t.updateMatrixWorld(),wc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wc),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(t.projectionMatrix),_.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ac extends Tc{constructor(){super(new na(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,_=2*St*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;_===t.fov&&r===t.aspect&&a===t.far||(t.fov=_,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Ac.prototype.isSpotLightShadow=!0;(class extends Mc{constructor(e,t,_=0,r=Math.PI/3,a=0,n=1){super(e,t),this.type="SpotLight",this.position.copy(nr.DefaultUp),this.updateMatrix(),this.target=new nr,this.distance=_,this.angle=r,this.penumbra=a,this.decay=n,this.shadow=new Ac}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const Rc=new E_,Dc=new r_,Ec=new r_;class Bc extends Tc{constructor(){super(new na(90,1,.5,500)),this._frameExtents=new At(4,2),this._viewportCount=6,this._viewports=[new Qt(2,1,1,1),new Qt(0,1,1,1),new Qt(3,1,1,1),new Qt(1,1,1,1),new Qt(3,0,1,1),new Qt(1,0,1,1)],this._cubeDirections=[new r_(1,0,0),new r_(-1,0,0),new r_(0,0,1),new r_(0,0,-1),new r_(0,1,0),new r_(0,-1,0)],this._cubeUps=[new r_(0,1,0),new r_(0,1,0),new r_(0,1,0),new r_(0,1,0),new r_(0,0,1),new r_(0,0,-1)]}updateMatrices(e,t=0){const _=this.camera,r=this.matrix,a=e.distance||_.far;a!==_.far&&(_.far=a,_.updateProjectionMatrix()),Dc.setFromMatrixPosition(e.matrixWorld),_.position.copy(Dc),Ec.copy(_.position),Ec.add(this._cubeDirections[t]),_.up.copy(this._cubeUps[t]),_.lookAt(Ec),_.updateMatrixWorld(),r.makeTranslation(-Dc.x,-Dc.y,-Dc.z),Rc.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rc)}}Bc.prototype.isPointLightShadow=!0;(class extends Mc{constructor(e,t,_=0,r=1){super(e,t),this.type="PointLight",this.distance=_,this.decay=r,this.shadow=new Bc}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}).prototype.isPointLight=!0;class Vc extends Tc{constructor(){super(new Ca(-5,5,5,-5,.5,500))}}Vc.prototype.isDirectionalLightShadow=!0;class qc extends Mc{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(nr.DefaultUp),this.updateMatrix(),this.target=new nr,this.shadow=new Vc}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}qc.prototype.isDirectionalLight=!0;(class extends Mc{constructor(e,t){super(e,t),this.type="AmbientLight"}}).prototype.isAmbientLight=!0;(class extends Mc{constructor(e,t,_=10,r=10){super(e,t),this.type="RectAreaLight",this.width=_,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}).prototype.isRectAreaLight=!0;class Hc{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new r_)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const _=e.x,r=e.y,a=e.z,n=this.coefficients;return t.copy(n[0]).multiplyScalar(.282095),t.addScaledVector(n[1],.488603*r),t.addScaledVector(n[2],.488603*a),t.addScaledVector(n[3],.488603*_),t.addScaledVector(n[4],_*r*1.092548),t.addScaledVector(n[5],r*a*1.092548),t.addScaledVector(n[6],.315392*(3*a*a-1)),t.addScaledVector(n[7],_*a*1.092548),t.addScaledVector(n[8],.546274*(_*_-r*r)),t}getIrradianceAt(e,t){const _=e.x,r=e.y,a=e.z,n=this.coefficients;return t.copy(n[0]).multiplyScalar(.886227),t.addScaledVector(n[1],1.023328*r),t.addScaledVector(n[2],1.023328*a),t.addScaledVector(n[3],1.023328*_),t.addScaledVector(n[4],.858086*_*r),t.addScaledVector(n[5],.858086*r*a),t.addScaledVector(n[6],.743125*a*a-.247708),t.addScaledVector(n[7],.858086*_*a),t.addScaledVector(n[8],.429043*(_*_-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let _=0;_<9;_++)this.coefficients[_].addScaledVector(e.coefficients[_],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let _=0;_<9;_++)this.coefficients[_].lerp(e.coefficients[_],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const _=this.coefficients;for(let r=0;r<9;r++)_[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const _=this.coefficients;for(let r=0;r<9;r++)_[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const _=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*_,t[4]=1.092548*_*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*_*a,t[8]=.546274*(_*_-r*r)}}Hc.prototype.isSphericalHarmonics3=!0;class Pc extends Mc{constructor(e=new Hc,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Pc.prototype.isLightProbe=!0;class jc{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let _=0,r=e.length;_<r;_++)t+=String.fromCharCode(e[_]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}let Fc;(class extends Dr{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}).prototype.isInstancedBufferGeometry=!0,class extends $c{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,_,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,n=gc.get(e);if(void 0!==n)return a.manager.itemStart(e),setTimeout((function(){t&&t(n),a.manager.itemEnd(e)}),0),n;const i={};i.credentials="anonymous"===this.crossOrigin?"same-origin":"include",i.headers=this.requestHeader,fetch(e,i).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(_){gc.add(e,_),t&&t(_),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}.prototype.isImageBitmapLoader=!0;class zc extends $c{constructor(e){super(e)}load(e,t,_,r){const a=this,n=new bc(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(e,(function(_){try{const e=_.slice(0);(void 0===Fc&&(Fc=new(window.AudioContext||window.webkitAudioContext)),Fc).decodeAudioData(e,(function(e){t(e)}))}catch(t){r?r(t):console.error(t),a.manager.itemError(e)}}),_,r)}}(class extends Pc{constructor(e,t,_=1){super(void 0,_);const r=(new Nt).set(e),a=(new Nt).set(t),n=new r_(r.r,r.g,r.b),i=new r_(a.r,a.g,a.b),s=Math.sqrt(Math.PI),o=s*Math.sqrt(.75);this.sh.coefficients[0].copy(n).add(i).multiplyScalar(s),this.sh.coefficients[1].copy(n).sub(i).multiplyScalar(o)}}).prototype.isHemisphereLightProbe=!0,class extends Pc{constructor(e,t=1){super(void 0,t);const _=(new Nt).set(e);this.sh.coefficients[0].set(_.r,_.g,_.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class kc{constructor(e,t,_){let r,a,n;switch(this.binding=e,this.valueSize=_,t){case"quaternion":r=this._slerp,a=this._slerpAdditive,n=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*_),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,n=this._setAdditiveIdentityOther,this.buffer=new Array(5*_);break;default:r=this._lerp,a=this._lerpAdditive,n=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*_)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=n,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const _=this.buffer,r=this.valueSize,a=e*r+r;let n=this.cumulativeWeight;if(0===n){for(let e=0;e!==r;++e)_[a+e]=_[e];n=t}else{n+=t;const e=t/n;this._mixBufferRegion(_,a,0,e,r)}this.cumulativeWeight=n}accumulateAdditive(e){const t=this.buffer,_=this.valueSize,r=_*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,_),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,_=this.buffer,r=e*t+t,a=this.cumulativeWeight,n=this.cumulativeWeightAdditive,i=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const e=t*this._origIndex;this._mixBufferRegion(_,r,e,1-a,t)}n>0&&this._mixBufferRegionAdditive(_,r,this._addIndex*t,1,t);for(let e=t,a=t+t;e!==a;++e)if(_[e]!==_[e+t]){i.setValue(_,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,_=this.valueSize,r=_*this._origIndex;e.getValue(t,r);for(let e=_,a=r;e!==a;++e)t[e]=t[r+e%_];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let _=e;_<t;_++)this.buffer[_]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let _=0;_<this.valueSize;_++)this.buffer[t+_]=this.buffer[e+_]}_select(e,t,_,r,a){if(r>=.5)for(let r=0;r!==a;++r)e[t+r]=e[_+r]}_slerp(e,t,_,r){__.slerpFlat(e,t,e,t,e,_,r)}_slerpAdditive(e,t,_,r,a){const n=this._workIndex*a;__.multiplyQuaternionsFlat(e,n,e,t,e,_),__.slerpFlat(e,t,e,t,e,n,r)}_lerp(e,t,_,r,a){const n=1-r;for(let i=0;i!==a;++i){const a=t+i;e[a]=e[a]*n+e[_+i]*r}}_lerpAdditive(e,t,_,r,a){for(let n=0;n!==a;++n){const a=t+n;e[a]=e[a]+e[_+n]*r}}}const Gc="\\[\\]\\.:\\/",Nc=new RegExp("["+Gc+"]","g"),Wc="[^"+Gc+"]",Uc="[^"+Gc.replace("\\.","")+"]",Zc=/((?:WC+[\/:])*)/.source.replace("WC",Wc),Xc=/(WCOD+)?/.source.replace("WCOD",Uc),Jc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Wc),Yc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Wc),Qc=new RegExp("^"+Zc+Xc+Jc+Yc+"$"),Kc=["material","materials","bones"];class el{constructor(e,t,_){this.path=t,this.parsedPath=_||el.parseTrackName(t),this.node=el.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,_){return e&&e.isAnimationObjectGroup?new el.Composite(e,t,_):new el(e,t,_)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Nc,"")}static parseTrackName(e){const t=Qc.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const _={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=_.nodeName&&_.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=_.nodeName.substring(r+1);-1!==Kc.indexOf(e)&&(_.nodeName=_.nodeName.substring(0,r),_.objectName=e)}if(null===_.propertyName||0===_.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return _}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const _=e.skeleton.getBoneByName(t);if(void 0!==_)return _}if(e.children){const _=function(e){for(let r=0;r<e.length;r++){const a=e[r];if(a.name===t||a.uuid===t)return a;const n=_(a.children);if(n)return n}return null},r=_(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const _=this.resolvedProperty;for(let r=0,a=_.length;r!==a;++r)e[t++]=_[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const _=this.resolvedProperty;for(let r=0,a=_.length;r!==a;++r)_[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const _=this.resolvedProperty;for(let r=0,a=_.length;r!==a;++r)_[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const _=this.resolvedProperty;for(let r=0,a=_.length;r!==a;++r)_[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,_=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=el.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(_){let r=t.objectIndex;switch(_){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;default:if(void 0===e[_])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[_]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const n=e[r];if(void 0===n){const _=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+r+" but it wasn't found.",e)}let i=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?i=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(i=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}s=this.BindingType.ArrayElement,this.resolvedProperty=n,this.propertyIndex=a}else void 0!==n.fromArray&&void 0!==n.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=n):Array.isArray(n)?(s=this.BindingType.EntireArray,this.resolvedProperty=n):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][i]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}el.Composite=class{constructor(e,t,_){const r=_||el.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const _=this._targetGroup.nCachedObjects_,r=this._bindings[_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const _=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=_.length;r!==a;++r)_[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,_=e.length;t!==_;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,_=e.length;t!==_;++t)e[t].unbind()}},el.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},el.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},el.prototype.GetterByBindingType=[el.prototype._getValue_direct,el.prototype._getValue_array,el.prototype._getValue_arrayElement,el.prototype._getValue_toArray],el.prototype.SetterByBindingTypeAndVersioning=[[el.prototype._setValue_direct,el.prototype._setValue_direct_setNeedsUpdate,el.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[el.prototype._setValue_array,el.prototype._setValue_array_setNeedsUpdate,el.prototype._setValue_array_setMatrixWorldNeedsUpdate],[el.prototype._setValue_arrayElement,el.prototype._setValue_arrayElement_setNeedsUpdate,el.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[el.prototype._setValue_fromArray,el.prototype._setValue_fromArray_setNeedsUpdate,el.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tl{constructor(e,t,_=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=_,this.blendMode=r;const a=t.tracks,n=a.length,i=new Array(n),s={endingStart:st,endingEnd:st};for(let e=0;e!==n;++e){const t=a[e].createInterpolant(null);i[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=i,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,_){if(e.fadeOut(t),this.fadeIn(t),_){const _=this._clip.duration,r=e._clip.duration,a=r/_,n=_/r;e.warp(1,a,t),this.warp(n,1,t)}return this}crossFadeTo(e,t,_){return e.crossFadeFrom(this,t,_)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,_){const r=this._mixer,a=r.time,n=this.timeScale;let i=this._timeScaleInterpolant;null===i&&(i=r._lendControlInterpolant(),this._timeScaleInterpolant=i);const s=i.parameterPositions,o=i.sampleValues;return s[0]=a,s[1]=a+_,o[0]=e/n,o[1]=t/n,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,_,r){if(!this.enabled)return void this._updateWeight(e);const a=this._startTime;if(null!==a){const r=(e-a)*_;if(r<0||0===_)return;this._startTime=null,t=_*r}t*=this._updateTimeScale(e);const n=this._updateTime(t),i=this._updateWeight(e);if(i>0){const e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let _=0,r=e.length;_!==r;++_)e[_].evaluate(n),t[_].accumulateAdditive(i);else for(let _=0,a=e.length;_!==a;++_)e[_].evaluate(n),t[_].accumulate(r,i)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const _=this._weightInterpolant;if(null!==_){const r=_.evaluate(e)[0];t*=r,e>_.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const _=this._timeScaleInterpolant;null!==_&&(t*=_.evaluate(e)[0],e>_.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,_=this.loop;let r=this.time+e,a=this._loopCount;const n=2202===_;if(0===e)return-1===a?r:n&&1==(1&a)?t-r:r;if(2200===_){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,n)):this._setEndings(0===this.repetitions,!0,n)),r>=t||r<0){const _=Math.floor(r/t);r-=t*_,a+=Math.abs(_);const i=this.repetitions-a;if(i<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===i){const t=e<0;this._setEndings(t,!t,n)}else this._setEndings(!1,!1,n);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:_})}}else this.time=r;if(n&&1==(1&a))return t-r}return r}_setEndings(e,t,_){const r=this._interpolantSettings;_?(r.endingStart=ot,r.endingEnd=ot):(r.endingStart=e?this.zeroSlopeAtStart?ot:st:ct,r.endingEnd=t?this.zeroSlopeAtEnd?ot:st:ct)}_scheduleFading(e,t,_){const r=this._mixer,a=r.time;let n=this._weightInterpolant;null===n&&(n=r._lendControlInterpolant(),this._weightInterpolant=n);const i=n.parameterPositions,s=n.sampleValues;return i[0]=a,s[0]=t,i[1]=a+e,s[1]=_,this}}(class extends bt{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const _=e._localRoot||this._root,r=e._clip.tracks,a=r.length,n=e._propertyBindings,i=e._interpolants,s=_.uuid,o=this._bindingsByRootAndName;let c=o[s];void 0===c&&(c={},o[s]=c);for(let e=0;e!==a;++e){const a=r[e],o=a.name;let l=c[o];if(void 0!==l)++l.referenceCount,n[e]=l;else{if(l=n[e],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,o));continue}const r=t&&t._propertyBindings[e].binding.parsedPath;l=new kc(el.create(_,o,r),a.ValueTypeName,a.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,o),n[e]=l}i[e].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,_=e._clip.uuid,r=this._actionsByClip[_];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,_,t)}const t=e._propertyBindings;for(let e=0,_=t.length;e!==_;++e){const _=t[e];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,_=t.length;e!==_;++e){const _=t[e];0==--_.useCount&&(_.restoreOriginalState(),this._takeBackBinding(_))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,_){const r=this._actions,a=this._actionsByClip;let n=a[t];if(void 0===n)n={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=n;else{const t=n.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),n.actionByRoot[_]=e}_removeInactiveAction(e){const t=this._actions,_=t[t.length-1],r=e._cacheIndex;_._cacheIndex=r,t[r]=_,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,n=this._actionsByClip,i=n[a],s=i.knownActions,o=s[s.length-1],c=e._byClipCacheIndex;o._byClipCacheIndex=c,s[c]=o,s.pop(),e._byClipCacheIndex=null,delete i.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete n[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,_=t.length;e!==_;++e){const _=t[e];0==--_.referenceCount&&this._removeInactiveBinding(_)}}_lendAction(e){const t=this._actions,_=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=_,t[_]=a}_takeBackAction(e){const t=this._actions,_=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=_,t[_]=a}_addInactiveBinding(e,t,_){const r=this._bindingsByRootAndName,a=this._bindings;let n=r[t];void 0===n&&(n={},r[t]=n),n[_]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,_=e.binding,r=_.rootNode.uuid,a=_.path,n=this._bindingsByRootAndName,i=n[r],s=t[t.length-1],o=e._cacheIndex;s._cacheIndex=o,t[o]=s,t.pop(),delete i[a],0===Object.keys(i).length&&delete n[r]}_lendBinding(e){const t=this._bindings,_=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=_,t[_]=a}_takeBackBinding(e){const t=this._bindings,_=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=_,t[_]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let _=e[t];return void 0===_&&(_=new ic(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),_.__cacheIndex=t,e[t]=_),_}_takeBackControlInterpolant(e){const t=this._controlInterpolants,_=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=_,t[_]=a}clipAction(e,t,_){const r=t||this._root,a=r.uuid;let n="string"==typeof e?mc.findByName(r,e):e;const i=null!==n?n.uuid:e,s=this._actionsByClip[i];let o=null;if(void 0===_&&(_=null!==n?n.blendMode:2500),void 0!==s){const e=s.actionByRoot[a];if(void 0!==e&&e.blendMode===_)return e;o=s.knownActions[0],null===n&&(n=o._clip)}if(null===n)return null;const c=new tl(this,n,t,_);return this._bindAction(c,o),this._addInactiveAction(c,i,a),c}existingAction(e,t){const _=t||this._root,r=_.uuid,a="string"==typeof e?mc.findByName(_,e):e,n=a?a.uuid:e,i=this._actionsByClip[n];return void 0!==i&&i.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,_=this._nActiveActions,r=this.time+=e,a=Math.sign(e),n=this._accuIndex^=1;for(let i=0;i!==_;++i)t[i]._update(r,e,a,n);const i=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)i[e].apply(n);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,_=e.uuid,r=this._actionsByClip,a=r[_];if(void 0!==a){const e=a.knownActions;for(let _=0,r=e.length;_!==r;++_){const r=e[_];this._deactivateAction(r);const a=r._cacheIndex,n=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,n._cacheIndex=a,t[a]=n,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[_]}}uncacheRoot(e){const t=e.uuid,_=this._actionsByClip;for(const e in _){const r=_[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const _=this.existingAction(e,t);null!==_&&(this._deactivateAction(_),this._removeInactiveAction(_))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class _l{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new _l(void 0===this.value.clone?this.value:this.value.clone())}}(class extends _s{constructor(e,t,_=1){super(e,t),this.meshPerAttribute=_}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}).prototype.isInstancedInterleavedBuffer=!0;class rl{constructor(e=1,t=0,_=0){return this.radius=e,this.phi=t,this.theta=_,this}set(e,t,_){return this.radius=e,this.phi=t,this.theta=_,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,_){return this.radius=Math.sqrt(e*e+t*t+_*_),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,_),this.phi=Math.acos(wt(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const al=new At;class nl{constructor(e=new At(1/0,1/0),t=new At(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,_=e.length;t<_;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const _=al.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(_),this.max.copy(e).add(_),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return al.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}nl.prototype.isBox2=!0;const il=new r_,sl=new E_,ol=new E_;function cl(e){const t=[];!0===e.isBone&&t.push(e);for(let _=0;_<e.children.length;_++)t.push.apply(t,cl(e.children[_]));return t}class ll extends js{constructor(e,t=16776960){const _=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Dr;r.setIndex(new br(_,1)),r.setAttribute("position",new Sr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new As({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class pl extends js{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],_=new Dr;_.setAttribute("position",new Sr(t,3)),_.setAttribute("color",new Sr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(_,new As({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,_){const r=new Nt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(_),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const ul=new ArrayBuffer(4),fl=(new Float32Array(ul),new Uint32Array(ul),new Uint32Array(512)),hl=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(fl[e]=0,fl[256|e]=32768,hl[e]=24,hl[256|e]=24):t<-14?(fl[e]=1024>>-t-14,fl[256|e]=1024>>-t-14|32768,hl[e]=-t-1,hl[256|e]=-t-1):t<=15?(fl[e]=t+15<<10,fl[256|e]=t+15<<10|32768,hl[e]=13,hl[256|e]=13):t<128?(fl[e]=31744,fl[256|e]=64512,hl[e]=24,hl[256|e]=24):(fl[e]=31744,fl[256|e]=64512,hl[e]=13,hl[256|e]=13)}const dl=new Uint32Array(2048),ml=new Uint32Array(64),yl=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,_=0;for(;0==(8388608&t);)t<<=1,_-=8388608;t&=-8388609,_+=947912704,dl[e]=t|_}for(let e=1024;e<2048;++e)dl[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)ml[e]=e<<23;ml[31]=1199570944,ml[32]=2147483648;for(let e=33;e<63;++e)ml[e]=2147483648+(e-32<<23);ml[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(yl[e]=1024);Us.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Us.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},fo.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},class extends js{constructor(e=10,t=10,_=4473924,r=8947848){_=new Nt(_),r=new Nt(r);const a=t/2,n=e/t,i=e/2,s=[],o=[];for(let e=0,c=0,l=-i;e<=t;e++,l+=n){s.push(-i,0,l,i,0,l),s.push(l,0,-i,l,0,i);const t=e===a?_:r;t.toArray(o,c),c+=3,t.toArray(o,c),c+=3,t.toArray(o,c),c+=3,t.toArray(o,c),c+=3}const c=new Dr;c.setAttribute("position",new Sr(s,3)),c.setAttribute("color",new Sr(o,3)),super(c,new As({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends js{constructor(e){const t=cl(e),_=new Dr,r=[],a=[],n=new Nt(0,0,1),i=new Nt(0,1,0);for(let e=0;e<t.length;e++){const _=t[e];_.parent&&_.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(n.r,n.g,n.b),a.push(i.r,i.g,i.b))}_.setAttribute("position",new Sr(r,3)),_.setAttribute("color",new Sr(a,3)),super(_,new As({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,_=this.geometry,r=_.getAttribute("position");ol.copy(this.root.matrixWorld).invert();for(let e=0,_=0;e<t.length;e++){const a=t[e];a.parent&&a.parent.isBone&&(sl.multiplyMatrices(ol,a.matrixWorld),il.setFromMatrixPosition(sl),r.setXYZ(_,il.x,il.y,il.z),sl.multiplyMatrices(ol,a.parent.matrixWorld),il.setFromMatrixPosition(sl),r.setXYZ(_+1,il.x,il.y,il.z),_+=2)}_.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},$c.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),jc.extractUrlBase(e)},$c.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},nl.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},nl.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},nl.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},nl.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},i_.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},i_.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},i_.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},i_.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},i_.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},G_.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},S_.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ma.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Rt.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Rt.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Rt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Rt.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Rt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Rt.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},E_.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},E_.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},E_.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new r_).setFromMatrixColumn(this,3)},E_.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},E_.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},E_.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},E_.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},E_.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},E_.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},E_.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},E_.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},E_.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},E_.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},E_.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},E_.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},E_.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},E_.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},E_.prototype.makeFrustum=function(e,t,_,r,a,n){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,_,a,n)},E_.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},fa.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},__.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},__.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},D_.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},D_.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},D_.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},mr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},mr.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},mr.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},mr.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},mr.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},mr.barycoordFromPoint=function(e,t,_,r,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),mr.getBarycoord(e,t,_,r,a)},mr.normal=function(e,t,_,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),mr.getNormal(e,t,_,r)},ho.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},ho.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ko(this,e)},ho.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new No(this,e)},At.prototype.fromAttribute=function(e,t,_){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,_)},At.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},At.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},r_.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},r_.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},r_.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},r_.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},r_.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},r_.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},r_.prototype.fromAttribute=function(e,t,_){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,_)},r_.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},r_.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Qt.prototype.fromAttribute=function(e,t,_){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,_)},Qt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},nr.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},nr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},nr.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},nr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},nr.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(nr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Yr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Yr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ss.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},na.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Mc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(br.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===vt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(vt)}}}),br.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?vt:gt),this},br.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},br.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Dr.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Dr.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new br(arguments[1],arguments[2])))},Dr.prototype.addDrawCall=function(e,t,_){void 0!==_&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Dr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Dr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Dr.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Dr.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Dr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),_s.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?vt:gt),this},_s.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ko.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},ko.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},ko.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ts.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},_l.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(gr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Nt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ra.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Qi.prototype.clearTarget=function(e,t,_,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,_,r)},Qi.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Qi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Qi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Qi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Qi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Qi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Qi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Qi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Qi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Qi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Qi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Qi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Qi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Qi.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Qi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Qi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Qi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Qi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Qi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Qi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Qi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Qi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Qi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Qi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Qi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?pt:lt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Fi.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Kt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),class extends nr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new zc).load(e,(function(e){t.setBuffer(e)})),this},sa.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},sa.prototype.clear=function(e,t,_,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,_,r)},Ut.crossOrigin=void 0,Ut.loadTexture=function(e,t,_,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const a=new Sc;a.setCrossOrigin(this.crossOrigin);const n=a.load(e,_,void 0,r);return t&&(n.mapping=t),n},Ut.loadTextureCube=function(e,t,_,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const a=new Lc;a.setCrossOrigin(this.crossOrigin);const n=a.load(e,_,void 0,r);return t&&(n.mapping=t),n},Ut.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ut.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e);const gl={type:"change"},vl={type:"start"},$l={type:"end"};class xl extends bt{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new r_,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",k),this._domElementKeyEvents=e},this.saveState=function(){_.target0.copy(_.target),_.position0.copy(_.object.position),_.zoom0=_.object.zoom},this.reset=function(){_.target.copy(_.target0),_.object.position.copy(_.position0),_.object.zoom=_.zoom0,_.object.updateProjectionMatrix(),_.dispatchEvent(gl),_.update(),a=r.NONE},this.update=function(){const t=new r_,p=(new __).setFromUnitVectors(e.up,new r_(0,1,0)),u=p.clone().invert(),f=new r_,h=new __,d=2*Math.PI;return function(){const e=_.object.position;t.copy(e).sub(_.target),t.applyQuaternion(p),i.setFromVector3(t),_.autoRotate&&a===r.NONE&&I(2*Math.PI/60/60*_.autoRotateSpeed),_.enableDamping?(i.theta+=s.theta*_.dampingFactor,i.phi+=s.phi*_.dampingFactor):(i.theta+=s.theta,i.phi+=s.phi);let m=_.minAzimuthAngle,y=_.maxAzimuthAngle;return isFinite(m)&&isFinite(y)&&(m<-Math.PI?m+=d:m>Math.PI&&(m-=d),y<-Math.PI?y+=d:y>Math.PI&&(y-=d),i.theta=m<=y?Math.max(m,Math.min(y,i.theta)):i.theta>(m+y)/2?Math.max(m,i.theta):Math.min(y,i.theta)),i.phi=Math.max(_.minPolarAngle,Math.min(_.maxPolarAngle,i.phi)),i.makeSafe(),i.radius*=o,i.radius=Math.max(_.minDistance,Math.min(_.maxDistance,i.radius)),!0===_.enableDamping?_.target.addScaledVector(c,_.dampingFactor):_.target.add(c),t.setFromSpherical(i),t.applyQuaternion(u),e.copy(_.target).add(t),_.object.lookAt(_.target),!0===_.enableDamping?(s.theta*=1-_.dampingFactor,s.phi*=1-_.dampingFactor,c.multiplyScalar(1-_.dampingFactor)):(s.set(0,0,0),c.set(0,0,0)),o=1,!!(l||f.distanceToSquared(_.object.position)>n||8*(1-h.dot(_.object.quaternion))>n)&&(_.dispatchEvent(gl),f.copy(_.object.position),h.copy(_.object.quaternion),l=!1,!0)}}(),this.dispose=function(){_.domElement.removeEventListener("contextmenu",G),_.domElement.removeEventListener("pointerdown",H),_.domElement.removeEventListener("pointercancel",F),_.domElement.removeEventListener("wheel",z),_.domElement.removeEventListener("pointermove",P),_.domElement.removeEventListener("pointerup",j),null!==_._domElementKeyEvents&&_._domElementKeyEvents.removeEventListener("keydown",k)};const _=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=r.NONE;const n=1e-6,i=new rl,s=new rl;let o=1;const c=new r_;let l=!1;const p=new At,u=new At,f=new At,h=new At,d=new At,m=new At,y=new At,g=new At,v=new At,$=[],x={};function b(){return Math.pow(.95,_.zoomSpeed)}function I(e){s.theta-=e}function L(e){s.phi-=e}const S=function(){const e=new r_;return function(t,_){e.setFromMatrixColumn(_,0),e.multiplyScalar(-t),c.add(e)}}(),M=function(){const e=new r_;return function(t,r){!0===_.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(_.object.up,e)),e.multiplyScalar(t),c.add(e)}}(),w=function(){const e=new r_;return function(t,r){const a=_.domElement;if(_.object.isPerspectiveCamera){const n=_.object.position;e.copy(n).sub(_.target);let i=e.length();i*=Math.tan(_.object.fov/2*Math.PI/180),S(2*t*i/a.clientHeight,_.object.matrix),M(2*r*i/a.clientHeight,_.object.matrix)}else _.object.isOrthographicCamera?(S(t*(_.object.right-_.object.left)/_.object.zoom/a.clientWidth,_.object.matrix),M(r*(_.object.top-_.object.bottom)/_.object.zoom/a.clientHeight,_.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),_.enablePan=!1)}}();function O(e){_.object.isPerspectiveCamera?o/=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom*e)),_.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function C(e){_.object.isPerspectiveCamera?o*=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom/e)),_.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function T(e){p.set(e.clientX,e.clientY)}function A(e){h.set(e.clientX,e.clientY)}function R(){if(1===$.length)p.set($[0].pageX,$[0].pageY);else{const e=.5*($[0].pageX+$[1].pageX),t=.5*($[0].pageY+$[1].pageY);p.set(e,t)}}function D(){if(1===$.length)h.set($[0].pageX,$[0].pageY);else{const e=.5*($[0].pageX+$[1].pageX),t=.5*($[0].pageY+$[1].pageY);h.set(e,t)}}function E(){const e=$[0].pageX-$[1].pageX,t=$[0].pageY-$[1].pageY,_=Math.sqrt(e*e+t*t);y.set(0,_)}function B(e){if(1==$.length)u.set(e.pageX,e.pageY);else{const t=U(e),_=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);u.set(_,r)}f.subVectors(u,p).multiplyScalar(_.rotateSpeed);const t=_.domElement;I(2*Math.PI*f.x/t.clientHeight),L(2*Math.PI*f.y/t.clientHeight),p.copy(u)}function V(e){if(1===$.length)d.set(e.pageX,e.pageY);else{const t=U(e),_=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);d.set(_,r)}m.subVectors(d,h).multiplyScalar(_.panSpeed),w(m.x,m.y),h.copy(d)}function q(e){const t=U(e),r=e.pageX-t.x,a=e.pageY-t.y,n=Math.sqrt(r*r+a*a);g.set(0,n),v.set(0,Math.pow(g.y/y.y,_.zoomSpeed)),O(v.y),y.copy(g)}function H(e){!1!==_.enabled&&(0===$.length&&(_.domElement.setPointerCapture(e.pointerId),_.domElement.addEventListener("pointermove",P),_.domElement.addEventListener("pointerup",j)),function(e){$.push(e)}(e),"touch"===e.pointerType?function(e){switch(W(e),$.length){case 1:switch(_.touches.ONE){case 0:if(!1===_.enableRotate)return;R(),a=r.TOUCH_ROTATE;break;case 1:if(!1===_.enablePan)return;D(),a=r.TOUCH_PAN;break;default:a=r.NONE}break;case 2:switch(_.touches.TWO){case 2:if(!1===_.enableZoom&&!1===_.enablePan)return;_.enableZoom&&E(),_.enablePan&&D(),a=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===_.enableZoom&&!1===_.enableRotate)return;_.enableZoom&&E(),_.enableRotate&&R(),a=r.TOUCH_DOLLY_ROTATE;break;default:a=r.NONE}break;default:a=r.NONE}a!==r.NONE&&_.dispatchEvent(vl)}(e):function(e){let t;switch(e.button){case 0:t=_.mouseButtons.LEFT;break;case 1:t=_.mouseButtons.MIDDLE;break;case 2:t=_.mouseButtons.RIGHT;break;default:t=-1}switch(t){case 1:if(!1===_.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),a=r.DOLLY;break;case 0:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===_.enablePan)return;A(e),a=r.PAN}else{if(!1===_.enableRotate)return;T(e),a=r.ROTATE}break;case 2:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===_.enableRotate)return;T(e),a=r.ROTATE}else{if(!1===_.enablePan)return;A(e),a=r.PAN}break;default:a=r.NONE}a!==r.NONE&&_.dispatchEvent(vl)}(e))}function P(e){!1!==_.enabled&&("touch"===e.pointerType?function(e){switch(W(e),a){case r.TOUCH_ROTATE:if(!1===_.enableRotate)return;B(e),_.update();break;case r.TOUCH_PAN:if(!1===_.enablePan)return;V(e),_.update();break;case r.TOUCH_DOLLY_PAN:if(!1===_.enableZoom&&!1===_.enablePan)return;!function(e){_.enableZoom&&q(e),_.enablePan&&V(e)}(e),_.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===_.enableZoom&&!1===_.enableRotate)return;!function(e){_.enableZoom&&q(e),_.enableRotate&&B(e)}(e),_.update();break;default:a=r.NONE}}(e):function(e){if(!1!==_.enabled)switch(a){case r.ROTATE:if(!1===_.enableRotate)return;!function(e){u.set(e.clientX,e.clientY),f.subVectors(u,p).multiplyScalar(_.rotateSpeed);const t=_.domElement;I(2*Math.PI*f.x/t.clientHeight),L(2*Math.PI*f.y/t.clientHeight),p.copy(u),_.update()}(e);break;case r.DOLLY:if(!1===_.enableZoom)return;!function(e){g.set(e.clientX,e.clientY),v.subVectors(g,y),v.y>0?O(b()):v.y<0&&C(b()),y.copy(g),_.update()}(e);break;case r.PAN:if(!1===_.enablePan)return;!function(e){d.set(e.clientX,e.clientY),m.subVectors(d,h).multiplyScalar(_.panSpeed),w(m.x,m.y),h.copy(d),_.update()}(e)}}(e))}function j(e){N(e),0===$.length&&(_.domElement.releasePointerCapture(e.pointerId),_.domElement.removeEventListener("pointermove",P),_.domElement.removeEventListener("pointerup",j)),_.dispatchEvent($l),a=r.NONE}function F(e){N(e)}function z(e){!1!==_.enabled&&!1!==_.enableZoom&&a===r.NONE&&(e.preventDefault(),_.dispatchEvent(vl),function(e){e.deltaY<0?C(b()):e.deltaY>0&&O(b()),_.update()}(e),_.dispatchEvent($l))}function k(e){!1!==_.enabled&&!1!==_.enablePan&&function(e){let t=!1;switch(e.code){case _.keys.UP:w(0,_.keyPanSpeed),t=!0;break;case _.keys.BOTTOM:w(0,-_.keyPanSpeed),t=!0;break;case _.keys.LEFT:w(_.keyPanSpeed,0),t=!0;break;case _.keys.RIGHT:w(-_.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),_.update())}(e)}function G(e){!1!==_.enabled&&e.preventDefault()}function N(e){delete x[e.pointerId];for(let t=0;t<$.length;t++)if($[t].pointerId==e.pointerId)return void $.splice(t,1)}function W(e){let t=x[e.pointerId];void 0===t&&(t=new At,x[e.pointerId]=t),t.set(e.pageX,e.pageY)}function U(e){const t=e.pointerId===$[0].pointerId?$[1]:$[0];return x[t.pointerId]}_.domElement.addEventListener("contextmenu",G),_.domElement.addEventListener("pointerdown",H),_.domElement.addEventListener("pointercancel",F),_.domElement.addEventListener("wheel",z,{passive:!1}),this.update()}}var bl;function Il(e){this.c=e}function Ll(e){return"number"==typeof e?0===e&&1/e<0?"number(-0)":"number("+e+")":e instanceof Oh?"long":e instanceof Il?"char":e&&e.$classData?e.$classData.name:typeof e}function Sl(e,t){throw new uI(new zb(Ll(e)+" cannot be cast to "+t))}function Ml(e,t,_){for(;--_;)t="["+t;Sl(e,t)}function wl(e){throw new uI(new yS(null===e?null:""+e))}function Ol(e){throw new uI(new Pb(null===e?null:Ll(e)))}function Cl(){throw new uI(new _I)}function Tl(e,t){return Al(e,t,0)}function Al(e,t,_){var r=new e.constr(t[_]);if(_<t.length-1)for(var a=e.componentData,n=_+1,i=r.u,s=0;s<i.length;s++)i[s]=Al(a,t,n);return r}function Rl(e){switch(typeof e){case"string":return TS.getClassOf();case"number":return Xl(e)?e<<24>>24===e?Fb.getClassOf():e<<16>>16===e?iI.getClassOf():bS.getClassOf():Jl(e)?xS.getClassOf():$S.getClassOf();case"boolean":return ox.getClassOf();case"undefined":return Vf.getClassOf();default:return null===e?e.getClass__jl_Class():e instanceof Oh?IS.getClassOf():e instanceof Il?lx.getClassOf():e&&e.$classData?e.$classData.getClassOf():null}}function Dl(e){switch(typeof e){case"string":return"java.lang.String";case"number":return Xl(e)?e<<24>>24===e?"java.lang.Byte":e<<16>>16===e?"java.lang.Short":"java.lang.Integer":Jl(e)?"java.lang.Float":"java.lang.Double";case"boolean":return"java.lang.Boolean";case"undefined":return"java.lang.Void";default:return null===e?e.getClass__jl_Class():e instanceof Oh?"java.lang.Long":e instanceof Il?"java.lang.Character":e&&e.$classData?e.$classData.name:null.getName__T()}}function El(e,t){switch(typeof e){case"string":return e===t;case"number":return _=e,r=t,Object.is(_,r);case"boolean":case"undefined":return function(e,t){return e===t}(e,t);default:return e&&e.$classData||null===e?e.equals__O__Z(t):e instanceof Oh?function(e,t){if(t instanceof Oh){var _=rp((r=t)instanceof Oh||null===r?r:Sl(r,"java.lang.Long"));return e.RTLong__f_lo===_.RTLong__f_lo&&e.RTLong__f_hi===_.RTLong__f_hi}return!1;var r}(e,t):e instanceof Il?function(e,t){return t instanceof Il&&e===Kl(cx(t))}(Kl(e),t):ip.prototype.equals__O__Z.call(e,t)}var _,r}function Bl(e){switch(typeof e){case"string":return wS(e);case"number":return vS(e);case"boolean":return e?1231:1237;case"undefined":return 0;default:return e&&e.$classData||null===e?e.hashCode__I():e instanceof Oh?(t=e).RTLong__f_lo^t.RTLong__f_hi:e instanceof Il?Kl(e):ip.prototype.hashCode__I.call(e)}var t}function Vl(e){return void 0===e?"undefined":e.toString()}function ql(e,t){if(0===t)throw new qb("/ by zero");return e/t|0}function Hl(e,t){if(0===t)throw new qb("/ by zero");return e%t|0}function Pl(e){return e>2147483647?2147483647:e<-2147483648?-2147483648:0|e}function jl(e,t){var _=e.charCodeAt(t);if(_!=_)throw new uI(new AS(t));return _}function Fl(e,t,_,r,a){(t<0||r<0||a<0||t>(e-a|0)||r>(_-a|0))&&wl(null)}function zl(e,t,_,r,a){if(Fl(e.length,t,_.length,r,a),e!==_||r<t||(t+a|0)<r)for(var n=0;n<a;n=n+1|0)_[r+n|0]=e[t+n|0];else for(n=a-1|0;n>=0;n=n-1|0)_[r+n|0]=e[t+n|0]}function kl(e,t,_,r,a){if(_.$classData.isAssignableFrom(e.$classData))zl(e.u,t,_.u,r,a);else{var n=e.u;Fl(n.length,t,_.u.length,r,a);for(var i=0;i<a;i=i+1|0)_.set(r+i|0,n[t+i|0])}}Object.freeze({esVersion:6,assumingES6:!0,productionMode:!1,linkerVersion:"1.12.0",fileLevelThis:void 0}),Object.getOwnPropertyDescriptors||(()=>{if("undefined"!=typeof Reflect&&Reflect.ownKeys)Reflect.ownKeys;else{var e=Object.getOwnPropertySymbols||(e=>[]);t=>Object.getOwnPropertyNames(t).concat(e(t))}})(),Il.prototype.toString=function(){return String.fromCharCode(this.c)};var Gl=0,Nl=new WeakMap;function Wl(e){switch(typeof e){case"string":return wS(e);case"number":return vS(e);case"bigint":var t=0;for(e<BigInt(0)&&(e=~e);e!==BigInt(0);)t^=Number(BigInt.asIntN(32,e)),e>>=BigInt(32);return t;case"boolean":return e?1231:1237;case"undefined":return 0;case"symbol":var _=e.description;return void 0===_?0:wS(_);default:if(null===e)return 0;var r=Nl.get(e);return void 0===r&&(Gl=r=Gl+1|0,Nl.set(e,r)),r}}function Ul(e){return"number"==typeof e&&e<<24>>24===e&&1/e!=-1/0}function Zl(e){return"number"==typeof e&&e<<16>>16===e&&1/e!=-1/0}function Xl(e){return"number"==typeof e&&(0|e)===e&&1/e!=-1/0}function Jl(e){return"number"==typeof e&&(e!=e||Math.fround(e)===e)}function Yl(e){return new Il(e)}function Ql(e){return"boolean"==typeof e||null===e?!!e:Sl(e,"java.lang.Boolean")}function Kl(e){return e instanceof Il||null===e?null===e?0:e.c:Sl(e,"java.lang.Character")}function ep(e){return Ul(e)||null===e?0|e:Sl(e,"java.lang.Byte")}function tp(e){return Zl(e)||null===e?0|e:Sl(e,"java.lang.Short")}function _p(e){return Xl(e)||null===e?0|e:Sl(e,"java.lang.Integer")}function rp(e){return e instanceof Oh||null===e?null===e?bl:e:Sl(e,"java.lang.Long")}function ap(e){return Jl(e)||null===e?+e:Sl(e,"java.lang.Float")}function np(e){return"number"==typeof e||null===e?+e:Sl(e,"java.lang.Double")}function ip(){}function sp(){}function op(e){if("number"==typeof e){e<0&&Cl(),this.u=new Array(e);for(var t=0;t<e;t++)this.u[t]=null}else this.u=e}function cp(){}function lp(e){if("number"==typeof e){e<0&&Cl(),this.u=new Array(e);for(var t=0;t<e;t++)this.u[t]=!1}else this.u=e}function pp(e){"number"==typeof e?(e<0&&Cl(),this.u=new Uint16Array(e)):this.u=e}function up(e){"number"==typeof e?(e<0&&Cl(),this.u=new Int8Array(e)):this.u=e}function fp(e){"number"==typeof e?(e<0&&Cl(),this.u=new Int16Array(e)):this.u=e}function hp(e){"number"==typeof e?(e<0&&Cl(),this.u=new Int32Array(e)):this.u=e}function dp(e){if("number"==typeof e){e<0&&Cl(),this.u=new Array(e);for(var t=0;t<e;t++)this.u[t]=bl}else this.u=e}function mp(e){"number"==typeof e?(e<0&&Cl(),this.u=new Float32Array(e)):this.u=e}function yp(e){"number"==typeof e?(e<0&&Cl(),this.u=new Float64Array(e)):this.u=e}function gp(){this.constr=void 0,this.ancestors=null,this.componentData=null,this.arrayBase=null,this.arrayDepth=0,this.zero=null,this.arrayEncodedName="",this._classOf=void 0,this._arrayOf=void 0,this.isAssignableFromFun=void 0,this.wrapArray=void 0,this.isJSType=!1,this.name="",this.isPrimitive=!1,this.isInterface=!1,this.isArrayClass=!1,this.isInstance=void 0}function vp(e,t){if(function(e,t){var _=e&&e.$classData;if(_){var r=_.arrayDepth;return r===t?!_.arrayBase.isPrimitive:r>t}return!1}(e,t)||null===e)return e;Ml(e,"Ljava.lang.Object;",t)}function $p(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Tp)}(e,t)||null===e)return e;Ml(e,"Z",t)}function xp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Ap)}(e,t)||null===e)return e;Ml(e,"C",t)}function bp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Rp)}(e,t)||null===e)return e;Ml(e,"B",t)}function Ip(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Dp)}(e,t)||null===e)return e;Ml(e,"S",t)}function Lp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Ep)}(e,t)||null===e)return e;Ml(e,"I",t)}function Sp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Bp)}(e,t)||null===e)return e;Ml(e,"J",t)}function Mp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==Vp)}(e,t)||null===e)return e;Ml(e,"F",t)}function wp(e,t){if(function(e,t){return!(!e||!e.$classData||e.$classData.arrayDepth!==t||e.$classData.arrayBase!==qp)}(e,t)||null===e)return e;Ml(e,"D",t)}Yl(0),ip.prototype.constructor=ip,sp.prototype=ip.prototype,ip.prototype.hashCode__I=function(){return Wl(this)},ip.prototype.equals__O__Z=function(e){return this===e},ip.prototype.toString__T=function(){var e=this.hashCode__I();return Dl(this)+"@"+CS(np(e>>>0).toString(16))},ip.prototype.toString=function(){return this.toString__T()},op.prototype=new sp,op.prototype.constructor=op,op.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},op.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},op.prototype.copyTo=function(e,t,_,r){zl(this.u,e,t.u,_,r)},op.prototype.clone__O=function(){return new op(this.u.slice())},cp.prototype=op.prototype,lp.prototype=new sp,lp.prototype.constructor=lp,lp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},lp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},lp.prototype.copyTo=function(e,t,_,r){zl(this.u,e,t.u,_,r)},lp.prototype.clone__O=function(){return new lp(this.u.slice())},pp.prototype=new sp,pp.prototype.constructor=pp,pp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},pp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},pp.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},pp.prototype.clone__O=function(){return new pp(this.u.slice())},up.prototype=new sp,up.prototype.constructor=up,up.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},up.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},up.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},up.prototype.clone__O=function(){return new up(this.u.slice())},fp.prototype=new sp,fp.prototype.constructor=fp,fp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},fp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},fp.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},fp.prototype.clone__O=function(){return new fp(this.u.slice())},hp.prototype=new sp,hp.prototype.constructor=hp,hp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},hp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},hp.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},hp.prototype.clone__O=function(){return new hp(this.u.slice())},dp.prototype=new sp,dp.prototype.constructor=dp,dp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},dp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},dp.prototype.copyTo=function(e,t,_,r){zl(this.u,e,t.u,_,r)},dp.prototype.clone__O=function(){return new dp(this.u.slice())},mp.prototype=new sp,mp.prototype.constructor=mp,mp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},mp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},mp.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},mp.prototype.clone__O=function(){return new mp(this.u.slice())},yp.prototype=new sp,yp.prototype.constructor=yp,yp.prototype.get=function(e){return(e<0||e>=this.u.length)&&wl(e),this.u[e]},yp.prototype.set=function(e,t){(e<0||e>=this.u.length)&&wl(e),this.u[e]=t},yp.prototype.copyTo=function(e,t,_,r){Fl(this.u.length,e,t.u.length,_,r),t.u.set(this.u.subarray(e,e+r|0),_)},yp.prototype.clone__O=function(){return new yp(this.u.slice())},gp.prototype.initPrim=function(e,t,_,r,a){this.ancestors={},this.zero=e,this.arrayEncodedName=t;var n=this;return this.isAssignableFromFun=e=>e===n,this.name=_,this.isPrimitive=!0,this.isInstance=e=>!1,void 0!==r&&(this._arrayOf=(new gp).initSpecializedArray(this,r,a)),this},gp.prototype.initClass=function(e,t,_,r,a,n,i){var s=function(e){for(var t in e)return t}(e);return this.ancestors=r,this.arrayEncodedName="L"+_+";",this.isAssignableFromFun=e=>!!e.ancestors[s],this.isJSType=!!a,this.name=_,this.isInterface=t,this.isInstance=i||(e=>!!(e&&e.$classData&&e.$classData.ancestors[s])),this},gp.prototype.initSpecializedArray=function(e,t,_,r){t.prototype.$classData=this;var a="["+e.arrayEncodedName;this.constr=t,this.ancestors={O:1,jl_Cloneable:1,Ljava_io_Serializable:1},this.componentData=e,this.arrayBase=e,this.arrayDepth=1,this.arrayEncodedName=a,this.name=a,this.isArrayClass=!0;var n=this;return this.isAssignableFromFun=r||(e=>n===e),this.wrapArray=_?e=>new t(new _(e)):e=>new t(e),this.isInstance=e=>e instanceof t,this},gp.prototype.initArray=function(e){function t(e){if("number"==typeof e){e<0&&Cl(),this.u=new Array(e);for(var t=0;t<e;t++)this.u[t]=null}else this.u=e}t.prototype=new cp,t.prototype.constructor=t,t.prototype.set=function(t,_){(t<0||t>=this.u.length)&&wl(t),null===_||e.isJSType||e.isInstance(_)||Ol(_),this.u[t]=_},t.prototype.copyTo=function(e,t,_,r){zl(this.u,e,t.u,_,r)},t.prototype.clone__O=function(){return new t(this.u.slice())};var _=e.arrayBase||e,r=e.arrayDepth+1;t.prototype.$classData=this;var a="["+e.arrayEncodedName;this.constr=t,this.ancestors={O:1,jl_Cloneable:1,Ljava_io_Serializable:1},this.componentData=e,this.arrayBase=_,this.arrayDepth=r,this.arrayEncodedName=a,this.name=a,this.isArrayClass=!0;var n=e=>{var t=e.arrayDepth;return t===r?_.isAssignableFromFun(e.arrayBase):t>r&&_===Op};this.isAssignableFromFun=n,this.wrapArray=e=>new t(e);var i=this;return this.isInstance=e=>{var t=e&&e.$classData;return!!t&&(t===i||n(t))},this},gp.prototype.getArrayOf=function(){return this._arrayOf||(this._arrayOf=(new gp).initArray(this)),this._arrayOf},gp.prototype.getClassOf=function(){return this._classOf||(this._classOf=new vf(this)),this._classOf},gp.prototype.isAssignableFrom=function(e){return this===e||this.isAssignableFromFun(e)},gp.prototype.checkCast=function(e){null===e||this.isJSType||this.isInstance(e)||Sl(e,this.name)},gp.prototype.getSuperclass=function(){return this.parentData?this.parentData.getClassOf():null},gp.prototype.getComponentType=function(){return this.componentData?this.componentData.getClassOf():null},gp.prototype.newArrayOfThisClass=function(e){for(var t=this,_=0;_<e.length;_++)t=t.getArrayOf();return Tl(t,e)};var Op=new gp;Op.ancestors={O:1},Op.arrayEncodedName="Ljava.lang.Object;",Op.isAssignableFromFun=e=>!e.isPrimitive,Op.name="java.lang.Object",Op.isInstance=e=>null!==e,Op._arrayOf=(new gp).initSpecializedArray(Op,op,void 0,(e=>{var t=e.arrayDepth;return 1===t?!e.arrayBase.isPrimitive:t>1})),ip.prototype.$classData=Op;var Cp=(new gp).initPrim(void 0,"V","void",void 0,void 0),Tp=(new gp).initPrim(!1,"Z","boolean",lp,void 0),Ap=(new gp).initPrim(0,"C","char",pp,Uint16Array),Rp=(new gp).initPrim(0,"B","byte",up,Int8Array),Dp=(new gp).initPrim(0,"S","short",fp,Int16Array),Ep=(new gp).initPrim(0,"I","int",hp,Int32Array),Bp=(new gp).initPrim(null,"J","long",dp,void 0),Vp=(new gp).initPrim(0,"F","float",mp,Float32Array),qp=(new gp).initPrim(0,"D","double",yp,Float64Array);function Hp(){}function Pp(){}function jp(e){return e instanceof Hp||null===e?e:Sl(e,"cfx70.cfpl.core.BGeometry")}function Fp(e,t,_){return t.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_).normalize__Lcfx70_vecquat_Vec()}function zp(e,t,_){return t.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_).normalize__Lcfx70_vecquat_Vec()}function kp(){this.Lcfx70_cfpl_core_BGeometry$__f_segments=0,this.Lcfx70_cfpl_core_BGeometry$__f_segments=24}Hp.prototype=new sp,Hp.prototype.constructor=Hp,Pp.prototype=Hp.prototype,Hp.prototype.getGeometry__Lcfx70_threejsfacade_THREE$BufferGeometry=function(){var e=new Dr,t=pm(),_=this.pts__sc_Seq(),r=new k$((e=>{var t=ff(e);return Jp().vec2vec3__Lcfx70_vecquat_Vec__Lcfx70_threejsfacade_THREE$Vector3(t)})),a=fw(),n=Uh(_.map__F1__scg_CanBuildFrom__O(r,a.scg_GenTraversableFactory__f_ReusableCBFInstance));return e.setFromPoints(t.toJSArray$extension__sc_GenTraversableOnce__sjs_js_Array(n))},Hp.prototype.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry=function(){var e=new Dr,t=Float32Array,_=this.pts__sc_Seq(),r=new k$((e=>{var t=ff(e),_=Float32Array,r=fw(),a=[Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))),Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)))],n=cO(r.apply__sc_Seq__sc_GenTraversable(bV(new IV,a)));return new hR(_.from(new(xb())(n)))})),a=fw(),n=cO(_.flatMap__F1__scg_CanBuildFrom__O(r,a.scg_GenTraversableFactory__f_ReusableCBFInstance)),i=t.from(new(xb())(n)),s=Float32Array,o=this.normals__sc_Seq(),c=new k$((e=>{var t=ff(e),_=Float32Array,r=fw(),a=[Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))),Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Math.fround(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)))],n=cO(r.apply__sc_Seq__sc_GenTraversable(bV(new IV,a)));return new hR(_.from(new(xb())(n)))})),l=fw(),p=cO(o.flatMap__F1__scg_CanBuildFrom__O(c,l.scg_GenTraversableFactory__f_ReusableCBFInstance)),u=s.from(new(xb())(p));if(Ky(new hR(i))!==Ky(new hR(u))){var f=Ky(new hR(i)),h=new hR(u);throw Bv(new Vv,"position size ("+f+") and normals size ("+Ky(h)+") not equal")}return e.setAttribute("position",new br(i,3)),e.setAttribute("normal",new br(u,3)),e},kp.prototype=new sp,kp.prototype.constructor=kp,kp.prototype,kp.prototype.rectPts__D__D__Lcfx70_vecquat_Vec__sc_Seq=function(e,t,_){var r=fw(),a=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+e/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+t/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],n=bV(new IV,a),i=pf(new uf,n),s=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-e/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+t/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],o=bV(new IV,s),c=pf(new uf,o),l=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-e/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-t/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],p=bV(new IV,l),u=pf(new uf,p),f=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+e/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-t/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],h=bV(new IV,f),d=pf(new uf,h),m=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+e/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+t/2,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],y=bV(new IV,m),g=[i,c,u,d,pf(new uf,y)];return wR(r.apply__sc_Seq__sc_GenTraversable(bV(new IV,g)))},kp.prototype.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq=function(e,t,_,r){var a=(r-_)/this.Lcfx70_cfpl_core_BGeometry$__f_segments,n=this.Lcfx70_cfpl_core_BGeometry$__f_segments,i=n<0;if(i)var s=0;else{var o=n>>31,c=1+n|0,l=0===c?1+o|0:o;s=(0===l?(-2147483648^c)>-1:l>0)?-1:c}IO(),IO(),oA();var p=new IM;if(s<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,n,1,!0),!i)for(var u=0;;){var f=_+a*u,h=_+a*u,d=[np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+e*np(Math.cos(f)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+e*np(Math.sin(h)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],m=bV(new IV,d),y=pf(new uf,m);if(p.$plus$eq__O__sci_VectorBuilder(y),u===n)break;u=1+u|0}return p.result__sci_Vector()},kp.prototype.shell__sc_Seq__sc_Seq__sc_Seq=function(e,t){if(e.length__I()!==t.length__I())throw Bv(new Vv,"Seqs incompartible");var _=-1+e.length__I()|0,r=_<=0;if(r)var a=0;else{var n=_>>31;a=(0===n?(-2147483648^_)>-1:n>0)?-1:_}var i=-1+_|0;IO(),IO(),oA();var s=new IM;if(a<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,_,1,!1),!r)for(var o=0;;){var c=o,l=fw(),p=[ff(e.apply__I__O(c)),ff(e.apply__I__O(1+c|0)),ff(t.apply__I__O(c)),ff(e.apply__I__O(1+c|0)),ff(t.apply__I__O(1+c|0)),ff(t.apply__I__O(c))],u=wR(l.apply__sc_Seq__sc_GenTraversable(bV(new IV,p)));if(s.$plus$eq__O__sci_VectorBuilder(u),o===i)break;o=1+o|0}var f=s.result__sci_Vector();oA();for(var h=new IM,d=f.iterator__sci_VectorIterator();d.sci_VectorIterator__f__hasNext;)LM(gg(h,Uh(d.next__O()).seq__sc_TraversableOnce()));return h.result__sci_Vector()},kp.prototype.shellNormals__sc_Seq__sc_Seq__sc_Seq=function(e,t){if(e.length__I()!==t.length__I())throw Bv(new Vv,"Seqs incompartible");var _=-1+e.length__I()|0,r=_<=0;if(r)var a=0;else{var n=_>>31;a=(0===n?(-2147483648^_)>-1:n>0)?-1:_}var i=-1+_|0;IO(),IO(),oA();var s=new IM;if(a<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,_,1,!1),!r)for(var o=0;;){var c=o,l=fw(),p=[Fp(0,ff(e.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(c))),ff(t.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(c)))),Fp(0,ff(t.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+c|0))),ff(e.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+c|0)))),Fp(0,ff(e.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(c))),ff(t.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(c)))),Fp(0,ff(t.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+c|0))),ff(e.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+c|0)))),Fp(0,ff(t.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1+c|0))),ff(e.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1+c|0)))),Fp(0,ff(e.apply__I__O(c)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(c))),ff(t.apply__I__O(1+c|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(c))))],u=wR(l.apply__sc_Seq__sc_GenTraversable(bV(new IV,p)));if(s.$plus$eq__O__sci_VectorBuilder(u),o===i)break;o=1+o|0}var f=s.result__sci_Vector();oA();for(var h=new IM,d=f.iterator__sci_VectorIterator();d.sci_VectorIterator__f__hasNext;)LM(gg(h,Uh(d.next__O()).seq__sc_TraversableOnce()));return h.result__sci_Vector()},kp.prototype.fan__sc_Seq__sc_Seq__sc_Seq=function(e,t){if(0!==Hl(-1+t.length__I()|0,-1+e.length__I()|0))throw Bv(new Vv,"Seqs incompartible");var _=ql(-1+t.length__I()|0,-1+e.length__I()|0),r=-1+e.length__I()|0,a=r<=0;if(a)var n=0;else{var i=r>>31;n=(0===i?(-2147483648^r)>-1:i>0)?-1:r}var s=-1+r|0;IO(),IO(),oA();var o=new IM;if(n<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,r,1,!1),!a)for(var c=0;;){var l=c,p=Math.imul(l,_),u=Math.imul(1+l|0,_),f=dE(new mE,p,u,1),h=new k$(((e,t,_)=>r=>{var a=_p(r),n=fw(),i=[ff(e.apply__I__O(t)),ff(_.apply__I__O(1+a|0)),ff(_.apply__I__O(a))];return wR(n.apply__sc_Seq__sc_GenTraversable(bV(new IV,i)))})(e,l,t)),d=kR(dw(f,h,IO().scg_GenTraversableFactory__f_ReusableCBFInstance)),m=d.companion__scg_GenericCompanion().newBuilder__scm_Builder();d.seq__sc_TraversableOnce().foreach__F1__V(new k$((e=>t=>A$(e.$plus$plus$eq__sc_TraversableOnce__scg_Growable(Uh(t).seq__sc_TraversableOnce())))(m)));var y=Lw(iM(m.result__O())),g=fw(),v=[ff(e.apply__I__O(l)),ff(e.apply__I__O(1+l|0)),ff(t.apply__I__O(Math.imul(l,_)+_|0))],$=g.apply__sc_Seq__sc_GenTraversable(bV(new IV,v)),x=IO(),b=kR(y.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O($,x.scg_GenTraversableFactory__f_ReusableCBFInstance));if(o.$plus$eq__O__sci_VectorBuilder(b),c===s)break;c=1+c|0}var I=o.result__sci_Vector();oA();for(var L=new IM,S=I.iterator__sci_VectorIterator();S.sci_VectorIterator__f__hasNext;)LM(gg(L,Uh(S.next__O()).seq__sc_TraversableOnce()));return L.result__sci_Vector()},kp.prototype.fanNormals__sc_Seq__sc_Seq__sc_Seq=function(e,t){if(0!==Hl(-1+t.length__I()|0,-1+e.length__I()|0))throw Bv(new Vv,"Seqs incompartible");var _=ql(-1+t.length__I()|0,-1+e.length__I()|0),r=-1+e.length__I()|0,a=r<=0;if(a)var n=0;else{var i=r>>31;n=(0===i?(-2147483648^r)>-1:i>0)?-1:r}var s=-1+r|0;IO(),IO(),oA();var o=new IM;if(n<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,r,1,!1),!a)for(var c=0;;){var l=c,p=Math.imul(l,_),u=Math.imul(1+l|0,_),f=dE(new mE,p,u,1),h=new k$(((e,t,_)=>r=>{var a=_p(r),n=fw(),i=[zp(0,ff(e.apply__I__O(1+a|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(_))),ff(e.apply__I__O(a)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(_)))),zp(0,ff(e.apply__I__O(a)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+a|0))),ff(t.apply__I__O(_)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+a|0)))),zp(0,ff(t.apply__I__O(_)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(a))),ff(e.apply__I__O(1+a|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(a))))];return wR(n.apply__sc_Seq__sc_GenTraversable(bV(new IV,i)))})(t,e,l)),d=kR(dw(f,h,IO().scg_GenTraversableFactory__f_ReusableCBFInstance)),m=d.companion__scg_GenericCompanion().newBuilder__scm_Builder();d.seq__sc_TraversableOnce().foreach__F1__V(new k$((e=>t=>A$(e.$plus$plus$eq__sc_TraversableOnce__scg_Growable(Uh(t).seq__sc_TraversableOnce())))(m)));var y=Lw(iM(m.result__O())),g=fw(),v=[zp(0,ff(e.apply__I__O(1+l|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(l))),ff(t.apply__I__O(Math.imul(l,_)+_|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(l)))),zp(0,ff(t.apply__I__O(Math.imul(l,_)+_|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+l|0))),ff(e.apply__I__O(l)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1+l|0)))),zp(0,ff(e.apply__I__O(l)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(Math.imul(l,_)+_|0))),ff(e.apply__I__O(1+l|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(Math.imul(l,_)+_|0))))],$=g.apply__sc_Seq__sc_GenTraversable(bV(new IV,v)),x=IO(),b=kR(y.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O($,x.scg_GenTraversableFactory__f_ReusableCBFInstance));if(o.$plus$eq__O__sci_VectorBuilder(b),c===s)break;c=1+c|0}var I=o.result__sci_Vector();oA();for(var L=new IM,S=I.iterator__sci_VectorIterator();S.sci_VectorIterator__f__hasNext;)LM(gg(L,Uh(S.next__O()).seq__sc_TraversableOnce()));return L.result__sci_Vector()};var Gp,Np=(new gp).initClass({Lcfx70_cfpl_core_BGeometry$:0},!1,"cfx70.cfpl.core.BGeometry$",{Lcfx70_cfpl_core_BGeometry$:1,O:1});function Wp(){return Gp||(Gp=new kp),Gp}function Up(){this.Lcfx70_cfpl_core_CommonHelpers$__f_$=null,Zp=this,this.Lcfx70_cfpl_core_CommonHelpers$__f_$=($v||($v=new vv),$v)}kp.prototype.$classData=Np,Up.prototype=new sp,Up.prototype.constructor=Up,Up.prototype,Up.prototype.vec2vec3__Lcfx70_vecquat_Vec__Lcfx70_threejsfacade_THREE$Vector3=function(e){return new r_(np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)))},Up.prototype.vec3Vec__Lcfx70_threejsfacade_THREE$Vector3__Lcfx70_vecquat_Vec=function(e){var t=[np(e.x),np(e.y),np(e.z)],_=bV(new IV,t);return pf(new uf,_)};var Zp,Xp=(new gp).initClass({Lcfx70_cfpl_core_CommonHelpers$:0},!1,"cfx70.cfpl.core.CommonHelpers$",{Lcfx70_cfpl_core_CommonHelpers$:1,O:1});function Jp(){return Zp||(Zp=new Up),Zp}function Yp(){this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale=0,this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx=null,Qp=this,this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale=1,this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx=null;var e=bV(new IV,[0,0]);pf(new uf,e)}Up.prototype.$classData=Xp,Yp.prototype=new sp,Yp.prototype.constructor=Yp,Yp.prototype,Yp.prototype.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$=function(e,t){return this.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),t.foreach__F1__V(new k$((e=>{var t=ff(e);return eu().L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))}))),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.closePath(),this},Yp.prototype.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$=function(e,t){this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.moveTo(e*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,t*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale);var _=[e*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,t*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale],r=bV(new IV,_);return pf(new uf,r),this},Yp.prototype.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$=function(e,t){this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.lineTo(e*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,t*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale);var _=[e*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,t*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale],r=bV(new IV,_);return pf(new uf,r),this},Yp.prototype.line__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_cfpl_core_Helpers2d$RichContext$=function(e,t){return this.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),this.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))},Yp.prototype.translateS__D__D__V=function(e,t){this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.translate(e*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,t*this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale)},Yp.prototype.measureText__T__Lcfx70_cfpl_core_Helpers2d$MTextMetrics=function(e){return this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.measureText(e)},Yp.prototype.textMetrics__T__T4=function(e){var t=this.measureText__T__Lcfx70_cfpl_core_Helpers2d$MTextMetrics(e);return new eM(np(t.actualBoundingBoxLeft),np(t.actualBoundingBoxRight),np(t.actualBoundingBoxAscent),np(t.actualBoundingBoxDescent))},Yp.prototype.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V=function(e,t,_,r,a){var n=this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.getTransform(),i=np(n.a)<0?-1:1,s=np(n.d)<0?-1:1;this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.save();var o=this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx,c=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(null===c?null===r:c.equals__O__Z(r))var l="bottom";else{var p=rx().Lcfx70_cfpl_core_Side$__f_MIDDLE;if(null===p?null===r:p.equals__O__Z(r))l="middle";else{var u=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(!(null===u?null===r:u.equals__O__Z(r)))throw new yI(r);l="top"}}o.textBaseline=l;var f=this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx,h=rx().Lcfx70_cfpl_core_Side$__f_LEFT;if(null===h?null===_:h.equals__O__Z(_))var d="left";else{var m=rx().Lcfx70_cfpl_core_Side$__f_CENTER;if(null===m?null===_:m.equals__O__Z(_))d="center";else{var y=rx().Lcfx70_cfpl_core_Side$__f_RIGHT;if(!(null===y?null===_:y.equals__O__Z(_)))throw new yI(_);d="right"}}f.textAlign=d,eu().translateS__D__D__V(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.rotate(a),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.scale(i,s),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.beginPath(),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillStyle="#fff";var g=eu().textMetrics__T__T4(e);if(null===g)throw new yI(g);var v=np(g.T4__f__1),$=np(g.T4__f__2),x=np(g.T4__f__3),b=np(g.T4__f__4);this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillRect(-(v+1),-(x+1),$+v+2,x+b+2),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.beginPath(),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillStyle="#000",this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillText(e,0,0),this.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.restore()};var Qp,Kp=(new gp).initClass({Lcfx70_cfpl_core_Helpers2d$RichContext$:0},!1,"cfx70.cfpl.core.Helpers2d$RichContext$",{Lcfx70_cfpl_core_Helpers2d$RichContext$:1,O:1});function eu(){return Qp||(Qp=new Yp),Qp}function tu(){}Yp.prototype.$classData=Kp,tu.prototype=new sp,tu.prototype.constructor=tu,tu.prototype,tu.prototype.set3dRenderer__T__T5=function(e){var t=document.querySelector(e),_=new Qi((Jp(),{canvas:t})),r=new ts;r.background=new Nt(15987706);var a=new na(75,1.3333333333333333,.1,2e3),n=new qc(16777215,.6),i=new qc(16777215,.5);r.add(n),r.add(i);var s=new xl(a,_.domElement);return s.addEventListener("change",(e=>{au().cfx70$cfpl$core$Helpers3d$$$anonfun$set3dRenderer$1__Lorg_scalajs_dom_Event__Lcfx70_threejsfacade_THREE$DirectionalLight__Lcfx70_threejsfacade_THREE$PerspectiveCamera__Lcfx70_threejsfacade_THREE$WebGLRenderer__Lcfx70_threejsfacade_THREE$Scene__V(e,n,a,_,r)})),new _M(_,r,a,n,s)},tu.prototype.cfx70$cfpl$core$Helpers3d$$$anonfun$set3dRenderer$1__Lorg_scalajs_dom_Event__Lcfx70_threejsfacade_THREE$DirectionalLight__Lcfx70_threejsfacade_THREE$PerspectiveCamera__Lcfx70_threejsfacade_THREE$WebGLRenderer__Lcfx70_threejsfacade_THREE$Scene__V=function(e,t,_,r,a){t.position.set(np(_.position.x),np(_.position.y),np(_.position.z)),r.render(a,_)};var _u,ru=(new gp).initClass({Lcfx70_cfpl_core_Helpers3d$:0},!1,"cfx70.cfpl.core.Helpers3d$",{Lcfx70_cfpl_core_Helpers3d$:1,O:1});function au(){return _u||(_u=new tu),_u}function nu(){}function iu(){}function su(){this.Lcfx70_cfpl_core_Model$__f_phongBlueMaterial=null,ou=this;var e=Jo;Jp();var t=new e({color:13156327,side:(Ju||(Ju=new Xu),Ju).Lcfx70_threejsfacade_THREE$__f_DoubleSide});this.Lcfx70_cfpl_core_Model$__f_phongBlueMaterial=t}tu.prototype.$classData=ru,nu.prototype=new sp,nu.prototype.constructor=nu,iu.prototype=nu.prototype,nu.prototype.whdsize__Lcfx70_vecquat_Vec=function(){return Jp().vec3Vec__Lcfx70_threejsfacade_THREE$Vector3__Lcfx70_vecquat_Vec((new i_).setFromObject(this.meshes__Lcfx70_threejsfacade_THREE$Object3D()).getSize(new r_))},nu.prototype.bsphere__Lcfx70_threejsfacade_THREE$Sphere=function(){return(new i_).setFromObject(this.meshes__Lcfx70_threejsfacade_THREE$Object3D()).getBoundingSphere(new S_)},nu.prototype.dispose__V=function(){for(var e=this.meshes__Lcfx70_threejsfacade_THREE$Object3D().children,t=0,_=_p(e.length);t<_;){var r=e[t];if(!Ql(r instanceof Yr))throw new yI(r);r.geometry.dispose(),t=1+t|0}},su.prototype=new sp,su.prototype.constructor=su,su.prototype;var ou,cu=(new gp).initClass({Lcfx70_cfpl_core_Model$:0},!1,"cfx70.cfpl.core.Model$",{Lcfx70_cfpl_core_Model$:1,O:1});function lu(){return ou||(ou=new su),ou}function pu(e,t,_){var r=new k$((e=>{var r=ff(e);return(of||(of=new sf),of).rotate__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(r,t,_)})),a=e.bpts__sc_Seq(),n=new k$((e=>{var t=ff(e);return ff(r.apply__O__O(t))})),i=fw();e.bpts_$eq__sc_Seq__V(wR(a.map__F1__scg_CanBuildFrom__O(n,i.scg_GenTraversableFactory__f_ReusableCBFInstance)));var s=e.tpts__sc_Seq(),o=new k$((e=>{var t=ff(e);return ff(r.apply__O__O(t))})),c=fw();return e.tpts_$eq__sc_Seq__V(wR(s.map__F1__scg_CanBuildFrom__O(o,c.scg_GenTraversableFactory__f_ReusableCBFInstance))),e}function uu(e,t){var _=new k$((e=>ff(e).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(t))),r=e.bpts__sc_Seq(),a=new k$((e=>{var t=ff(e);return ff(_.apply__O__O(t))})),n=fw();e.bpts_$eq__sc_Seq__V(wR(r.map__F1__scg_CanBuildFrom__O(a,n.scg_GenTraversableFactory__f_ReusableCBFInstance)));var i=e.tpts__sc_Seq(),s=new k$((e=>{var t=ff(e);return ff(_.apply__O__O(t))})),o=fw();return e.tpts_$eq__sc_Seq__V(wR(i.map__F1__scg_CanBuildFrom__O(s,o.scg_GenTraversableFactory__f_ReusableCBFInstance))),e}function fu(){}su.prototype.$classData=cu,fu.prototype=new sp,fu.prototype.constructor=fu,fu.prototype,fu.prototype.apply__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_cfpl_core_Plane3=function(e,t,_){var r=rf(),a=[np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),1,np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),1,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),1],n=r.apply__I__sc_Seq__Lcfx70_vecquat_Mat(3,bV(new IV,a)).det__D(),i=rf(),s=[np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),1,np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),1,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),1],o=i.apply__I__sc_Seq__Lcfx70_vecquat_Mat(3,bV(new IV,s)).det__D(),c=rf(),l=[np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),1,np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),1,np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),1],p=c.apply__I__sc_Seq__Lcfx70_vecquat_Mat(3,bV(new IV,l)).det__D(),u=rf(),f=[np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],h=u.apply__I__sc_Seq__Lcfx70_vecquat_Mat(3,bV(new IV,f)).det__D();return this.apply__D__D__D__D__Lcfx70_cfpl_core_Plane3(n,o,p,h)},fu.prototype.apply__D__D__D__D__Lcfx70_cfpl_core_Plane3=function(e,t,_,r){var a=[e,t,_],n=bV(new IV,a),i=pf(new uf,n),s=i.normalize__Lcfx70_vecquat_Vec(),o=i.norm__D();return new Mm(s,-r/np(Math.sqrt(o)))};var hu,du=(new gp).initClass({Lcfx70_cfpl_core_Plane3$:0},!1,"cfx70.cfpl.core.Plane3$",{Lcfx70_cfpl_core_Plane3$:1,O:1});function mu(e,t){var _=new Dr,r=pm(),a=e.pts__sc_Seq(),n=new k$((e=>{var t=ff(e);return Jp().vec2vec3__Lcfx70_vecquat_Vec__Lcfx70_threejsfacade_THREE$Vector3(t)})),i=fw(),s=Uh(a.map__F1__scg_CanBuildFrom__O(n,i.scg_GenTraversableFactory__f_ReusableCBFInstance)),o=_.setFromPoints(r.toJSArray$extension__sc_GenTraversableOnce__sjs_js_Array(s)),c=new As;return c.color=new Nt(t),new qs(o,c)}function yu(){this.Lcfx70_cfpl_draft_DetApp$__f_descr=null,this.Lcfx70_cfpl_draft_DetApp$__f_ctxDraft=null,this.Lcfx70_cfpl_draft_DetApp$__f_ctxDev=null,this.Lcfx70_cfpl_draft_DetApp$__f_x$1=null,this.Lcfx70_cfpl_draft_DetApp$__f_renderer=null,this.Lcfx70_cfpl_draft_DetApp$__f_scene=null,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d=null,this.Lcfx70_cfpl_draft_DetApp$__f_light=null,this.Lcfx70_cfpl_draft_DetApp$__f_controls=null,this.Lcfx70_cfpl_draft_DetApp$__f_model=null,this.Lcfx70_cfpl_draft_DetApp$__f_animation=!1,gu=this,this.Lcfx70_cfpl_draft_DetApp$__f_descr=document.querySelector("#descr");var e=document.querySelector("#canvasdraft");this.Lcfx70_cfpl_draft_DetApp$__f_ctxDraft=e.getContext("2d"),this.Lcfx70_cfpl_draft_DetApp$__f_ctxDraft.font="italic 2.1em sans-serif";var t=document.querySelector("#canvasdev");this.Lcfx70_cfpl_draft_DetApp$__f_ctxDev=t.getContext("2d"),this.Lcfx70_cfpl_draft_DetApp$__f_ctxDev.font="italic 2.1em sans-serif";var _=au().set3dRenderer__T__T5("#canvas3d");if(null===_)throw new yI(_);var r=_.T5__f__1,a=_.T5__f__2,n=_.T5__f__3,i=_.T5__f__4,s=_.T5__f__5;this.Lcfx70_cfpl_draft_DetApp$__f_x$1=new _M(r,a,n,i,s),this.Lcfx70_cfpl_draft_DetApp$__f_renderer=this.Lcfx70_cfpl_draft_DetApp$__f_x$1.T5__f__1,this.Lcfx70_cfpl_draft_DetApp$__f_scene=this.Lcfx70_cfpl_draft_DetApp$__f_x$1.T5__f__2,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d=this.Lcfx70_cfpl_draft_DetApp$__f_x$1.T5__f__3,this.Lcfx70_cfpl_draft_DetApp$__f_light=this.Lcfx70_cfpl_draft_DetApp$__f_x$1.T5__f__4,this.Lcfx70_cfpl_draft_DetApp$__f_controls=this.Lcfx70_cfpl_draft_DetApp$__f_x$1.T5__f__5,this.Lcfx70_cfpl_draft_DetApp$__f_model=null,this.Lcfx70_cfpl_draft_DetApp$__f_animation=!0}fu.prototype.$classData=du,yu.prototype=new sp,yu.prototype.constructor=yu,yu.prototype,yu.prototype.setRedRR__D__D__D__D__D__D__D__D__D__V=function(e,t,_,r,a,n,i,s,o){this.setModel__Lcfx70_cfpl_core_Model__V(new Em(e,t,_,r,i,a-e/2+_/2,t/2-n-r/2,s,o))},yu.prototype.setRedRC__D__D__D__D__D__D__D__D__V=function(e,t,_,r,a,n,i,s){this.setModel__Lcfx70_cfpl_core_Model__V(new Am(e,t,_,n,r-e/2,a-t/2,i,s))},yu.prototype.setRedCC__D__D__D__D__D__D__V=function(e,t,_,r,a,n){this.setModel__Lcfx70_cfpl_core_Model__V(new Om(e,t,_,r,a,n))},yu.prototype.setBrunchCC__D__D__D__D__D__D__D__D__D__D__D__D__D__V=function(e,t,_,r,a,n,i,s,o,c,l,p,u){this.setModel__Lcfx70_cfpl_core_Model__V(new Lm(e,t,_,r,a,n,i,s,o,c,l,p,u))},yu.prototype.testCone__V=function(){var e=new pl(100),t=new hS(70,50,0,6.283185307179586),_=Lb(new Sb,40,20,40,5,6.283185307179586),r=bV(new IV,[0,1,0]),a=pu(_,.7853981633974483,pf(new uf,r)),n=bV(new IV,[18,0,15]),i=wb(uu(a,pf(new uf,n))).cut__Lcfx70_cfpl_core_LineIntersectable__Lcfx70_cfpl_core_BCone(t),s=i.getGeometry__Lcfx70_threejsfacade_THREE$BufferGeometry(),o=new vr;o.color=new Nt(16746751);var c=new Yr(s,o);s.computeBoundingBox();var l=s.boundingBox,p=new ll(l,new Nt(8947712));this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(e),this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(mu(t,16729088)),this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(mu(i,34884)),this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(p),this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(c),this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.z=300,this.Lcfx70_cfpl_draft_DetApp$__f_controls.update(),this.Lcfx70_cfpl_draft_DetApp$__f_renderer.render(this.Lcfx70_cfpl_draft_DetApp$__f_scene,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d)},yu.prototype.setAnimation__Z__V=function(e){this.Lcfx70_cfpl_draft_DetApp$__f_animation=e,this.animate__D__V(0)},yu.prototype.updateScene__V=function(){this.Lcfx70_cfpl_draft_DetApp$__f_renderer.render(this.Lcfx70_cfpl_draft_DetApp$__f_scene,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d)},yu.prototype.show3d__V=function(){var e=this.Lcfx70_cfpl_draft_DetApp$__f_model;if(null!==e){var t=e.bsphere__Lcfx70_threejsfacade_THREE$Sphere(),_=this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position,r=np(t.radius),a=np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.fov)/2/180*3.141592653589793;_.z=r/np(Math.tan(a)),this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.x=-np(t.radius),this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.y=np(t.radius),this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.rotation.x=-.5235987755982988,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.updateProjectionMatrix(),this.Lcfx70_cfpl_draft_DetApp$__f_scene.add(this.Lcfx70_cfpl_draft_DetApp$__f_model.meshes__Lcfx70_threejsfacade_THREE$Object3D()),this.Lcfx70_cfpl_draft_DetApp$__f_controls.update(),this.Lcfx70_cfpl_draft_DetApp$__f_light.position.set(np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.x),np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.y),np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.z)),this.animate__D__V(0)}else if(null!==e)throw new yI(e)},yu.prototype.setModel__Lcfx70_cfpl_core_Model__V=function(e){null!==this.Lcfx70_cfpl_draft_DetApp$__f_model&&(this.Lcfx70_cfpl_draft_DetApp$__f_scene.remove(this.Lcfx70_cfpl_draft_DetApp$__f_model.meshes__Lcfx70_threejsfacade_THREE$Object3D()),this.Lcfx70_cfpl_draft_DetApp$__f_model.dispose__V()),this.Lcfx70_cfpl_draft_DetApp$__f_model=e,this.Lcfx70_cfpl_draft_DetApp$__f_descr.innerHTML=this.Lcfx70_cfpl_draft_DetApp$__f_model.description__T__T("ru"),this.show3d__V();var t,_=ku().apply__Lcfx70_cfpl_core_Model__s_Option(this.Lcfx70_cfpl_draft_DetApp$__f_model);if(_ instanceof GS)((t=NS(_).s_Some__f_value)instanceof Hu||null===t?t:Sl(t,"cfx70.cfpl.draft.Draft")).draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.Lcfx70_cfpl_draft_DetApp$__f_ctxDraft);else if(kS()!==_)throw new yI(_);var r=wu().apply__Lcfx70_cfpl_core_Model__s_Option(this.Lcfx70_cfpl_draft_DetApp$__f_model);if(r instanceof GS){var a=function(e){return e instanceof bu||null===e?e:Sl(e,"cfx70.cfpl.draft.Dev")}(NS(r).s_Some__f_value);a.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.Lcfx70_cfpl_draft_DetApp$__f_ctxDev)}else if(kS()!==r)throw new yI(r);var n=(Uu||(Uu=new Wu),Uu).apply__Lcfx70_cfpl_core_Model__Lorg_scalajs_dom_HTMLTableElement__s_Option(this.Lcfx70_cfpl_draft_DetApp$__f_model,document.querySelector("#mattbl"));if(n instanceof GS){var i=function(e){return e instanceof _y||null===e?e:Sl(e,"cfx70.cfpl.draft.RedRRMats")}(NS(n).s_Some__f_value);i.writeMats__V()}else if(kS()!==n)throw new yI(n)},yu.prototype.animate__D__V=function(e){this.Lcfx70_cfpl_draft_DetApp$__f_animation&&_p(window.requestAnimationFrame((e=>{var t=np(e);$u(),$u().animate__D__V(t)}))),this.Lcfx70_cfpl_draft_DetApp$__f_controls.update(),this.Lcfx70_cfpl_draft_DetApp$__f_light.position.set(np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.x),np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.y),np(this.Lcfx70_cfpl_draft_DetApp$__f_camera3d.position.z)),this.Lcfx70_cfpl_draft_DetApp$__f_renderer.render(this.Lcfx70_cfpl_draft_DetApp$__f_scene,this.Lcfx70_cfpl_draft_DetApp$__f_camera3d)},yu.prototype.$js$exported$meth$setRedRR__D__D__D__D__D__D__D__D__D__O=function(e,t,_,r,a,n,i,s,o){this.setRedRR__D__D__D__D__D__D__D__D__D__V(e,t,_,r,a,n,i,s,o)},yu.prototype.$js$exported$meth$setRedRC__D__D__D__D__D__D__D__D__O=function(e,t,_,r,a,n,i,s){this.setRedRC__D__D__D__D__D__D__D__D__V(e,t,_,r,a,n,i,s)},yu.prototype.$js$exported$meth$setRedRC$default$7__D=function(){return 30},yu.prototype.$js$exported$meth$setRedRC$default$8__D=function(){return 40},yu.prototype.$js$exported$meth$setRedCC__D__D__D__D__D__D__O=function(e,t,_,r,a,n){this.setRedCC__D__D__D__D__D__D__V(e,t,_,r,a,n)},yu.prototype.$js$exported$meth$setRedCC$default$5__D=function(){return 40},yu.prototype.$js$exported$meth$setRedCC$default$6__D=function(){return 40},yu.prototype.$js$exported$meth$setBrunchCC__D__D__D__D__D__D__D__D__D__D__D__D__D__O=function(e,t,_,r,a,n,i,s,o,c,l,p,u){this.setBrunchCC__D__D__D__D__D__D__D__D__D__D__D__D__D__V(e,t,_,r,a,n,i,s,o,c,l,p,u)},yu.prototype.$js$exported$meth$testCone__O=function(){this.testCone__V()},yu.prototype.$js$exported$meth$setAnimation__Z__O=function(e){this.setAnimation__Z__V(e)},yu.prototype.$js$exported$meth$updateScene__O=function(){this.updateScene__V()},yu.prototype.updateScene=function(){return this.$js$exported$meth$updateScene__O()},yu.prototype.setAnimation=function(e){var t=Ql(e);return this.$js$exported$meth$setAnimation__Z__O(t)},yu.prototype.testCone=function(){return this.$js$exported$meth$testCone__O()},yu.prototype.setBrunchCC=function(e,t,_,r,a,n,i,s,o,c,l,p,u){var f=np(e),h=np(t),d=np(_),m=np(r),y=np(a),g=np(n),v=np(i),$=np(s),x=np(o),b=np(c),I=np(l),L=np(p),S=np(u);return this.$js$exported$meth$setBrunchCC__D__D__D__D__D__D__D__D__D__D__D__D__D__O(f,h,d,m,y,g,v,$,x,b,I,L,S)},yu.prototype.setRedCC=function(e,t,_,r,...a){var n=np(e),i=np(t),s=np(_),o=np(r),c=void 0===a[0]?this.$js$exported$meth$setRedCC$default$5__D():np(a[0]),l=void 0===a[1]?this.$js$exported$meth$setRedCC$default$6__D():np(a[1]);return this.$js$exported$meth$setRedCC__D__D__D__D__D__D__O(n,i,s,o,c,l)},yu.prototype.setRedRC=function(e,t,_,r,a,n,...i){var s=np(e),o=np(t),c=np(_),l=np(r),p=np(a),u=np(n),f=void 0===i[0]?this.$js$exported$meth$setRedRC$default$7__D():np(i[0]),h=void 0===i[1]?this.$js$exported$meth$setRedRC$default$8__D():np(i[1]);return this.$js$exported$meth$setRedRC__D__D__D__D__D__D__D__D__O(s,o,c,l,p,u,f,h)},yu.prototype.setRedRR=function(e,t,_,r,a,n,i,s,o){var c=np(e),l=np(t),p=np(_),u=np(r),f=np(a),h=np(n),d=np(i),m=np(s),y=np(o);return this.$js$exported$meth$setRedRR__D__D__D__D__D__D__D__D__D__O(c,l,p,u,f,h,d,m,y)};var gu,vu=(new gp).initClass({Lcfx70_cfpl_draft_DetApp$:0},!1,"cfx70.cfpl.draft.DetApp$",{Lcfx70_cfpl_draft_DetApp$:1,O:1});function $u(){return gu||(gu=new yu),gu}function xu(e,t){e.Lcfx70_cfpl_draft_Dev__f_model=t;var _=((wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-((wu().Lcfx70_cfpl_draft_Dev$__f_dimspace+wu().Lcfx70_cfpl_draft_Dev$__f_dimstep|0)<<1)|0)/np(t.whdsize__Lcfx70_vecquat_Vec().Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),r=((wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-((wu().Lcfx70_cfpl_draft_Dev$__f_dimspace+wu().Lcfx70_cfpl_draft_Dev$__f_dimstep|0)<<1)|0)/np(t.whdsize__Lcfx70_vecquat_Vec().Lcfx70_vecquat_Vec__f_crds.apply__I__O(2));return e.Lcfx70_cfpl_draft_Dev__f_mscl=np(Math.min(_,r)),e}function bu(){this.Lcfx70_cfpl_draft_Dev__f_model=null,this.Lcfx70_cfpl_draft_Dev__f_mscl=0}function Iu(){}function Lu(){this.Lcfx70_cfpl_draft_Dev$__f_lineWidth=0,this.Lcfx70_cfpl_draft_Dev$__f_thinlineWidth=0,this.Lcfx70_cfpl_draft_Dev$__f_vsz=0,this.Lcfx70_cfpl_draft_Dev$__f_hsz=0,this.Lcfx70_cfpl_draft_Dev$__f_x$1=null,this.Lcfx70_cfpl_draft_Dev$__f_dimspace=0,this.Lcfx70_cfpl_draft_Dev$__f_dimstep=0,Su=this,this.Lcfx70_cfpl_draft_Dev$__f_lineWidth=4,this.Lcfx70_cfpl_draft_Dev$__f_thinlineWidth=2,this.Lcfx70_cfpl_draft_Dev$__f_vsz=1200,this.Lcfx70_cfpl_draft_Dev$__f_hsz=1600,this.Lcfx70_cfpl_draft_Dev$__f_x$1=new sO(60,50),this.Lcfx70_cfpl_draft_Dev$__f_dimspace=this.Lcfx70_cfpl_draft_Dev$__f_x$1._1$mcI$sp__I(),this.Lcfx70_cfpl_draft_Dev$__f_dimstep=this.Lcfx70_cfpl_draft_Dev$__f_x$1._2$mcI$sp__I()}yu.prototype.$classData=vu,bu.prototype=new sp,bu.prototype.constructor=bu,Iu.prototype=bu.prototype,bu.prototype.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){e.beginPath(),e.fillStyle="#ffffff",e.fillRect(0,0,wu().Lcfx70_cfpl_draft_Dev$__f_hsz,wu().Lcfx70_cfpl_draft_Dev$__f_vsz),e.translate(wu().Lcfx70_cfpl_draft_Dev$__f_hsz/2|0,wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0),e.scale(1,-1),e.lineJoin="bevel",eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx=e,eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale=this.Lcfx70_cfpl_draft_Dev__f_mscl},Lu.prototype=new sp,Lu.prototype.constructor=Lu,Lu.prototype,Lu.prototype.apply__Lcfx70_cfpl_core_Model__s_Option=function(e){return e instanceof Em?new GS(new Qm(Bm(e))):e instanceof Am?new GS(new Zm(Rm(e))):e instanceof Om?new GS(new Gm(Cm(e),2)):kS()},Lu.prototype.dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D=function(e,t,_){if(0===_){var r=t.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(e).norm__D();return np(Math.sqrt(r))}var a=t.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(e).norm__D(),n=np(Math.sqrt(a))/_,i=Vh(),s=np(Math.round(n)),o=i.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(s),c=i.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn;return Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(o,c)*_};var Su,Mu=(new gp).initClass({Lcfx70_cfpl_draft_Dev$:0},!1,"cfx70.cfpl.draft.Dev$",{Lcfx70_cfpl_draft_Dev$:1,O:1});function wu(){return Su||(Su=new Lu),Su}function Ou(e,t){this.Lcfx70_cfpl_draft_Dev$PRad__f_p=null,this.Lcfx70_cfpl_draft_Dev$PRad__f_rad=0,this.Lcfx70_cfpl_draft_Dev$PRad__f_p=e,this.Lcfx70_cfpl_draft_Dev$PRad__f_rad=t}Lu.prototype.$classData=Mu,Ou.prototype=new sp,Ou.prototype.constructor=Ou,Ou.prototype,Ou.prototype.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec=function(e,t){var _=e.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dev$PRad__f_p).norm__D(),r=np(Math.sqrt(_));if(this.Lcfx70_cfpl_draft_Dev$PRad__f_rad+r<t||this.Lcfx70_cfpl_draft_Dev$PRad__f_rad+t<r||r+t<this.Lcfx70_cfpl_draft_Dev$PRad__f_rad){var a="not intersected "+this.Lcfx70_cfpl_draft_Dev$PRad__f_rad+" "+r+" "+t;VM(Fv().s_Console$__f_outVar.s_util_DynamicVariable__f_v).java$lang$JSConsoleBasedPrintStream$$printString__T__V(a+"\n");var n=bV(new IV,[NaN,NaN]);return pf(new uf,n)}var i=(this.Lcfx70_cfpl_draft_Dev$PRad__f_rad*this.Lcfx70_cfpl_draft_Dev$PRad__f_rad+r*r-t*t)/(2*r*this.Lcfx70_cfpl_draft_Dev$PRad__f_rad),s=(np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(this.Lcfx70_cfpl_draft_Dev$PRad__f_p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))/r,o=(np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(this.Lcfx70_cfpl_draft_Dev$PRad__f_p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))/r,c=[s,-o,o,s],l=rf().apply__I__sc_Seq__Lcfx70_vecquat_Mat(2,bV(new IV,c)),p=1-i*i,u=[i,np(Math.sqrt(p))],f=bV(new IV,u),h=pf(new uf,f);return l.$times__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(h).$times__D__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dev$PRad__f_rad).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dev$PRad__f_p)},Ou.prototype.perp__Lcfx70_vecquat_Vec=function(){var e=this.Lcfx70_cfpl_draft_Dev$PRad__f_p.normalize__Lcfx70_vecquat_Vec(),t=[np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),-np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))],_=bV(new IV,t);return pf(new uf,_).$times__D__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dev$PRad__f_rad)};var Cu=(new gp).initClass({Lcfx70_cfpl_draft_Dev$PRad:0},!1,"cfx70.cfpl.draft.Dev$PRad",{Lcfx70_cfpl_draft_Dev$PRad:1,O:1});function Tu(e,t,_,r,a,n){return e.Lcfx70_cfpl_draft_Dim__f_p1=t,e.Lcfx70_cfpl_draft_Dim__f_p2=_,e.Lcfx70_cfpl_draft_Dim__f_cln=r,e.Lcfx70_cfpl_draft_Dim__f_hint=a,e.Lcfx70_cfpl_draft_Dim__f_prec=n,e.Lcfx70_cfpl_draft_Dim__f_rscale=eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale,e}function Au(){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0}function Ru(){}function Du(){this.Lcfx70_cfpl_draft_Dim$__f_lineWidth=0,this.Lcfx70_cfpl_draft_Dim$__f_lineEnl=0,this.Lcfx70_cfpl_draft_Dim$__f_lineGap=0,this.Lcfx70_cfpl_draft_Dim$__f_tickWidth=0,this.Lcfx70_cfpl_draft_Dim$__f_tickl=0,this.Lcfx70_cfpl_draft_Dim$__f_lineWidth=1.2,this.Lcfx70_cfpl_draft_Dim$__f_lineEnl=10,this.Lcfx70_cfpl_draft_Dim$__f_lineGap=8,this.Lcfx70_cfpl_draft_Dim$__f_tickWidth=6,this.Lcfx70_cfpl_draft_Dim$__f_tickl=12}Ou.prototype.$classData=Cu,Au.prototype=new sp,Au.prototype.constructor=Au,Ru.prototype=Au.prototype,Au.prototype.bd__Z__D=function(e){return e?1:-1},Au.prototype.exoffs__Z__F1=function(e){return new k$((t=>np(t)+this.bd__Z__D(e)*Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap/this.Lcfx70_cfpl_draft_Dim__f_rscale))},Au.prototype.exenl__Z__F1=function(e){return new k$((t=>np(t)+this.bd__Z__D(e)*Vu().Lcfx70_cfpl_draft_Dim$__f_lineEnl/this.Lcfx70_cfpl_draft_Dim__f_rscale))},Au.prototype.denl__Z__D=function(e){return this.bd__Z__D(e)*Vu().Lcfx70_cfpl_draft_Dim$__f_lineEnl/this.Lcfx70_cfpl_draft_Dim__f_rscale},Au.prototype.setOffsFnc__Z__Z__T3=function(e,t){return new QS(this.exoffs__Z__F1(e),this.exenl__Z__F1(e),this.denl__Z__D(t))},Au.prototype.horPoints__sc_Seq=function(){var e=this.Lcfx70_cfpl_draft_Dim__f_cln/this.Lcfx70_cfpl_draft_Dim__f_rscale,t=this.Lcfx70_cfpl_draft_Dim__f_cln,_=np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),r=np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),a=this.Lcfx70_cfpl_draft_Dim__f_p1,n=this.setOffsFnc__Z__Z__T3(t>_,r>np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)));if(null===n)throw new yI(n);var i=Fh(n.T3__f__1),s=Fh(n.T3__f__2),o=np(n.T3__f__3),c=fw(),l=np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),p=np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),u=[l,np(i.apply__O__O(p))],f=bV(new IV,u),h=pf(new uf,f),d=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(s.apply__O__O(e))],m=bV(new IV,d),y=pf(new uf,m),g=np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),v=np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),$=[g,np(i.apply__O__O(v))],x=bV(new IV,$),b=pf(new uf,x),I=[np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(s.apply__O__O(e))],L=bV(new IV,I),S=pf(new uf,L),M=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-o,e],w=bV(new IV,M),O=pf(new uf,w),C=[np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+o,e],T=bV(new IV,C),A=pf(new uf,T),R=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,e+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],D=bV(new IV,R),E=pf(new uf,D),B=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,e-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],V=bV(new IV,B),q=pf(new uf,V),H=[np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,e+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],P=bV(new IV,H),j=pf(new uf,P),F=[np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,e-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],z=bV(new IV,F),k=pf(new uf,z),G=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+(np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))/2,(this.Lcfx70_cfpl_draft_Dim__f_cln+Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale],N=bV(new IV,G),W=pf(new uf,N),U=[np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-o,(this.Lcfx70_cfpl_draft_Dim__f_cln+Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale],Z=bV(new IV,U),X=pf(new uf,Z),J=[np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+o,(this.Lcfx70_cfpl_draft_Dim__f_cln+Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale],Y=bV(new IV,J),Q=[h,y,b,S,O,A,E,q,j,k,W,X,pf(new uf,Y)];return wR(c.apply__sc_Seq__sc_GenTraversable(bV(new IV,Q)))},Au.prototype.vertPoints__sc_Seq=function(){var e=this.Lcfx70_cfpl_draft_Dim__f_cln/this.Lcfx70_cfpl_draft_Dim__f_rscale,t=np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),_=this.Lcfx70_cfpl_draft_Dim__f_cln,r=np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),a=this.Lcfx70_cfpl_draft_Dim__f_p1,n=this.setOffsFnc__Z__Z__T3(t<_,r>np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));if(null===n)throw new yI(n);var i=Fh(n.T3__f__1),s=Fh(n.T3__f__2),o=np(n.T3__f__3),c=fw(),l=np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),p=[np(i.apply__O__O(l)),np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],u=bV(new IV,p),f=pf(new uf,u),h=[np(s.apply__O__O(e)),np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],d=bV(new IV,h),m=pf(new uf,d),y=np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),g=[np(i.apply__O__O(y)),np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],v=bV(new IV,g),$=pf(new uf,v),x=[np(s.apply__O__O(e)),np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],b=bV(new IV,x),I=pf(new uf,b),L=[e,np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-o],S=bV(new IV,L),M=pf(new uf,S),w=[e,np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+o],O=bV(new IV,w),C=pf(new uf,O),T=[e-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],A=bV(new IV,T),R=pf(new uf,A),D=[e+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],E=bV(new IV,D),B=pf(new uf,E),V=[e-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],q=bV(new IV,V),H=pf(new uf,q),P=[e+Vu().Lcfx70_cfpl_draft_Dim$__f_tickl,np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-Vu().Lcfx70_cfpl_draft_Dim$__f_tickl],j=bV(new IV,P),F=pf(new uf,j),z=[(this.Lcfx70_cfpl_draft_Dim__f_cln-Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale,np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+(np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))/2],k=bV(new IV,z),G=pf(new uf,k),N=[(this.Lcfx70_cfpl_draft_Dim__f_cln+Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale,np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-o],W=bV(new IV,N),U=pf(new uf,W),Z=[(this.Lcfx70_cfpl_draft_Dim__f_cln+Vu().Lcfx70_cfpl_draft_Dim$__f_lineGap)/this.Lcfx70_cfpl_draft_Dim__f_rscale,np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+o],X=bV(new IV,Z),J=[f,m,$,I,M,C,R,B,H,F,G,U,pf(new uf,X)];return wR(c.apply__sc_Seq__sc_GenTraversable(bV(new IV,J)))},Au.prototype.drawDim__sc_Seq__I__T__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a){a.save(),a.beginPath(),a.lineWidth=Vu().Lcfx70_cfpl_draft_Dim$__f_lineWidth,a.setLineDash([]);var n=eu(),i=ff(e.apply__I__O(0)),s=n.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),o=ff(e.apply__I__O(1));s.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(o.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(o.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var c=eu(),l=ff(e.apply__I__O(2)),p=c.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),u=ff(e.apply__I__O(3));p.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(u.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(u.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var f=eu(),h=ff(e.apply__I__O(4)),d=f.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(h.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(h.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),m=ff(e.apply__I__O(5));d.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(m.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(m.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),a.stroke(),a.beginPath(),a.lineWidth=Vu().Lcfx70_cfpl_draft_Dim$__f_tickWidth;var y=eu(),g=ff(e.apply__I__O(6)),v=y.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(g.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(g.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),$=ff(e.apply__I__O(7));v.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np($.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np($.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var x=eu(),b=ff(e.apply__I__O(8)),I=x.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(b.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(b.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),L=ff(e.apply__I__O(9));I.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(L.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(L.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),a.stroke(),a.beginPath(),a.lineWidth=Vu().Lcfx70_cfpl_draft_Dim$__f_lineWidth;var S=new bR(this.dist__T()).sci_StringOps__f_repr;if((yy||(yy=new my),yy).parseDouble__T__D(S)>99||0===t){var M=eu(),w=ff(e.apply__I__O(10)),O=rx().Lcfx70_cfpl_core_Side$__f_CENTER,C=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;M.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(_,w,O,C,r)}else if(t<0){var T=eu(),A=ff(e.apply__I__O(11)),R=rx().Lcfx70_cfpl_core_Side$__f_RIGHT,D=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;T.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(_,A,R,D,r)}else{var E=eu(),B=ff(e.apply__I__O(12)),V=rx().Lcfx70_cfpl_core_Side$__f_LEFT,q=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;E.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(_,B,V,q,r)}a.restore()},Du.prototype=new sp,Du.prototype.constructor=Du,Du.prototype,Du.prototype.hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){var i=qm(new Hm,e,t,_,r,a);i.drawDim__sc_Seq__I__T__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(i.horPoints__sc_Seq(),i.Lcfx70_cfpl_draft_Dim__f_hint,i.Lcfx70_cfpl_draft_HorDim__f_dist,0,n)},Du.prototype.horD__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){new Ov(e,t,_,r,a).draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(n)},Du.prototype.vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){var i=oy(new cy,e,t,_,r,a);i.drawDim__sc_Seq__I__T__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(i.vertPoints__sc_Seq(),i.Lcfx70_cfpl_draft_Dim__f_hint,i.Lcfx70_cfpl_draft_VertDim__f_dist,1.5707963267948966,n)},Du.prototype.vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){new Rv(e,t,_,r,a).draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(n)},Du.prototype.tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){ay(new ny,e,t,_,r,a).draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(n)},Du.prototype.ld__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a,n){new Tv(e,t,_,r,a).draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(n)};var Eu,Bu=(new gp).initClass({Lcfx70_cfpl_draft_Dim$:0},!1,"cfx70.cfpl.draft.Dim$",{Lcfx70_cfpl_draft_Dim$:1,O:1});function Vu(){return Eu||(Eu=new Du),Eu}function qu(e,t){e.Lcfx70_cfpl_draft_Draft__f_model=t;var _=((ku().Lcfx70_cfpl_draft_Draft$__f_vsz/2|0)-((ku().Lcfx70_cfpl_draft_Draft$__f_dimspace+ku().Lcfx70_cfpl_draft_Draft$__f_dimstep|0)<<1)|0)/np(t.whdsize__Lcfx70_vecquat_Vec().Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),r=((ku().Lcfx70_cfpl_draft_Draft$__f_vsz/2|0)-((ku().Lcfx70_cfpl_draft_Draft$__f_dimspace+ku().Lcfx70_cfpl_draft_Draft$__f_dimstep|0)<<1)|0)/np(t.whdsize__Lcfx70_vecquat_Vec().Lcfx70_vecquat_Vec__f_crds.apply__I__O(2));return e.Lcfx70_cfpl_draft_Draft__f_mscl=np(Math.min(_,r)),e}function Hu(){this.Lcfx70_cfpl_draft_Draft__f_model=null,this.Lcfx70_cfpl_draft_Draft__f_mscl=0}function Pu(){}function ju(){this.Lcfx70_cfpl_draft_Draft$__f_lineWidth=0,this.Lcfx70_cfpl_draft_Draft$__f_thinlineWidth=0,this.Lcfx70_cfpl_draft_Draft$__f_vsz=0,this.Lcfx70_cfpl_draft_Draft$__f_hsz=0,this.Lcfx70_cfpl_draft_Draft$__f_x$1=null,this.Lcfx70_cfpl_draft_Draft$__f_dimspace=0,this.Lcfx70_cfpl_draft_Draft$__f_dimstep=0,Fu=this,this.Lcfx70_cfpl_draft_Draft$__f_lineWidth=6,this.Lcfx70_cfpl_draft_Draft$__f_thinlineWidth=1,this.Lcfx70_cfpl_draft_Draft$__f_vsz=1200,this.Lcfx70_cfpl_draft_Draft$__f_hsz=1600,this.Lcfx70_cfpl_draft_Draft$__f_x$1=new sO(60,50),this.Lcfx70_cfpl_draft_Draft$__f_dimspace=this.Lcfx70_cfpl_draft_Draft$__f_x$1._1$mcI$sp__I(),this.Lcfx70_cfpl_draft_Draft$__f_dimstep=this.Lcfx70_cfpl_draft_Draft$__f_x$1._2$mcI$sp__I()}Du.prototype.$classData=Bu,Hu.prototype=new sp,Hu.prototype.constructor=Hu,Pu.prototype=Hu.prototype,Hu.prototype.drawVisible__Lcfx70_vecquat_Vec__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_){t.foreach__F1__V(new k$((t=>{var _=wR(t);if(_.length__I()<3)throw Bv(new Vv,"not surface");var r=ff(_.apply__I__O(2)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(_.apply__I__O(1))),a=ff(_.apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(_.apply__I__O(1))),n=r.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(a);return e.dotProd__Lcfx70_vecquat_Vec__D(n)>0?eu().polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(_.head__O()),wR(_.tail__O())):void 0})))},Hu.prototype.trianglesVisible__Lcfx70_vecquat_Vec__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_){if(t.length__I()<3)throw Bv(new Vv,"not surface");var r=t.length__I(),a=r<=2;if(a);else{var n=r>>31,i=-2+r|0,s=(-2147483648^i)<2147483646?n:-1+n|0,o=Vh(),c=(o.divideImpl__I__I__I__I__I(i,s,3,0),o.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn,r>>31),l=-2+r|0,p=(-2147483648^l)<2147483646?c:-1+c|0;Vh().remainderImpl__I__I__I__I__I(l,p,3,0)}var u=r>>31,f=-2+r|0,h=(-2147483648^f)<2147483646?u:-1+u|0,d=Vh().remainderImpl__I__I__I__I__I(f,h,3,0),m=0!==d?r-d|0:-3+r|0;if(!a)for(var y=2;;){var g=y,v=fw(),$=[ff(t.apply__I__O(-2+g|0)),ff(t.apply__I__O(-1+g|0)),ff(t.apply__I__O(g))],x=wR(v.apply__sc_Seq__sc_GenTraversable(bV(new IV,$))),b=ff(x.apply__I__O(2)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(x.apply__I__O(1))),I=ff(x.apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(x.apply__I__O(1))),L=b.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(I);if(e.dotProd__Lcfx70_vecquat_Vec__D(L)>0&&eu().polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(x.head__O()),wR(x.tail__O())),y===m)break;y=3+y|0}},Hu.prototype.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){e.beginPath(),e.fillStyle="#ffffff",e.fillRect(0,0,ku().Lcfx70_cfpl_draft_Draft$__f_hsz,ku().Lcfx70_cfpl_draft_Draft$__f_vsz),e.translate(ku().Lcfx70_cfpl_draft_Draft$__f_hsz/2|0,ku().Lcfx70_cfpl_draft_Draft$__f_vsz/2|0),e.scale(1,-1),e.lineJoin="bevel",eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx=e,eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_lscale=this.Lcfx70_cfpl_draft_Draft__f_mscl},ju.prototype=new sp,ju.prototype.constructor=ju,ju.prototype,ju.prototype.apply__Lcfx70_cfpl_core_Model__s_Option=function(e){return e instanceof Em?new GS(new ey(Bm(e))):e instanceof Am?new GS(new Jm(Rm(e))):e instanceof Om?new GS(new Wm(Cm(e))):kS()};var Fu,zu=(new gp).initClass({Lcfx70_cfpl_draft_Draft$:0},!1,"cfx70.cfpl.draft.Draft$",{Lcfx70_cfpl_draft_Draft$:1,O:1});function ku(){return Fu||(Fu=new ju),Fu}function Gu(){this.Lcfx70_cfpl_draft_Mats__f_model=null,this.Lcfx70_cfpl_draft_Mats__f_t=null}function Nu(){}function Wu(){}ju.prototype.$classData=zu,Gu.prototype=new sp,Gu.prototype.constructor=Gu,Nu.prototype=Gu.prototype,Wu.prototype=new sp,Wu.prototype.constructor=Wu,Wu.prototype,Wu.prototype.apply__Lcfx70_cfpl_core_Model__Lorg_scalajs_dom_HTMLTableElement__s_Option=function(e,t){return e instanceof Em?new GS(new _y(Bm(e),t)):kS()};var Uu,Zu=(new gp).initClass({Lcfx70_cfpl_draft_Mats$:0},!1,"cfx70.cfpl.draft.Mats$",{Lcfx70_cfpl_draft_Mats$:1,O:1});function Xu(){this.Lcfx70_threejsfacade_THREE$__f_DoubleSide=0,this.Lcfx70_threejsfacade_THREE$__f_DoubleSide=2}Wu.prototype.$classData=Zu,Xu.prototype=new sp,Xu.prototype.constructor=Xu,Xu.prototype;var Ju,Yu=(new gp).initClass({Lcfx70_threejsfacade_THREE$:0},!1,"cfx70.threejsfacade.THREE$",{Lcfx70_threejsfacade_THREE$:1,O:1});function Qu(e){this.Lcfx70_vecquat_Mat__f_a=null,this.Lcfx70_vecquat_Mat__f_a=e}Xu.prototype.$classData=Yu,Qu.prototype=new sp,Qu.prototype.constructor=Qu,Qu.prototype,Qu.prototype.toString__T=function(){for(var e=this.Lcfx70_vecquat_Mat__f_a,t=Iw(e,oA().scg_GenTraversableFactory__f_ReusableCBFInstance),_=e.iterator__sci_VectorIterator();_.sci_VectorIterator__f__hasNext;){var r=rB(_.next__O());t.$plus$eq__O__scm_Builder(_g(r,"","\t",""))}return ag(t.result__O()).mkString__T__T__T__T("\nMat(","\n    ",")")},Qu.prototype.equals__O__Z=function(e){if(e instanceof Qu){var t=(_=e)instanceof Qu||null===_?_:Sl(_,"cfx70.vecquat.Mat");return this.hashCode__I()===t.hashCode__I()}return!1;var _},Qu.prototype.hashCode__I=function(){for(var e,t=this.Lcfx70_vecquat_Mat__f_a,_=Iw(t,oA().scg_GenTraversableFactory__f_ReusableCBFInstance),r=t.iterator__sci_VectorIterator();r.sci_VectorIterator__f__hasNext;){var a=rB(r.next__O());_.$plus$eq__O__scm_Builder(Sv().seqHash__sc_Seq__I(a))}return(e=_.result__O(),function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sci_Seq)}(e)||null===e?e:Sl(e,"scala.collection.immutable.Seq")).toSeq__sci_Seq().hashCode__I()+wS("Mat")|0},Qu.prototype.$times__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e){var t=this.Lcfx70_vecquat_Mat__f_a.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var s=0;;){var o=s,c=rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(o)),l=lf(new uf,c).dotProd__Lcfx70_vecquat_Vec__D(e);if(i.$plus$eq__O__sci_VectorBuilder(l),s===n)break;s=1+s|0}var p=i.result__sci_Vector();return lf(new uf,p)},Qu.prototype.det__D=function(){var e=this.Lcfx70_vecquat_Mat__f_a.length__I();if(e!==rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).length__I())throw Bv(new Vv,"Matrix not sqware");if(0===e)throw Bv(new Vv,"Empty matrix");if(1===e)return np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(0));if(2===e)return np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(0))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(1))-np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(1))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(0));if(3===e)return np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(0))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(1))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(2))+np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(1))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(2))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(0))+np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(2))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(0))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(1))-np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(2))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(1))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(0))-np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(1))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(0))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(2))-np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(0))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(1)).apply__I__O(2))*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(2)).apply__I__O(1));var t=0;t=0;var _=0;_=-1;var r,a=-1+e|0;if(!(e<=0))for(var n=0;;){var i=n,s=rB(Hd().s_package$__f_Vector.apply__sc_Seq__sc_GenTraversable(CB())),o=e<=1;if(o)var c=0;else{var l=e>>31,p=-1+e|0,u=-1!==p?l:-1+l|0,f=bl;if(0!==f.RTLong__f_lo||0!==f.RTLong__f_hi)var h=1;else h=0;var d=h>>31,m=p+h|0,y=(-2147483648^m)<(-2147483648^p)?1+(u+d|0)|0:u+d|0;c=(0===y?(-2147483648^m)>-1:y>0)?-1:m}var g=-1+e|0;IO(),IO(),oA();var v=new IM;if(c<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(1,e,1,!1),!o)for(var $=1;;){var x=$,b=dE(new mE,0,e,1),I=new k$((e=>t=>_p(t)!==e)(i)),L=new Yy(b,I),S=new k$((e=>t=>{var _=_p(t);return np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(e)).apply__I__O(_))})(x)),M=IO(),w=kR(L.map__F1__scg_CanBuildFrom__O(S,M.scg_GenTraversableFactory__f_ReusableCBFInstance));if(v.$plus$eq__O__sci_VectorBuilder(w),$===g)break;$=1+$|0}var O=v.result__sci_Vector(),C=oA(),T=rB((r=s.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(O,C.scg_GenTraversableFactory__f_ReusableCBFInstance),function(e){return!!(e&&e.$classData&&e.$classData.ancestors.scg_GenericTraversableTemplate)}(r)||null===r?r:Sl(r,"scala.collection.generic.GenericTraversableTemplate")).flatten__F1__sc_GenTraversable(Uv().s_Predef$__f_singleton_$less$colon$less));if(t+=(_=0|-_)*np(rB(this.Lcfx70_vecquat_Mat__f_a.apply__I__O(0)).apply__I__O(i))*rf().apply__I__sc_Seq__Lcfx70_vecquat_Mat(-1+e|0,T).det__D(),n===a)break;n=1+n|0}return t};var Ku=(new gp).initClass({Lcfx70_vecquat_Mat:0},!1,"cfx70.vecquat.Mat",{Lcfx70_vecquat_Mat:1,O:1});function ef(){}Qu.prototype.$classData=Ku,ef.prototype=new sp,ef.prototype.constructor=ef,ef.prototype,ef.prototype.apply__I__sc_Seq__Lcfx70_vecquat_Mat=function(e,t){var _,r,a,n;return new Qu(rB(tg((_=t.toVector__sci_Vector(),r=e,a=e,new CI(new FI(n=_.iterator__sc_Iterator(),n,r,a),new k$((e=>{var t=wR(e),r=_.newBuilder__scm_Builder();return r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(t),r.result__O()})))),oA().scg_GenTraversableFactory__f_ReusableCBFInstance)))};var tf,_f=(new gp).initClass({Lcfx70_vecquat_Mat$:0},!1,"cfx70.vecquat.Mat$",{Lcfx70_vecquat_Mat$:1,O:1});function rf(){return tf||(tf=new ef),tf}function af(e,t){this.Lcfx70_vecquat_Quat__f_s=0,this.Lcfx70_vecquat_Quat__f_v=null,this.Lcfx70_vecquat_Quat__f_s=e,this.Lcfx70_vecquat_Quat__f_v=t}ef.prototype.$classData=_f,af.prototype=new sp,af.prototype.constructor=af,af.prototype,af.prototype.toString__T=function(){return"s: "+this.Lcfx70_vecquat_Quat__f_s+" v: "+this.Lcfx70_vecquat_Quat__f_v},af.prototype.equals__O__Z=function(e){if(e instanceof af){var t=(_=e)instanceof af||null===_?_:Sl(_,"cfx70.vecquat.Quat");return this.hashCode__I()===t.hashCode__I()}return!1;var _},af.prototype.hashCode__I=function(){var e=this.Lcfx70_vecquat_Quat__f_s;return(Lf().numberHashCode__D__I(e)+this.Lcfx70_vecquat_Quat__f_v.hashCode__I()|0)+wS("Quat")|0},af.prototype.$times__Lcfx70_vecquat_Quat__Lcfx70_vecquat_Quat=function(e){var t=this.Lcfx70_vecquat_Quat__f_s,_=e.Lcfx70_vecquat_Quat__f_s,r=this.Lcfx70_vecquat_Quat__f_v,a=e.Lcfx70_vecquat_Quat__f_v,n=r.dotProd__Lcfx70_vecquat_Vec__D(a),i=e.Lcfx70_vecquat_Quat__f_v.$times__D__Lcfx70_vecquat_Vec(this.Lcfx70_vecquat_Quat__f_s).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_vecquat_Quat__f_v.$times__D__Lcfx70_vecquat_Vec(e.Lcfx70_vecquat_Quat__f_s)),s=this.Lcfx70_vecquat_Quat__f_v,o=e.Lcfx70_vecquat_Quat__f_v;return new af(t*_-n,i.$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(s.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(o)))},af.prototype.norm__D=function(){var e=this.Lcfx70_vecquat_Quat__f_s*this.Lcfx70_vecquat_Quat__f_s+this.Lcfx70_vecquat_Quat__f_v.norm__D();return Math.fround(np(Math.sqrt(e)))},af.prototype.inverse__Lcfx70_vecquat_Quat=function(){var e=this.norm__D()*this.norm__D();return new af(this.Lcfx70_vecquat_Quat__f_s/e,this.Lcfx70_vecquat_Quat__f_v.$times__D__Lcfx70_vecquat_Vec(-1/e))},af.prototype.toVec__Lcfx70_vecquat_Vec=function(){var e=[np(this.Lcfx70_vecquat_Quat__f_v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(this.Lcfx70_vecquat_Quat__f_v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(this.Lcfx70_vecquat_Quat__f_v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))];return pf(new uf,bV(new IV,e))};var nf=(new gp).initClass({Lcfx70_vecquat_Quat:0},!1,"cfx70.vecquat.Quat",{Lcfx70_vecquat_Quat:1,O:1});function sf(){}af.prototype.$classData=nf,sf.prototype=new sp,sf.prototype.constructor=sf,sf.prototype,sf.prototype.rot__D__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Quat=function(e,t){var _=e/2,r=e/2;return new af(np(Math.cos(_)),t.normalize__Lcfx70_vecquat_Vec().$times__D__Lcfx70_vecquat_Vec(np(Math.sin(r))))},sf.prototype.rotate__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e,t,_){var r=new af(0,e),a=this.rot__D__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Quat(t,_);return a.$times__Lcfx70_vecquat_Quat__Lcfx70_vecquat_Quat(r).$times__Lcfx70_vecquat_Quat__Lcfx70_vecquat_Quat(a.inverse__Lcfx70_vecquat_Quat()).toVec__Lcfx70_vecquat_Vec()};var of,cf=(new gp).initClass({Lcfx70_vecquat_Quat$:0},!1,"cfx70.vecquat.Quat$",{Lcfx70_vecquat_Quat$:1,O:1});function lf(e,t){return e.Lcfx70_vecquat_Vec__f_crds=t,e}function pf(e,t){return lf(e,t.toVector__sci_Vector()),e}function uf(){this.Lcfx70_vecquat_Vec__f_crds=null}function ff(e){return e instanceof uf||null===e?e:Sl(e,"cfx70.vecquat.Vec")}sf.prototype.$classData=cf,uf.prototype=new sp,uf.prototype.constructor=uf,uf.prototype,uf.prototype.toString__T=function(){return _g(this.Lcfx70_vecquat_Vec__f_crds,"Vec(",",",")")},uf.prototype.equals__O__Z=function(e){if(e instanceof uf){var t=ff(e);return this.hashCode__I()===t.hashCode__I()}return!1},uf.prototype.hashCode__I=function(){var e=this.Lcfx70_vecquat_Vec__f_crds;return Sv().seqHash__sc_Seq__I(e)+wS("Vec")|0},uf.prototype.norm__D=function(){var e=0;e=0;for(var t=this.Lcfx70_vecquat_Vec__f_crds.iterator__sci_VectorIterator();t.sci_VectorIterator__f__hasNext;){var _=np(t.next__O());e+=_*_}var r=e;return np(Math.abs(r))<gf().Lcfx70_vecquat_package$__f_epsilon?0:e},uf.prototype.normalize__Lcfx70_vecquat_Vec=function(){var e=this.norm__D();if(0!==np(Math.sqrt(e)))var t=this.norm__D(),_=np(Math.sqrt(t));else _=1;for(var r=this.Lcfx70_vecquat_Vec__f_crds,a=Iw(r,oA().scg_GenTraversableFactory__f_ReusableCBFInstance),n=r.iterator__sci_VectorIterator();n.sci_VectorIterator__f__hasNext;){var i=np(n.next__O())/_;a.$plus$eq__O__scm_Builder(np(Math.abs(i))<gf().Lcfx70_vecquat_package$__f_epsilon?0:i)}return lf(new uf,rB(a.result__O()))},uf.prototype.dotProd__Lcfx70_vecquat_Vec__D=function(e){if(this.Lcfx70_vecquat_Vec__f_crds.length__I()!==e.Lcfx70_vecquat_Vec__f_crds.length__I())throw Bv(new Vv,"Dot product: vectors are different sizes");var t=this.Lcfx70_vecquat_Vec__f_crds.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i,s,o=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var c=0;;){var l=c,p=np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(l))*np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(l));if(o.$plus$eq__O__sci_VectorBuilder(p),c===n)break;c=1+c|0}return np((i=o.result__sci_Vector(),VA||(VA=new BA),s=VA,i.foldLeft__O__F2__O(s.fromInt__I__O(0),new N$(((e,t)=>s.plus__O__O__O(e,t))))))},uf.prototype.$times__D__Lcfx70_vecquat_Vec=function(e){var t=this.Lcfx70_vecquat_Vec__f_crds.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var s=0;;){var o=s,c=np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(o))*e;if(i.$plus$eq__O__sci_VectorBuilder(c),s===n)break;s=1+s|0}return pf(new uf,i.result__sci_Vector())},uf.prototype.xy__Lcfx70_vecquat_Vec=function(){var e=[np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],t=bV(new IV,e);return pf(new uf,t)},uf.prototype.xz__Lcfx70_vecquat_Vec=function(){var e=[np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],t=bV(new IV,e);return pf(new uf,t)},uf.prototype.yz__Lcfx70_vecquat_Vec=function(){var e=[np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],t=bV(new IV,e);return pf(new uf,t)},uf.prototype.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e){var t=[np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))*np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))-np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))*np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2)),np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))*np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))*np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))*np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))*np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))];return pf(new uf,bV(new IV,t))},uf.prototype.$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e){var t=this.Lcfx70_vecquat_Vec__f_crds.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var s=0;;){var o=s,c=np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(o))+np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(o));if(i.$plus$eq__O__sci_VectorBuilder(c),s===n)break;s=1+s|0}return pf(new uf,i.result__sci_Vector())},uf.prototype.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e){var t=this.Lcfx70_vecquat_Vec__f_crds.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var s=0;;){var o=s,c=np(this.Lcfx70_vecquat_Vec__f_crds.apply__I__O(o))-np(e.Lcfx70_vecquat_Vec__f_crds.apply__I__O(o));if(i.$plus$eq__O__sci_VectorBuilder(c),s===n)break;s=1+s|0}return pf(new uf,i.result__sci_Vector())},uf.prototype.project__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec=function(e){var t=e.normalize__Lcfx70_vecquat_Vec(),_=this.dotProd__Lcfx70_vecquat_Vec__D(t);return t.$times__D__Lcfx70_vecquat_Vec(_)};var hf=(new gp).initClass({Lcfx70_vecquat_Vec:0},!1,"cfx70.vecquat.Vec",{Lcfx70_vecquat_Vec:1,O:1});function df(){this.Lcfx70_vecquat_package$__f_epsilon=0,this.Lcfx70_vecquat_package$__f_epsilon=1e-7}uf.prototype.$classData=hf,df.prototype=new sp,df.prototype.constructor=df,df.prototype;var mf,yf=(new gp).initClass({Lcfx70_vecquat_package$:0},!1,"cfx70.vecquat.package$",{Lcfx70_vecquat_package$:1,O:1});function gf(){return mf||(mf=new df),mf}function vf(e){this.jl_Class__f_data=null,this.jl_Class__f_data=e}df.prototype.$classData=yf,vf.prototype=new sp,vf.prototype.constructor=vf,vf.prototype,vf.prototype.toString__T=function(){return(this.isInterface__Z()?"interface ":this.isPrimitive__Z()?"":"class ")+this.getName__T()},vf.prototype.isAssignableFrom__jl_Class__Z=function(e){return Ql(this.jl_Class__f_data.isAssignableFrom(e.jl_Class__f_data))},vf.prototype.isInterface__Z=function(){return Ql(this.jl_Class__f_data.isInterface)},vf.prototype.isArray__Z=function(){return Ql(this.jl_Class__f_data.isArrayClass)},vf.prototype.isPrimitive__Z=function(){return Ql(this.jl_Class__f_data.isPrimitive)},vf.prototype.getName__T=function(){return CS(this.jl_Class__f_data.name)},vf.prototype.getComponentType__jl_Class=function(){return(e=this.jl_Class__f_data.getComponentType())instanceof vf||null===e?e:Sl(e,"java.lang.Class");var e},vf.prototype.newArrayOfThisClass__O__O=function(e){return this.jl_Class__f_data.newArrayOfThisClass(e)};var $f=(new gp).initClass({jl_Class:0},!1,"java.lang.Class",{jl_Class:1,O:1});function xf(){this.jl_FloatingPointBits$__f_java$lang$FloatingPointBits$$_areTypedArraysSupported=!1,this.jl_FloatingPointBits$__f_arrayBuffer=null,this.jl_FloatingPointBits$__f_int32Array=null,this.jl_FloatingPointBits$__f_float64Array=null,this.jl_FloatingPointBits$__f_areTypedArraysBigEndian=!1,this.jl_FloatingPointBits$__f_highOffset=0,this.jl_FloatingPointBits$__f_lowOffset=0,this.jl_FloatingPointBits$__f_java$lang$FloatingPointBits$$doublePowsOf2=null,bf=this,this.jl_FloatingPointBits$__f_java$lang$FloatingPointBits$$_areTypedArraysSupported=!0,this.jl_FloatingPointBits$__f_arrayBuffer=new ArrayBuffer(8),this.jl_FloatingPointBits$__f_int32Array=new Int32Array(this.jl_FloatingPointBits$__f_arrayBuffer,0,2),new Float32Array(this.jl_FloatingPointBits$__f_arrayBuffer,0,2),this.jl_FloatingPointBits$__f_float64Array=new Float64Array(this.jl_FloatingPointBits$__f_arrayBuffer,0,1),this.jl_FloatingPointBits$__f_int32Array[0]=16909060,this.jl_FloatingPointBits$__f_areTypedArraysBigEndian=1===ep(new Int8Array(this.jl_FloatingPointBits$__f_arrayBuffer,0,8)[0]),this.jl_FloatingPointBits$__f_highOffset=this.jl_FloatingPointBits$__f_areTypedArraysBigEndian?0:1,this.jl_FloatingPointBits$__f_lowOffset=this.jl_FloatingPointBits$__f_areTypedArraysBigEndian?1:0,this.jl_FloatingPointBits$__f_java$lang$FloatingPointBits$$doublePowsOf2=null}vf.prototype.$classData=$f,xf.prototype=new sp,xf.prototype.constructor=xf,xf.prototype,xf.prototype.numberHashCode__D__I=function(e){var t=_p(0|e);return t===e&&1/e!=-1/0?t:(this.jl_FloatingPointBits$__f_float64Array[0]=e,_p(this.jl_FloatingPointBits$__f_int32Array[0])^_p(this.jl_FloatingPointBits$__f_int32Array[1]))},xf.prototype.doubleToLongBits__D__J=function(e){this.jl_FloatingPointBits$__f_float64Array[0]=e;var t=_p(this.jl_FloatingPointBits$__f_int32Array[this.jl_FloatingPointBits$__f_highOffset]);return new Oh(_p(this.jl_FloatingPointBits$__f_int32Array[this.jl_FloatingPointBits$__f_lowOffset]),t)};var bf,If=(new gp).initClass({jl_FloatingPointBits$:0},!1,"java.lang.FloatingPointBits$",{jl_FloatingPointBits$:1,O:1});function Lf(){return bf||(bf=new xf),bf}function Sf(){this.jl_System$Streams$__f_out=null,this.jl_System$Streams$__f_err=null,Mf=this,this.jl_System$Streams$__f_out=new nO(!1),this.jl_System$Streams$__f_err=new nO(!0)}xf.prototype.$classData=If,Sf.prototype=new sp,Sf.prototype.constructor=Sf,Sf.prototype;var Mf,wf=(new gp).initClass({jl_System$Streams$:0},!1,"java.lang.System$Streams$",{jl_System$Streams$:1,O:1});function Of(){return Mf||(Mf=new Sf),Mf}function Cf(){this.jl_Utils$Cache$__f_safeHasOwnProperty=null,Tf=this,this.jl_Utils$Cache$__f_safeHasOwnProperty=Object.prototype.hasOwnProperty}Sf.prototype.$classData=wf,Cf.prototype=new sp,Cf.prototype.constructor=Cf,Cf.prototype;var Tf,Af=(new gp).initClass({jl_Utils$Cache$:0},!1,"java.lang.Utils$Cache$",{jl_Utils$Cache$:1,O:1});function Rf(){return Tf||(Tf=new Cf),Tf}function Df(e){return null==e?e:Sl(e,"java.lang.Void")}function Ef(e,t){return!!(e&&e.$classData&&e.$classData.arrayDepth===t&&e.$classData.arrayBase.ancestors.jl_Void)}function Bf(e,t){return Ef(e,t)||null===e?e:Ml(e,"Ljava.lang.Void;",t)}Cf.prototype.$classData=Af;var Vf=(new gp).initClass({jl_Void:0},!1,"java.lang.Void",{jl_Void:1,O:1},void 0,void 0,(e=>void 0===e));function qf(){}qf.prototype=new sp,qf.prototype.constructor=qf,qf.prototype,qf.prototype.newInstance__jl_Class__I__O=function(e,t){return e.newArrayOfThisClass__O__O([t])};var Hf,Pf=(new gp).initClass({jl_reflect_Array$:0},!1,"java.lang.reflect.Array$",{jl_reflect_Array$:1,O:1});function jf(){return Hf||(Hf=new qf),Hf}function Ff(){}qf.prototype.$classData=Pf,Ff.prototype=new sp,Ff.prototype.constructor=Ff,Ff.prototype,Ff.prototype.equals__AJ__AJ__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=e.get(a),i=n.RTLong__f_lo,s=n.RTLong__f_hi,o=r,c=t.get(o),l=c.RTLong__f_lo,p=c.RTLong__f_hi;if(i!==l||s!==p)return!1;r=1+r|0}return!0},Ff.prototype.equals__AI__AI__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=r;if(e.get(a)!==t.get(n))return!1;r=1+r|0}return!0},Ff.prototype.equals__AS__AS__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=r;if(e.get(a)!==t.get(n))return!1;r=1+r|0}return!0},Ff.prototype.equals__AC__AC__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=r;if(e.get(a)!==t.get(n))return!1;r=1+r|0}return!0},Ff.prototype.equals__AB__AB__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=r;if(e.get(a)!==t.get(n))return!1;r=1+r|0}return!0},Ff.prototype.equals__AZ__AZ__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=r;if(e.get(a)!==t.get(n))return!1;r=1+r|0}return!0},Ff.prototype.equals__AD__AD__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=e.get(a),i=r,s=t.get(i);if(!Object.is(n,s))return!1;r=1+r|0}return!0},Ff.prototype.equals__AF__AF__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=e.get(a),i=r,s=t.get(i);if(!Object.is(n,s))return!1;r=1+r|0}return!0},Ff.prototype.equals__AO__AO__Z=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var _=e.u.length;if(t.u.length!==_)return!1;for(var r=0;r!==_;){var a=r,n=e.get(a),i=r,s=t.get(i);if(!(null===n?null===s:El(n,s)))return!1;r=1+r|0}return!0},Ff.prototype.fill__AI__I__V=function(e,t){for(var _=e.u.length,r=0;r!==_;){var a=r;e.set(a,t),r=1+r|0}},Ff.prototype.copyOf__AO__I__AO=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=Rl(e),n=vp(jf().newInstance__jl_Class__I__O(a.getComponentType__jl_Class(),t),1);return kl(e,0,n,0,r),n},Ff.prototype.copyOf__AB__I__AB=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new up(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AS__I__AS=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new fp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AI__I__AI=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new hp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AJ__I__AJ=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new dp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AC__I__AC=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new pp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AF__I__AF=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new mp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AD__I__AD=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new yp(t);return e.copyTo(0,a,0,r),a},Ff.prototype.copyOf__AZ__I__AZ=function(e,t){if(t<0)throw new _I;var _=e.u.length,r=t<_?t:_,a=new lp(t);return e.copyTo(0,a,0,r),a};var zf,kf=(new gp).initClass({ju_Arrays$:0},!1,"java.util.Arrays$",{ju_Arrays$:1,O:1});function Gf(){return zf||(zf=new Ff),zf}function Nf(e){return!!(e&&e.$classData&&e.$classData.ancestors.ju_Formattable)}function Wf(){this.ju_Formatter$__f_java$util$Formatter$$FormatSpecifier=null,this.ju_Formatter$__f_java$util$Formatter$$ConversionsIllegalFlags=null,Uf=this,this.ju_Formatter$__f_java$util$Formatter$$FormatSpecifier=new RegExp("(?:(\\d+)\\$)?([-#+ 0,\\(<]*)(\\d+)?(?:\\.(\\d+))?[%A-Za-z]","g"),this.ju_Formatter$__f_java$util$Formatter$$ConversionsIllegalFlags=new hp(new Int32Array([96,126,638,770,32,256,2,126,-1,-1,-1,-1,-1,-1,800,-1,-1,-1,124,-1,-1,-1,-1,544,-1,-1]))}Ff.prototype.$classData=kf,Wf.prototype=new sp,Wf.prototype.constructor=Wf,Wf.prototype,Wf.prototype.java$util$Formatter$$strOfZeros__I__T=function(e){if(e<=20)return e>20&&jl("00000000000000000000",e),e<0&&jl("00000000000000000000",-1),CS("00000000000000000000".substring(0,e));for(var t="",_=e;_>20;)t+="00000000000000000000",_=-20+_|0;var r=t,a=_;return a>20&&jl("00000000000000000000",a),a<0&&jl("00000000000000000000",-1),""+r+CS("00000000000000000000".substring(0,a))},Wf.prototype.java$util$Formatter$$numberToDecimal__D__ju_Formatter$Decimal=function(e){if(0===e)return new Yf(1/e<0,"0",0);var t=e<0,_=""+(t?-e:e),r=OS(_,101);if(r<0)var a=0;else{var n=parseInt,i=1+r|0;(i<0||i>_.length)&&jl(_,i),a=_p(n(CS(_.substring(i))))}var s=r<0?_.length:r,o=OS(_,46);if(o<0)return s>_.length&&jl(_,s),s<0&&jl(_,-1),new Yf(t,CS(_.substring(0,s)),0|-a);o>_.length&&jl(_,o),o<0&&jl(_,-1);var c=CS(_.substring(0,o)),l=1+o|0;l<0&&jl(_,l),s>_.length&&jl(_,s),s<l&&jl(_,-1);for(var p=""+c+CS(_.substring(l,s)),u=p.length,f=0;;){if(f<u)var h=48===jl(p,f);else h=!1;if(!h)break;f=1+f|0}var d=f;return(d<0||d>p.length)&&jl(p,d),new Yf(t,CS(p.substring(d)),(0|-a)+(s-(1+o|0)|0)|0)},Wf.prototype.java$util$Formatter$$bigDecimalToDecimal__Ljava_math_BigDecimal__ju_Formatter$Decimal=function(e){var t=e.unscaledValue__Ljava_math_BigInteger().toString__T();if("0"===t)return new Yf(!1,"0",0);var _=45===jl(t,0);if(_){t.length<1&&jl(t,1);var r=CS(t.substring(1))}else r=t;return new Yf(_,r,e.scale__I())};var Uf,Zf=(new gp).initClass({ju_Formatter$:0},!1,"java.util.Formatter$",{ju_Formatter$:1,O:1});function Xf(){return Uf||(Uf=new Wf),Uf}function Jf(e,t){var _=e.ju_Formatter$Decimal__f_unscaledValue,r=_.length;if(t<0)return new Yf(e.ju_Formatter$Decimal__f_negative,"0",0);if(t>=r)return e;if(jl(_,t)<53){if(0===t)return new Yf(e.ju_Formatter$Decimal__f_negative,"0",0);var a=e.ju_Formatter$Decimal__f_negative;return t>_.length&&jl(_,t),t<0&&jl(_,-1),new Yf(a,CS(_.substring(0,t)),e.ju_Formatter$Decimal__f_scale-(r-t|0)|0)}for(var n=-1+t|0;;){if(n>=0)var i=57===jl(_,n);else i=!1;if(!i)break;n=-1+n|0}if(n<0)var s="1";else{var o=n;o>_.length&&jl(_,o),o<0&&jl(_,-1),s=""+CS(_.substring(0,o))+Yl(65535&(1+jl(_,n)|0))}var c=1+n|0,l=e.ju_Formatter$Decimal__f_scale-(r-c|0)|0;return new Yf(e.ju_Formatter$Decimal__f_negative,s,l)}function Yf(e,t,_){this.ju_Formatter$Decimal__f_negative=!1,this.ju_Formatter$Decimal__f_unscaledValue=null,this.ju_Formatter$Decimal__f_scale=0,this.ju_Formatter$Decimal__f_negative=e,this.ju_Formatter$Decimal__f_unscaledValue=t,this.ju_Formatter$Decimal__f_scale=_}Wf.prototype.$classData=Zf,Yf.prototype=new sp,Yf.prototype.constructor=Yf,Yf.prototype,Yf.prototype.isZero__Z=function(){return"0"===this.ju_Formatter$Decimal__f_unscaledValue},Yf.prototype.round__I__ju_Formatter$Decimal=function(e){if(Xf(),!(e>0))throw new ix("Decimal.round() called with non-positive precision");return Jf(this,e)},Yf.prototype.setScale__I__ju_Formatter$Decimal=function(e){var t=Jf(this,(this.ju_Formatter$Decimal__f_unscaledValue.length+e|0)-this.ju_Formatter$Decimal__f_scale|0);if(Xf(),!(t.isZero__Z()||t.ju_Formatter$Decimal__f_scale<=e))throw new ix("roundAtPos returned a non-zero value with a scale too large");return t.isZero__Z()||t.ju_Formatter$Decimal__f_scale===e?t:new Yf(this.ju_Formatter$Decimal__f_negative,""+t.ju_Formatter$Decimal__f_unscaledValue+Xf().java$util$Formatter$$strOfZeros__I__T(e-t.ju_Formatter$Decimal__f_scale|0),e)},Yf.prototype.toString__T=function(){return"Decimal("+this.ju_Formatter$Decimal__f_negative+", "+this.ju_Formatter$Decimal__f_unscaledValue+", "+this.ju_Formatter$Decimal__f_scale+")"};var Qf=(new gp).initClass({ju_Formatter$Decimal:0},!1,"java.util.Formatter$Decimal",{ju_Formatter$Decimal:1,O:1});function Kf(){}function eh(){}function th(e,t){throw new VS(t,e.ju_regex_PatternCompiler__f_pattern,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex)}function _h(e,t){for(var _="",r=t.length,a=0;a!==r;){var n=MS(t,a);_=""+_+rh(e,n),a=a+(n>=65536?2:1)|0}return _}function rh(e,t){var _=$h().java$util$regex$PatternCompiler$$codePointToString__I__T(t);if(!(t<128))return 56320==(-1024&t)?"(?:"+_+")":_;switch(t){case 94:case 36:case 92:case 46:case 42:case 43:case 63:case 40:case 41:case 91:case 93:case 123:case 125:case 124:return"\\"+_;default:return 2!=(66&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)?_:t>=65&&t<=90?"["+_+$h().java$util$regex$PatternCompiler$$codePointToString__I__T(32+t|0)+"]":t>=97&&t<=122?"["+$h().java$util$regex$PatternCompiler$$codePointToString__I__T(-32+t|0)+_+"]":_}}function ah(e){for(var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length;;){if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_)switch(jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex)){case 32:case 9:case 10:case 11:case 12:case 13:e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;continue;case 35:e.java$util$regex$PatternCompiler$$skipSharpComment__V();continue}break}}function nh(e,t,_){var r=e.ju_regex_PatternCompiler__f_pattern,a=r.length,n=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,i=n===a?46:jl(r,n);if(63!==i&&42!==i&&43!==i&&123!==i)return _;var s=function(e,t){var _=e.ju_regex_PatternCompiler__f_pattern,r=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex;if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,123===t){var a=_.length;if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===a)var n=!0;else{var i=jl(_,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);n=!(i>=48&&i<=57)}for(n&&th(e,"Illegal repetition");;){if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==a)var s=jl(_,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex),o=s>=48&&s<=57;else o=!1;if(!o)break;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0}if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===a&&th(e,"Illegal repetition"),44===jl(_,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex))for(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;;){if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==a)var c=jl(_,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex),l=c>=48&&c<=57;else l=!1;if(!l)break;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0}if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===a)var p=!0;else p=125!==jl(_,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);p&&th(e,"Illegal repetition"),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0}return CS(_.substring(r,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex))}(e,i);if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===a)return""+_+s;switch(jl(r,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex)){case 43:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,function(e,t,_,r){for(var a=_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.length),n=0;n<a;){var i=n,s=_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap[i]);s>t&&(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap[i]=1+s|0),n=1+n|0}var o=CS(_.replace($h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$renumberingRegExp,((_,r,a)=>{var n=CS(_),i=CS(r),s=CS(a);return e.java$util$regex$PatternCompiler$$$anonfun$buildPossessiveQuantifier$2__T__T__T__I__T(n,i,s,t)})));return e.ju_regex_PatternCompiler__f_compiledGroupCount=1+e.ju_regex_PatternCompiler__f_compiledGroupCount|0,"(?:(?=("+o+r+"))\\"+(1+t|0)+")"}(e,t,_,s);case 63:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,""+_+s+"?";default:return""+_+s}}function ih(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length;(1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0)===_&&th(e,"\\ at end of pattern"),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;var r=jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);switch(r){case 100:case 68:case 104:case 72:case 115:case 83:case 118:case 86:case 119:case 87:case 112:case 80:var a=ch(e,r),n=a.ju_regex_PatternCompiler$CompiledCharClass__f_kind;switch(n){case 0:return"\\p{"+a.ju_regex_PatternCompiler$CompiledCharClass__f_data+"}";case 1:return"\\P{"+a.ju_regex_PatternCompiler$CompiledCharClass__f_data+"}";case 2:return"["+a.ju_regex_PatternCompiler$CompiledCharClass__f_data+"]";case 3:return $h().java$util$regex$PatternCompiler$$codePointNotAmong__T__T(a.ju_regex_PatternCompiler$CompiledCharClass__f_data);default:throw new ix(n)}break;case 98:if("b{g}"===CS(t.substring(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,4+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0)))th(e,"\\b{g} is not supported");else{if(0==(320&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"\\b";e.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("\\b with UNICODE_CASE","2018")}break;case 66:if(0==(320&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"\\B";e.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("\\B with UNICODE_CASE","2018");break;case 65:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"(?:^)";case 71:th(e,"\\G in the middle of a pattern is not supported");break;case 90:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"(?="+(0!=(1&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)?"\n":"(?:\r\n?|[\n\u2028\u2029])")+"?$)";case 122:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"(?:$)";case 82:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"(?:\r\n|[\n-\r\u2028\u2029])";case 88:th(e,"\\X is not supported");break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var i=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,s=1+i|0;;){if(s!==_)var o=jl(t,s),c=o>=48&&o<=57;else c=!1;if(c)var l=CS(t.substring(i,1+s|0)),p=_p(parseInt(l,10))<=(-1+_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.length)|0);else p=!1;if(!p)break;s=1+s|0}var u=CS(t.substring(i,s)),f=_p(parseInt(u,10));f>(-1+_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.length)|0)&&th(e,"numbered capturing group <"+f+"> does not exist");var h=_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap[f]);return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=s,"(?:\\"+h+")";case 107:if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===_)var d=!0;else d=60!==jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);d&&th(e,"\\k is not followed by '<' for named capturing group"),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;var m=uh(e),y=e.ju_regex_PatternCompiler__f_namedGroups;Ql(Rf().jl_Utils$Cache$__f_safeHasOwnProperty.call(y,m))||th(e,"named capturing group <"+m+"> does not exit");var g=_p(y[m]),v=_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap[g]);return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"(?:\\"+v+")";case 81:var $=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,x=_p(t.indexOf("\\E",$));return x<0?(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=t.length,_h(e,CS(t.substring($)))):(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=2+x|0,_h(e,CS(t.substring($,x))));default:return rh(e,sh(e))}}function sh(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=MS(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);switch(_){case 48:return function(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length,r=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex;if((1+r|0)<_)var a=-48+jl(t,1+r|0)|0;else a=-1;if((a<0||a>7)&&th(e,"Illegal octal escape sequence"),(2+r|0)<_)var n=-48+jl(t,2+r|0)|0;else n=-1;if(n<0||n>7)return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=2+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,a;if(a>3)return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=3+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,(a<<3)+n|0;if((3+r|0)<_)var i=-48+jl(t,3+r|0)|0;else i=-1;return i<0||i>7?(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=3+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,(a<<3)+n|0):(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=4+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,((a<<6)+(n<<3)|0)+i|0)}(e);case 120:return function(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length,r=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;if(r!==_&&123===jl(t,r)){var a=1+r|0,n=_p(t.indexOf("}",a));n<0&&th(e,"Unclosed hexadecimal escape sequence");var i=oh(e,a,n,"hexadecimal");return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+n|0,i}var s=oh(e,r,2+r|0,"hexadecimal");return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=2+r|0,s}(e);case 117:return function(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,r=4+_|0,a=oh(e,_,r,"Unicode");e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=r;var n=2+r|0,i=4+n|0;if(55296==(-1024&a)&&"\\u"===CS(t.substring(r,n))){var s=oh(e,n,i,"Unicode");return 56320==(-1024&s)?(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=i,(64+(1023&a)|0)<<10|1023&s):a}return a}(e);case 78:th(e,"\\N is not supported");break;case 97:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,7;case 116:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,9;case 110:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,10;case 102:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,12;case 114:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,13;case 101:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,27;case 99:e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===t.length&&th(e,"Illegal control escape sequence");var r=MS(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex+(r>=65536?2:1)|0,64^r;default:return(_>=65&&_<=90||_>=97&&_<=122)&&th(e,"Illegal/unsupported escape sequence"),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex+(_>=65536?2:1)|0,_}}function oh(e,t,_,r){var a=e.ju_regex_PatternCompiler__f_pattern,n=a.length;(t===_||_>n)&&th(e,"Illegal "+r+" escape sequence");for(var i=t;i<_;){var s=jl(a,i);s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102||th(e,"Illegal "+r+" escape sequence"),i=1+i|0}if((_-t|0)>6)var o=1114112;else{var c=CS(a.substring(t,_));o=_p(parseInt(c,16))}return o>1114111&&th(e,"Hexadecimal codepoint is too big"),o}function ch(e,t){switch(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,t){case 100:case 68:var _=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIDigit;break;case 104:case 72:_=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalHorizontalWhiteSpace;break;case 115:case 83:_=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWhiteSpace;break;case 118:case 86:_=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalVerticalWhiteSpace;break;case 119:case 87:_=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWordChar;break;case 112:case 80:_=function(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length,r=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex;if(r===_)var a="?";else if(123===jl(t,r)){var n=1+r|0,i=_p(t.indexOf("}",n));i<0&&th(e,"Unclosed character family"),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=i,a=CS(t.substring(n,i))}else a=CS(t.substring(r,1+r|0));var s=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$asciiPOSIXCharacterClasses;Ql(Rf().jl_Utils$Cache$__f_safeHasOwnProperty.call(s,a))||e.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("Unicode character family","2018");var o,c=2!=(66&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)||"Lower"!==a&&"Upper"!==a?a:"Alpha",l=(o=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$asciiPOSIXCharacterClasses[c])instanceof Mh||null===o?o:Sl(o,"java.util.regex.PatternCompiler$CompiledCharClass");return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,l}(e);break;default:throw new ix(Yl(t))}return t>=97?_:_.negated__ju_regex_PatternCompiler$CompiledCharClass()}function lh(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length;if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_)var r=94===jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);else r=!1;r&&(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0);for(var a=new Lh(2==(66&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags),r);e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_;){var n=MS(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);e:{switch(n){case 93:return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,a.finish__T();case 38:if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_)var i=38===jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);else i=!1;i?(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,a.startNewConjunct__V()):fh(e,38,_,t,a);break e;case 91:xh(a,lh(e));break e;case 92:e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===_&&th(e,"Illegal escape sequence");var s=jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);switch(s){case 100:case 68:case 104:case 72:case 115:case 83:case 118:case 86:case 119:case 87:case 112:case 80:a.addCharacterClass__ju_regex_PatternCompiler$CompiledCharClass__V(ch(e,s));break;case 81:e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;var o=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,c=_p(t.indexOf("\\E",o));c<0&&th(e,"Unclosed character class"),a.addCodePointsInString__T__I__I__V(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,c),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=2+c|0;break;default:fh(e,sh(e),_,t,a)}break e;case 32:case 9:case 10:case 11:case 12:case 13:if(0==(4&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))break;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;break e;case 35:if(0==(4&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))break;e.java$util$regex$PatternCompiler$$skipSharpComment__V();break e}e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex+(n>=65536?2:1)|0,fh(e,n,_,t,a)}}th(e,"Unclosed character class")}function ph(e){var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length,r=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex;if((1+r|0)===_)var a=!0;else a=63!==jl(t,1+r|0);if(a)return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+r|0,e.ju_regex_PatternCompiler__f_compiledGroupCount=1+e.ju_regex_PatternCompiler__f_compiledGroupCount|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.push(e.ju_regex_PatternCompiler__f_compiledGroupCount),"("+e.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T(!0)+")";(2+r|0)===_&&th(e,"Unclosed group");var n=jl(t,2+r|0);if(58===n||61===n||33===n)return e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=3+r|0,""+CS(t.substring(r,3+r|0))+e.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T(!0)+")";if(60===n){(3+r|0)===_&&th(e,"Unclosed group");var i=jl(t,3+r|0);if(i>=65&&i<=90||i>=97&&i<=122){e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=3+r|0;var s=uh(e),o=e.ju_regex_PatternCompiler__f_namedGroups;Ql(Rf().jl_Utils$Cache$__f_safeHasOwnProperty.call(o,s))&&th(e,"named capturing group <"+s+"> is already defined"),e.ju_regex_PatternCompiler__f_compiledGroupCount=1+e.ju_regex_PatternCompiler__f_compiledGroupCount|0,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.push(e.ju_regex_PatternCompiler__f_compiledGroupCount);var c=e.ju_regex_PatternCompiler__f_namedGroups,l=-1+_p(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.length)|0;return c[s]=l,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,"("+e.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T(!0)+")"}61!==i&&33!==i&&th(e,"Unknown look-behind group"),e.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("Look-behind group","2018")}else{if(62===n){e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=3+r|0,e.ju_regex_PatternCompiler__f_compiledGroupCount=1+e.ju_regex_PatternCompiler__f_compiledGroupCount|0;var p=e.ju_regex_PatternCompiler__f_compiledGroupCount;return"(?:(?=("+e.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T(!0)+"))\\"+p+")"}th(e,"Embedded flag expression in the middle of a pattern is not supported")}}function uh(e){for(var t=e.ju_regex_PatternCompiler__f_pattern,_=t.length,r=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex;;){if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_)var a=jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex),n=a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57;else n=!1;if(!n)break;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0}if(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===_)var i=!0;else i=62!==jl(t,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);return i&&th(e,"named capturing group is missing trailing '>'"),CS(t.substring(r,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex))}function fh(e,t,_,r,a){if(0!=(4&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&ah(e),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_)var n=45===jl(r,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);else n=!1;if(n){e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,0!=(4&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&ah(e),e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex===_&&th(e,"Unclosed character class");var i=MS(r,e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);if(91===i||93===i)a.addSingleCodePoint__I__V(t),a.addSingleCodePoint__I__V(45);else{e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex+(i>=65536?2:1)|0;var s=92===i?sh(e):i;s<t&&th(e,"Illegal character range"),a.addCodePointRange__I__I__V(t,s)}}else a.addSingleCodePoint__I__V(t)}function hh(e,t){this.ju_regex_PatternCompiler__f_pattern=null,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=0,this.ju_regex_PatternCompiler__f_sticky=!1,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=0,this.ju_regex_PatternCompiler__f_compiledGroupCount=0,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap=null,this.ju_regex_PatternCompiler__f_namedGroups=null,this.ju_regex_PatternCompiler__f_pattern=e,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=t,this.ju_regex_PatternCompiler__f_sticky=!1,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=0,this.ju_regex_PatternCompiler__f_compiledGroupCount=0,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap=[0],this.ju_regex_PatternCompiler__f_namedGroups={}}Yf.prototype.$classData=Qf,Kf.prototype=new sp,Kf.prototype.constructor=Kf,eh.prototype=Kf.prototype,hh.prototype=new sp,hh.prototype.constructor=hh,hh.prototype,hh.prototype.compile__ju_regex_Pattern=function(){0!=(256&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&(this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=64|this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags);var e=0!=(16&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags);if(e||function(e){var t=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$leadingEmbeddedFlagSpecifierRegExp.exec(e.ju_regex_PatternCompiler__f_pattern);if(null!==t){var _=t[1];if(void 0!==_)for(var r=CS(_),a=r.length,n=0;n<a;){var i=n;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags|$h().java$util$regex$PatternCompiler$$charToFlag__C__I(jl(r,i)),n=1+n|0}0!=(256&e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&(e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=64|e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags);var s=t[2];if(void 0!==s)for(var o=CS(s),c=o.length,l=0;l<c;){var p=l;e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags&~$h().java$util$regex$PatternCompiler$$charToFlag__C__I(jl(o,p)),l=1+l|0}var u=e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,f=CS(t[0]);e.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=u+f.length|0}}(this),0!=(128&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&th(this,"CANON_EQ is not supported"),0!=(8&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&this.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("MULTILINE","2018"),0!=(256&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)&&this.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E("UNICODE_CHARACTER_CLASS","2018"),e)var t=_h(this,this.ju_regex_PatternCompiler__f_pattern);else"\\G"===CS(this.ju_regex_PatternCompiler__f_pattern.substring(this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex,2+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0))&&(this.ju_regex_PatternCompiler__f_sticky=!0,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=2+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0),t=this.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T(!1);var _=$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsDotAll?"us":"u",r=66==(66&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)?_+"i":_;return new Gy(this.ju_regex_PatternCompiler__f_pattern,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags,t,r,this.ju_regex_PatternCompiler__f_sticky,-1+_p(this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap.length)|0,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$groupNumberMap,this.ju_regex_PatternCompiler__f_namedGroups)},hh.prototype.java$util$regex$PatternCompiler$$parseErrorRequireESVersion__T__T__E=function(e,t){th(this,e+" is not supported because it requires RegExp features of ECMAScript "+t+".\nIf you only target environments with ES"+t+"+, you can enable ES"+t+" features with\n  scalaJSLinkerConfig ~= { _.withESFeatures(_.withESVersion(ESVersion.ES"+t+")) }\nor an equivalent configuration depending on your build tool.")},hh.prototype.java$util$regex$PatternCompiler$$compileTopLevelOrInsideGroup__Z__T=function(e){for(var t=this.ju_regex_PatternCompiler__f_pattern,_=t.length,r="";this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==_;){var a=MS(t,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex);e:{switch(a){case 41:return e||th(this,"Unmatched closing ')'"),this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,r;case 124:this.ju_regex_PatternCompiler__f_sticky&&!e&&th(this,"\\G is not supported when there is an alternative at the top level"),this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,r+="|";break e;case 32:case 9:case 10:case 11:case 12:case 13:if(0==(4&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))break;this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;break e;case 35:if(0==(4&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags))break;this.java$util$regex$PatternCompiler$$skipSharpComment__V();break e;case 63:case 42:case 43:case 123:th(this,"Dangling meta character '"+$h().java$util$regex$PatternCompiler$$codePointToString__I__T(a)+"'")}var n=this.ju_regex_PatternCompiler__f_compiledGroupCount;switch(a){case 92:var i=ih(this);break;case 91:i=lh(this);break;case 40:i=ph(this);break;case 94:this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,i="(?:^)";break;case 36:this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0,i="(?:$)";break;case 46:this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0;var s=0!=(32&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)?"":0!=(1&this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$flags)?"\n":"\n\r\u2028\u2029";i=$h().java$util$regex$PatternCompiler$$codePointNotAmong__T__T(s);break;default:this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex+(a>=65536?2:1)|0,i=rh(this,a)}r=""+r+nh(this,n,i)}}return e&&th(this,"Unclosed group"),r},hh.prototype.java$util$regex$PatternCompiler$$skipSharpComment__V=function(){for(var e=this.ju_regex_PatternCompiler__f_pattern,t=e.length;;){if(this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex!==t)var _=jl(e,this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex),r=!(10===_||13===_||133===_||8232===_||8233===_);else r=!1;if(!r)break;this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex=1+this.ju_regex_PatternCompiler__f_java$util$regex$PatternCompiler$$pIndex|0}},hh.prototype.java$util$regex$PatternCompiler$$$anonfun$buildPossessiveQuantifier$2__T__T__T__I__T=function(e,t,_,r){if(0==(t.length%2|0))return e;var a=_p(parseInt(_,10));return a>r?""+t+(1+a|0):e};var dh=(new gp).initClass({ju_regex_PatternCompiler:0},!1,"java.util.regex.PatternCompiler",{ju_regex_PatternCompiler:1,O:1});function mh(e,t){try{return new RegExp("",t),!0}catch(e){return!1}}function yh(){this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$leadingEmbeddedFlagSpecifierRegExp=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$renumberingRegExp=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsUnicode=!1,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsSticky=!1,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsDotAll=!1,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIDigit=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeDigit=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalHorizontalWhiteSpace=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWhiteSpace=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeWhitespace=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalVerticalWhiteSpace=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWordChar=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeWordChar=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$asciiPOSIXCharacterClasses=null,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$scriptCanonicalizeRegExp=null,gh=this,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$leadingEmbeddedFlagSpecifierRegExp=new RegExp("^\\(\\?([idmsuxU]*)(?:-([idmsuxU]*))?\\)"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$renumberingRegExp=new RegExp("(\\\\+)(\\d+)","g"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsUnicode=!0,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsSticky=!0,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsDotAll=mh(0,"us"),mh(0,"d"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIDigit=new Mh(2,"0-9"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeDigit=new Mh(0,"Nd"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalHorizontalWhiteSpace=new Mh(2,"\t -"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWhiteSpace=new Mh(2,"\t-\r "),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeWhitespace=new Mh(0,"White_Space"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UniversalVerticalWhiteSpace=new Mh(2,"\n-\r\u2028\u2029"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$ASCIIWordChar=new Mh(2,"a-zA-Z_0-9"),this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$UnicodeWordChar=new Mh(2,"\\p{Alphabetic}\\p{Mn}\\p{Me}\\p{Mc}\\p{Nd}\\p{Pc}\\p{Join_Control}");var e={},t=new Mh(2,"a-z");e.Lower=t;var _=new Mh(2,"A-Z");e.Upper=_;var r=new Mh(2,"\0-");e.ASCII=r;var a=new Mh(2,"A-Za-z");e.Alpha=a;var n=new Mh(2,"0-9");e.Digit=n;var i=new Mh(2,"0-9A-Za-z");e.Alnum=i;var s=new Mh(2,"!-/:-@[-`{-~");e.Punct=s;var o=new Mh(2,"!-~");e.Graph=o;var c=new Mh(2," -~");e.Print=c;var l=new Mh(2,"\t ");e.Blank=l;var p=new Mh(2,"\0-");e.Cntrl=p;var u=new Mh(2,"0-9A-Fa-f");e.XDigit=u;var f=new Mh(2,"\t-\r ");e.Space=f,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$asciiPOSIXCharacterClasses=e,this.ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$scriptCanonicalizeRegExp=new RegExp("(?:^|_)[a-z]","g")}hh.prototype.$classData=dh,yh.prototype=new sp,yh.prototype.constructor=yh,yh.prototype,yh.prototype.compile__T__I__ju_regex_Pattern=function(e,t){return new hh(e,t).compile__ju_regex_Pattern()},yh.prototype.java$util$regex$PatternCompiler$$charToFlag__C__I=function(e){switch(e){case 105:return 2;case 100:return 1;case 109:return 8;case 115:return 32;case 117:return 64;case 120:return 4;case 85:return 256;default:throw Nb(new Ub,"bad in-pattern flag")}},yh.prototype.java$util$regex$PatternCompiler$$codePointNotAmong__T__T=function(e){return""!==e?"[^"+e+"]":$h().ju_regex_PatternCompiler$__f_java$util$regex$PatternCompiler$$_supportsDotAll?".":"[\\d\\D]"},yh.prototype.java$util$regex$PatternCompiler$$codePointToString__I__T=function(e){return CS(String.fromCodePoint(e))};var gh,vh=(new gp).initClass({ju_regex_PatternCompiler$:0},!1,"java.util.regex.PatternCompiler$",{ju_regex_PatternCompiler$:1,O:1});function $h(){return gh||(gh=new yh),gh}function xh(e,t){""===e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct?e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct=t:e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct=e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct+"|"+t}function bh(e){if(e.ju_regex_PatternCompiler$CharacterClassBuilder__f_isNegated){var t=$h().java$util$regex$PatternCompiler$$codePointNotAmong__T__T(e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment);return""===e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct?t:"(?:(?!"+e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct+")"+t+")"}return""===e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment?""===e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct?"[^\\d\\D]":"(?:"+e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct+")":""===e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct?"["+e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+"]":"(?:"+e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct+"|["+e.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+"])"}function Ih(e,t){var _=$h().java$util$regex$PatternCompiler$$codePointToString__I__T(t);return 93===t||92===t||45===t||94===t?"\\"+_:_}function Lh(e,t){this.ju_regex_PatternCompiler$CharacterClassBuilder__f_asciiCaseInsensitive=!1,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_isNegated=!1,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction=null,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct=null,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=null,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_asciiCaseInsensitive=e,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_isNegated=t,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction="",this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct="",this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=""}yh.prototype.$classData=vh,Lh.prototype=new sp,Lh.prototype.constructor=Lh,Lh.prototype,Lh.prototype.finish__T=function(){var e=bh(this);return""===this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction?e:"(?:"+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction+e+")"},Lh.prototype.startNewConjunct__V=function(){var e=bh(this);this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction=this.ju_regex_PatternCompiler$CharacterClassBuilder__f_conjunction+(this.ju_regex_PatternCompiler$CharacterClassBuilder__f_isNegated?e+"|":"(?="+e+")"),this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisConjunct="",this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=""},Lh.prototype.addCharacterClass__ju_regex_PatternCompiler$CompiledCharClass__V=function(e){var t=e.ju_regex_PatternCompiler$CompiledCharClass__f_kind;switch(t){case 0:this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+"\\p{"+e.ju_regex_PatternCompiler$CompiledCharClass__f_data+"}";break;case 1:this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+"\\P{"+e.ju_regex_PatternCompiler$CompiledCharClass__f_data+"}";break;case 2:this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=""+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+e.ju_regex_PatternCompiler$CompiledCharClass__f_data;break;case 3:xh(this,$h().java$util$regex$PatternCompiler$$codePointNotAmong__T__T(e.ju_regex_PatternCompiler$CompiledCharClass__f_data));break;default:throw new ix(t)}},Lh.prototype.addCodePointsInString__T__I__I__V=function(e,t,_){for(var r=t;r!==_;){var a=MS(e,r);this.addSingleCodePoint__I__V(a),r=r+(a>=65536?2:1)|0}},Lh.prototype.addSingleCodePoint__I__V=function(e){var t=Ih(0,e);this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=56320==(-1024&e)?""+t+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment:""+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+t,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_asciiCaseInsensitive&&(e>=65&&e<=90?this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=""+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+$h().java$util$regex$PatternCompiler$$codePointToString__I__T(32+e|0):e>=97&&e<=122&&(this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=""+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+$h().java$util$regex$PatternCompiler$$codePointToString__I__T(-32+e|0)))},Lh.prototype.addCodePointRange__I__I__V=function(e,t){var _=Ih(0,e)+"-"+Ih(0,t);if(this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=56320==(-1024&e)?_+this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment:this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment+_,this.ju_regex_PatternCompiler$CharacterClassBuilder__f_asciiCaseInsensitive){var r=e>65?e:65,a=t<90?t:90;if(r<=a){var n=this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment,i=32+r|0,s=32+a|0;this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=n+(Ih(0,i)+"-")+Ih(0,s)}var o=e>97?e:97,c=t<122?t:122;if(o<=c){var l=this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment,p=-32+o|0,u=-32+c|0;this.ju_regex_PatternCompiler$CharacterClassBuilder__f_thisSegment=l+(Ih(0,p)+"-")+Ih(0,u)}}};var Sh=(new gp).initClass({ju_regex_PatternCompiler$CharacterClassBuilder:0},!1,"java.util.regex.PatternCompiler$CharacterClassBuilder",{ju_regex_PatternCompiler$CharacterClassBuilder:1,O:1});function Mh(e,t){this.ju_regex_PatternCompiler$CompiledCharClass__f_negated=null,this.ju_regex_PatternCompiler$CompiledCharClass__f_kind=0,this.ju_regex_PatternCompiler$CompiledCharClass__f_data=null,this.ju_regex_PatternCompiler$CompiledCharClass__f_bitmap$0=!1,this.ju_regex_PatternCompiler$CompiledCharClass__f_kind=e,this.ju_regex_PatternCompiler$CompiledCharClass__f_data=t}Lh.prototype.$classData=Sh,Mh.prototype=new sp,Mh.prototype.constructor=Mh,Mh.prototype,Mh.prototype.negated__ju_regex_PatternCompiler$CompiledCharClass=function(){return this.ju_regex_PatternCompiler$CompiledCharClass__f_bitmap$0?this.ju_regex_PatternCompiler$CompiledCharClass__f_negated:((e=this).ju_regex_PatternCompiler$CompiledCharClass__f_bitmap$0||(e.ju_regex_PatternCompiler$CompiledCharClass__f_negated=new Mh(1^e.ju_regex_PatternCompiler$CompiledCharClass__f_kind,e.ju_regex_PatternCompiler$CompiledCharClass__f_data),e.ju_regex_PatternCompiler$CompiledCharClass__f_bitmap$0=!0),e.ju_regex_PatternCompiler$CompiledCharClass__f_negated);var e};var wh=(new gp).initClass({ju_regex_PatternCompiler$CompiledCharClass:0},!1,"java.util.regex.PatternCompiler$CompiledCharClass",{ju_regex_PatternCompiler$CompiledCharClass:1,O:1});function Oh(e,t){this.RTLong__f_lo=0,this.RTLong__f_hi=0,this.RTLong__f_lo=e,this.RTLong__f_hi=t}function Ch(e){return e instanceof Oh||null===e?e:Sl(e,"org.scalajs.linker.runtime.RuntimeLong")}Mh.prototype.$classData=wh,Oh.prototype=new sp,Oh.prototype.constructor=Oh,Oh.prototype,Oh.prototype.equals__O__Z=function(e){if(e instanceof Oh){var t=Ch(e);return this.RTLong__f_lo===t.RTLong__f_lo&&this.RTLong__f_hi===t.RTLong__f_hi}return!1},Oh.prototype.hashCode__I=function(){return this.RTLong__f_lo^this.RTLong__f_hi},Oh.prototype.toString__T=function(){return Vh().org$scalajs$linker$runtime$RuntimeLong$$toString__I__I__T(this.RTLong__f_lo,this.RTLong__f_hi)},Oh.prototype.toInt__I=function(){return this.RTLong__f_lo},Oh.prototype.toFloat__F=function(){return Vh().org$scalajs$linker$runtime$RuntimeLong$$toFloat__I__I__F(this.RTLong__f_lo,this.RTLong__f_hi)},Oh.prototype.toDouble__D=function(){return Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(this.RTLong__f_lo,this.RTLong__f_hi)},Oh.prototype.byteValue__B=function(){return this.RTLong__f_lo<<24>>24},Oh.prototype.shortValue__S=function(){return this.RTLong__f_lo<<16>>16},Oh.prototype.intValue__I=function(){return this.RTLong__f_lo},Oh.prototype.longValue__J=function(){return rp(this)},Oh.prototype.floatValue__F=function(){return Vh().org$scalajs$linker$runtime$RuntimeLong$$toFloat__I__I__F(this.RTLong__f_lo,this.RTLong__f_hi)},Oh.prototype.doubleValue__D=function(){return Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(this.RTLong__f_lo,this.RTLong__f_hi)},Oh.prototype.compareTo__O__I=function(e){var t=Ch(e);return Vh().org$scalajs$linker$runtime$RuntimeLong$$compare__I__I__I__I__I(this.RTLong__f_lo,this.RTLong__f_hi,t.RTLong__f_lo,t.RTLong__f_hi)},Oh.prototype.compareTo__jl_Long__I=function(e){return Vh().org$scalajs$linker$runtime$RuntimeLong$$compare__I__I__I__I__I(this.RTLong__f_lo,this.RTLong__f_hi,e.RTLong__f_lo,e.RTLong__f_hi)},Oh.prototype.equals__RTLong__Z=function(e){return this.RTLong__f_lo===e.RTLong__f_lo&&this.RTLong__f_hi===e.RTLong__f_hi},Oh.prototype.notEquals__RTLong__Z=function(e){return!(this.RTLong__f_lo===e.RTLong__f_lo&&this.RTLong__f_hi===e.RTLong__f_hi)},Oh.prototype.$less__RTLong__Z=function(e){var t=this.RTLong__f_hi,_=e.RTLong__f_hi;return t===_?(-2147483648^this.RTLong__f_lo)<(-2147483648^e.RTLong__f_lo):t<_},Oh.prototype.$less$eq__RTLong__Z=function(e){var t=this.RTLong__f_hi,_=e.RTLong__f_hi;return t===_?(-2147483648^this.RTLong__f_lo)<=(-2147483648^e.RTLong__f_lo):t<_},Oh.prototype.$greater__RTLong__Z=function(e){var t=this.RTLong__f_hi,_=e.RTLong__f_hi;return t===_?(-2147483648^this.RTLong__f_lo)>(-2147483648^e.RTLong__f_lo):t>_},Oh.prototype.$greater$eq__RTLong__Z=function(e){var t=this.RTLong__f_hi,_=e.RTLong__f_hi;return t===_?(-2147483648^this.RTLong__f_lo)>=(-2147483648^e.RTLong__f_lo):t>_},Oh.prototype.unary_$tilde__RTLong=function(){return new Oh(~this.RTLong__f_lo,~this.RTLong__f_hi)},Oh.prototype.$bar__RTLong__RTLong=function(e){return new Oh(this.RTLong__f_lo|e.RTLong__f_lo,this.RTLong__f_hi|e.RTLong__f_hi)},Oh.prototype.$amp__RTLong__RTLong=function(e){return new Oh(this.RTLong__f_lo&e.RTLong__f_lo,this.RTLong__f_hi&e.RTLong__f_hi)},Oh.prototype.$up__RTLong__RTLong=function(e){return new Oh(this.RTLong__f_lo^e.RTLong__f_lo,this.RTLong__f_hi^e.RTLong__f_hi)},Oh.prototype.$less$less__I__RTLong=function(e){var t=this.RTLong__f_lo;return new Oh(0==(32&e)?t<<e:0,0==(32&e)?(t>>>1|0)>>>(31-e|0)|0|this.RTLong__f_hi<<e:t<<e)},Oh.prototype.$greater$greater$greater__I__RTLong=function(e){var t=this.RTLong__f_hi;return new Oh(0==(32&e)?this.RTLong__f_lo>>>e|0|t<<1<<(31-e|0):t>>>e|0,0==(32&e)?t>>>e|0:0)},Oh.prototype.$greater$greater__I__RTLong=function(e){var t=this.RTLong__f_hi;return new Oh(0==(32&e)?this.RTLong__f_lo>>>e|0|t<<1<<(31-e|0):t>>e,0==(32&e)?t>>e:t>>31)},Oh.prototype.unary_$minus__RTLong=function(){var e=this.RTLong__f_lo,t=this.RTLong__f_hi;return new Oh(0|-e,0!==e?~t:0|-t)},Oh.prototype.$plus__RTLong__RTLong=function(e){var t=this.RTLong__f_lo,_=this.RTLong__f_hi,r=e.RTLong__f_hi,a=t+e.RTLong__f_lo|0;return new Oh(a,(-2147483648^a)<(-2147483648^t)?1+(_+r|0)|0:_+r|0)},Oh.prototype.$minus__RTLong__RTLong=function(e){var t=this.RTLong__f_lo,_=this.RTLong__f_hi,r=e.RTLong__f_hi,a=t-e.RTLong__f_lo|0;return new Oh(a,(-2147483648^a)>(-2147483648^t)?(_-r|0)-1|0:_-r|0)},Oh.prototype.$times__RTLong__RTLong=function(e){var t=this.RTLong__f_lo,_=e.RTLong__f_lo,r=65535&t,a=t>>>16|0,n=65535&_,i=_>>>16|0,s=Math.imul(r,n),o=Math.imul(a,n),c=Math.imul(r,i),l=(s>>>16|0)+c|0;return new Oh(s+((o+c|0)<<16)|0,(((Math.imul(t,e.RTLong__f_hi)+Math.imul(this.RTLong__f_hi,_)|0)+Math.imul(a,i)|0)+(l>>>16|0)|0)+(((65535&l)+o|0)>>>16|0)|0)},Oh.prototype.$div__RTLong__RTLong=function(e){var t=Vh();return new Oh(t.divideImpl__I__I__I__I__I(this.RTLong__f_lo,this.RTLong__f_hi,e.RTLong__f_lo,e.RTLong__f_hi),t.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)},Oh.prototype.$percent__RTLong__RTLong=function(e){var t=Vh();return new Oh(t.remainderImpl__I__I__I__I__I(this.RTLong__f_lo,this.RTLong__f_hi,e.RTLong__f_lo,e.RTLong__f_hi),t.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)};var Th=(new gp).initClass({RTLong:0},!1,"org.scalajs.linker.runtime.RuntimeLong",{RTLong:1,O:1});function Ah(e,t,_){return 0==(-2097152&_)?""+(4294967296*_+np(t>>>0)):CS(Rh(e,t,_,1e9,0,2))}function Rh(e,t,_,r,a,n){for(var i=(0!==a?_p(Math.clz32(a)):32+_p(Math.clz32(r))|0)-(0!==_?_p(Math.clz32(_)):32+_p(Math.clz32(t))|0)|0,s=0==(32&i)?r<<i:0,o=0==(32&i)?(r>>>1|0)>>>(31-i|0)|0|a<<i:r<<i,c=t,l=_,p=0,u=0;i>=0&&0!=(-2097152&l);){if(l===o?(-2147483648^c)>=(-2147483648^s):(-2147483648^l)>=(-2147483648^o)){var f=c,h=f-s|0;c=h,l=(-2147483648^h)>(-2147483648^f)?(l-o|0)-1|0:l-o|0,i<32?p|=1<<i:u|=1<<i}i=-1+i|0,s=s>>>1|0|o<<31,o=o>>>1|0}if(l===a?(-2147483648^c)>=(-2147483648^r):(-2147483648^l)>=(-2147483648^a)){var d=4294967296*l+np(c>>>0),m=4294967296*a+np(r>>>0);if(1!==n){var y=d/m,g=_p(0|y),v=_p(0|y/4294967296),$=p,x=$+g|0;p=x,u=(-2147483648^x)<(-2147483648^$)?1+(u+v|0)|0:u+v|0}if(0!==n){var b=d%m;c=_p(0|b),l=_p(0|b/4294967296)}}if(0===n)return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=u,p;if(1===n)return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=l,c;var I=""+c;return""+(4294967296*u+np(p>>>0))+CS("000000000".substring(I.length))+I}function Dh(){this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0}Oh.prototype.$classData=Th,Dh.prototype=new sp,Dh.prototype.constructor=Dh,Dh.prototype,Dh.prototype.org$scalajs$linker$runtime$RuntimeLong$$toString__I__I__T=function(e,t){return t===e>>31?""+e:t<0?"-"+Ah(this,0|-e,0!==e?~t:0|-t):Ah(this,e,t)},Dh.prototype.org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D=function(e,t){return t<0?-(4294967296*np((0!==e?~t:0|-t)>>>0)+np((0|-e)>>>0)):4294967296*t+np(e>>>0)},Dh.prototype.org$scalajs$linker$runtime$RuntimeLong$$toFloat__I__I__F=function(e,t){if(t<0)var _=0|-e,r=0!==e?~t:0|-t;else _=e,r=t;if(0==(-2097152&r)||0==(65535&_))var a=_;else a=32768|-65536&_;var n=4294967296*np(r>>>0)+np(a>>>0);return Math.fround(t<0?-n:n)},Dh.prototype.fromInt__I__RTLong=function(e){return new Oh(e,e>>31)},Dh.prototype.fromDouble__D__RTLong=function(e){return new Oh(this.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(e),this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)},Dh.prototype.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I=function(e){if(e<-0x8000000000000000)return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=-2147483648,0;if(e>=0x8000000000000000)return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=2147483647,-1;var t=_p(0|e),_=_p(0|e/4294967296);return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=e<0&&0!==t?-1+_|0:_,t},Dh.prototype.org$scalajs$linker$runtime$RuntimeLong$$compare__I__I__I__I__I=function(e,t,_,r){return t===r?e===_?0:(-2147483648^e)<(-2147483648^_)?-1:1:t<r?-1:1},Dh.prototype.divideImpl__I__I__I__I__I=function(e,t,_,r){if(0==(_|r))throw new qb("/ by zero");if(t===e>>31){if(r===_>>31){if(-2147483648===e&&-1===_)return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,-2147483648;var a=ql(e,_);return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=a>>31,a}return-2147483648===e&&-2147483648===_&&0===r?(this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=-1,-1):(this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,0)}if(t<0)var n=0|-e,i=0!==e?~t:0|-t;else n=e,i=t;if(r<0)var s=0|-_,o=0!==_?~r:0|-r;else s=_,o=r;var c=function(e,t,_,r,a){if(0==(-2097152&_)){if(0==(-2097152&a)){var n=(4294967296*_+np(t>>>0))/(4294967296*a+np(r>>>0)),i=n/4294967296;return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=_p(0|i),_p(0|n)}return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,0}if(0===a&&0==(r&(-1+r|0))){var s=31-_p(Math.clz32(r))|0;return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=_>>>s|0,t>>>s|0|_<<1<<(31-s|0)}if(0===r&&0==(a&(-1+a|0))){var o=31-_p(Math.clz32(a))|0;return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,_>>>o|0}return _p(Rh(e,t,_,r,a,0))}(this,n,i,s,o);if((t^r)>=0)return c;var l=this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn;return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0!==c?~l:0|-l,0|-c},Dh.prototype.remainderImpl__I__I__I__I__I=function(e,t,_,r){if(0==(_|r))throw new qb("/ by zero");if(t===e>>31){if(r===_>>31){if(-1!==_){var a=Hl(e,_);return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=a>>31,a}return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,0}return-2147483648===e&&-2147483648===_&&0===r?(this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,0):(this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=t,e)}if(t<0)var n=0|-e,i=0!==e?~t:0|-t;else n=e,i=t;if(r<0)var s=0|-_,o=0!==_?~r:0|-r;else s=_,o=r;var c=function(e,t,_,r,a){if(0==(-2097152&_)){if(0==(-2097152&a)){var n=(4294967296*_+np(t>>>0))%(4294967296*a+np(r>>>0)),i=n/4294967296;return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=_p(0|i),_p(0|n)}return e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=_,t}return 0===a&&0==(r&(-1+r|0))?(e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0,t&(-1+r|0)):0===r&&0==(a&(-1+a|0))?(e.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=_&(-1+a|0),t):_p(Rh(e,t,_,r,a,1))}(this,n,i,s,o);if(t<0){var l=this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn;return this.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn=0!==c?~l:0|-l,0|-c}return c};var Eh,Bh=(new gp).initClass({RTLong$:0},!1,"org.scalajs.linker.runtime.RuntimeLong$",{RTLong$:1,O:1});function Vh(){return Eh||(Eh=new Dh),Eh}function qh(){}function Hh(){}function Ph(){}function jh(){}function Fh(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.F1)}(e)||null===e?e:Sl(e,"scala.Function1")}function zh(){}function kh(){}function Gh(){}Dh.prototype.$classData=Bh,qh.prototype=new sp,qh.prototype.constructor=qh,Hh.prototype=qh.prototype,Ph.prototype=new sp,Ph.prototype.constructor=Ph,jh.prototype=Ph.prototype,zh.prototype=new sp,zh.prototype.constructor=zh,kh.prototype=zh.prototype,zh.prototype.unwrapString__sci_WrappedString__T=function(e){return null!==e?e.sci_WrappedString__f_self:null},Gh.prototype=new sp,Gh.prototype.constructor=Gh,Gh.prototype,Gh.prototype.$plus$extension__O__T__T=function(e,t){return""+e+t};var Nh,Wh=(new gp).initClass({s_Predef$any2stringadd$:0},!1,"scala.Predef$any2stringadd$",{s_Predef$any2stringadd$:1,O:1});function Uh(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenTraversableOnce)}(e)||null===e?e:Sl(e,"scala.collection.GenTraversableOnce")}function Zh(){this.sc_Iterator$__f_empty=null,Xh=this,this.sc_Iterator$__f_empty=new AI}Gh.prototype.$classData=Wh,Zh.prototype=new sp,Zh.prototype.constructor=Zh,Zh.prototype;var Xh,Jh=(new gp).initClass({sc_Iterator$:0},!1,"scala.collection.Iterator$",{sc_Iterator$:1,O:1});function Yh(){return Xh||(Xh=new Zh),Xh}function Qh(){}function Kh(){}function ed(){}function td(){}function _d(){}function rd(){}function ad(e){this.sci_Stream$ConsWrapper__f_tl=null,this.sci_Stream$ConsWrapper__f_tl=e}Zh.prototype.$classData=Jh,Qh.prototype=new sp,Qh.prototype.constructor=Qh,Kh.prototype=Qh.prototype,Qh.prototype.newBuilder__scm_Builder=function(){return new eS(this.empty__sc_GenMap())},ed.prototype=new sp,ed.prototype.constructor=ed,td.prototype=ed.prototype,ed.prototype.empty__sc_GenTraversable=function(){return this===Fw()||this===fw()?CB():iM(this.newBuilder__scm_Builder().result__O())},ed.prototype.apply__sc_Seq__sc_GenTraversable=function(e){if(e.isEmpty__Z())return this.empty__sc_GenTraversable();var t=this.newBuilder__scm_Builder();return t.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e),iM(t.result__O())},_d.prototype=new sp,_d.prototype.constructor=_d,rd.prototype=_d.prototype,ad.prototype=new sp,ad.prototype.constructor=ad,ad.prototype,ad.prototype.$hash$colon$colon__O__sci_Stream=function(e){return new PE(e,this.sci_Stream$ConsWrapper__f_tl)},ad.prototype.$hash$colon$colon$colon__sci_Stream__sci_Stream=function(e){return e.append__F0__sci_Stream(this.sci_Stream$ConsWrapper__f_tl)};var nd=(new gp).initClass({sci_Stream$ConsWrapper:0},!1,"scala.collection.immutable.Stream$ConsWrapper",{sci_Stream$ConsWrapper:1,O:1});function id(e,t){if(this.sci_StreamIterator$LazyCell__f_v=null,this.sci_StreamIterator$LazyCell__f_st=null,this.sci_StreamIterator$LazyCell__f_bitmap$0=!1,this.sci_StreamIterator$LazyCell__f_st=t,null===e)throw null}ad.prototype.$classData=nd,id.prototype=new sp,id.prototype.constructor=id,id.prototype,id.prototype.v__sci_Stream=function(){return this.sci_StreamIterator$LazyCell__f_bitmap$0?this.sci_StreamIterator$LazyCell__f_v:((e=this).sci_StreamIterator$LazyCell__f_bitmap$0||(e.sci_StreamIterator$LazyCell__f_v=xE(e.sci_StreamIterator$LazyCell__f_st.apply__O()),e.sci_StreamIterator$LazyCell__f_bitmap$0=!0),e.sci_StreamIterator$LazyCell__f_st=null,e.sci_StreamIterator$LazyCell__f_v);var e};var sd=(new gp).initClass({sci_StreamIterator$LazyCell:0},!1,"scala.collection.immutable.StreamIterator$LazyCell",{sci_StreamIterator$LazyCell:1,O:1});function od(){}id.prototype.$classData=sd,od.prototype=new sp,od.prototype.constructor=od,od.prototype,od.prototype.slice$extension__T__I__I__T=function(e,t,_){var r=t<0?0:t;if(_<=r||r>=e.length)return"";var a=_>e.length?e.length:_;return r<0&&jl(e,r),a>e.length&&jl(e,a),a<r&&jl(e,-1),CS(e.substring(r,a))},od.prototype.equals$extension__T__O__Z=function(e,t){var _;return t instanceof bR&&e===(null===t?null:(_=t,_ instanceof bR||null===_?_:Sl(_,"scala.collection.immutable.StringOps")).sci_StringOps__f_repr)};var cd,ld=(new gp).initClass({sci_StringOps$:0},!1,"scala.collection.immutable.StringOps$",{sci_StringOps$:1,O:1});function pd(){return cd||(cd=new od),cd}function ud(e,t,_){e.depth_$eq__I__V(_);var r=-1+_|0;switch(r){case-1:break;case 0:e.display0_$eq__AO__V(t.display0__AO());break;case 1:e.display1_$eq__AO__V(t.display1__AO()),e.display0_$eq__AO__V(t.display0__AO());break;case 2:e.display2_$eq__AO__V(t.display2__AO()),e.display1_$eq__AO__V(t.display1__AO()),e.display0_$eq__AO__V(t.display0__AO());break;case 3:e.display3_$eq__AO__V(t.display3__AO()),e.display2_$eq__AO__V(t.display2__AO()),e.display1_$eq__AO__V(t.display1__AO()),e.display0_$eq__AO__V(t.display0__AO());break;case 4:e.display4_$eq__AO__V(t.display4__AO()),e.display3_$eq__AO__V(t.display3__AO()),e.display2_$eq__AO__V(t.display2__AO()),e.display1_$eq__AO__V(t.display1__AO()),e.display0_$eq__AO__V(t.display0__AO());break;case 5:e.display5_$eq__AO__V(t.display5__AO()),e.display4_$eq__AO__V(t.display4__AO()),e.display3_$eq__AO__V(t.display3__AO()),e.display2_$eq__AO__V(t.display2__AO()),e.display1_$eq__AO__V(t.display1__AO()),e.display0_$eq__AO__V(t.display0__AO());break;default:throw new yI(r)}}function fd(e,t,_){if(_>=32)if(_<1024)e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1));else if(_<32768)e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(t>>>10|0)),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1));else if(_<1048576)e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(t>>>15|0)),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(t>>>10|0)),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1));else if(_<33554432)e.display3_$eq__AO__V(vp(e.display4__AO().get(31&(t>>>20|0)),1)),e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(t>>>15|0)),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(t>>>10|0)),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1));else{if(!(_<1073741824))throw Wb(new Ub);e.display4_$eq__AO__V(vp(e.display5__AO().get(31&(t>>>25|0)),1)),e.display3_$eq__AO__V(vp(e.display4__AO().get(31&(t>>>20|0)),1)),e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(t>>>15|0)),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(t>>>10|0)),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1))}}function hd(e,t){var _=new op(t.u.length);return kl(t,0,_,0,t.u.length),_}function dd(e,t,_){var r=t.get(_);return t.set(_,null),hd(0,vp(r,1))}function md(e,t){var _=-1+e.depth__I()|0;switch(_){case 5:var r=e.display5__AO();e.display5_$eq__AO__V(hd(0,r));var a=e.display4__AO();e.display4_$eq__AO__V(hd(0,a));var n=e.display3__AO();e.display3_$eq__AO__V(hd(0,n));var i=e.display2__AO();e.display2_$eq__AO__V(hd(0,i));var s=e.display1__AO();e.display1_$eq__AO__V(hd(0,s)),e.display5__AO().set(31&(t>>>25|0),e.display4__AO()),e.display4__AO().set(31&(t>>>20|0),e.display3__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());break;case 4:var o=e.display4__AO();e.display4_$eq__AO__V(hd(0,o));var c=e.display3__AO();e.display3_$eq__AO__V(hd(0,c));var l=e.display2__AO();e.display2_$eq__AO__V(hd(0,l));var p=e.display1__AO();e.display1_$eq__AO__V(hd(0,p)),e.display4__AO().set(31&(t>>>20|0),e.display3__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());break;case 3:var u=e.display3__AO();e.display3_$eq__AO__V(hd(0,u));var f=e.display2__AO();e.display2_$eq__AO__V(hd(0,f));var h=e.display1__AO();e.display1_$eq__AO__V(hd(0,h)),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());break;case 2:var d=e.display2__AO();e.display2_$eq__AO__V(hd(0,d));var m=e.display1__AO();e.display1_$eq__AO__V(hd(0,m)),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());break;case 1:var y=e.display1__AO();e.display1_$eq__AO__V(hd(0,y)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());break;case 0:break;default:throw new yI(_)}}function yd(e,t,_,r){var a=new op(32);return kl(t,_,a,r,32-(r>_?r:_)|0),a}function gd(e,t,_,r){if(r>=32)if(r<1024)1===e.depth__I()&&(e.display1_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32));else if(r<32768)2===e.depth__I()&&(e.display2_$eq__AO__V(new op(32)),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(_>>>10|0)),1)),null===e.display1__AO()&&e.display1_$eq__AO__V(new op(32)),e.display0_$eq__AO__V(new op(32));else if(r<1048576)3===e.depth__I()&&(e.display3_$eq__AO__V(new op(32)),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(_>>>15|0)),1)),null===e.display2__AO()&&e.display2_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(_>>>10|0)),1)),null===e.display1__AO()&&e.display1_$eq__AO__V(new op(32)),e.display0_$eq__AO__V(new op(32));else if(r<33554432)4===e.depth__I()&&(e.display4_$eq__AO__V(new op(32)),e.display4__AO().set(31&(t>>>20|0),e.display3__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display3_$eq__AO__V(vp(e.display4__AO().get(31&(_>>>20|0)),1)),null===e.display3__AO()&&e.display3_$eq__AO__V(new op(32)),e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(_>>>15|0)),1)),null===e.display2__AO()&&e.display2_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(_>>>10|0)),1)),null===e.display1__AO()&&e.display1_$eq__AO__V(new op(32)),e.display0_$eq__AO__V(new op(32));else{if(!(r<1073741824))throw Wb(new Ub);5===e.depth__I()&&(e.display5_$eq__AO__V(new op(32)),e.display5__AO().set(31&(t>>>25|0),e.display4__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display4_$eq__AO__V(vp(e.display5__AO().get(31&(_>>>25|0)),1)),null===e.display4__AO()&&e.display4_$eq__AO__V(new op(32)),e.display3_$eq__AO__V(vp(e.display4__AO().get(31&(_>>>20|0)),1)),null===e.display3__AO()&&e.display3_$eq__AO__V(new op(32)),e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(_>>>15|0)),1)),null===e.display2__AO()&&e.display2_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(_>>>10|0)),1)),null===e.display1__AO()&&e.display1_$eq__AO__V(new op(32)),e.display0_$eq__AO__V(new op(32))}}function vd(){$d=this,new Ag}od.prototype.$classData=ld,vd.prototype=new sp,vd.prototype.constructor=vd,vd.prototype,vd.prototype.newBuilder__scm_Builder=function(){return new kL(vV(new $V),new k$((e=>new nB(CS(e)))))};var $d,xd=(new gp).initClass({sci_WrappedString$:0},!1,"scala.collection.immutable.WrappedString$",{sci_WrappedString$:1,O:1});function bd(){return $d||($d=new vd),$d}function Id(){}vd.prototype.$classData=xd,Id.prototype=new sp,Id.prototype.constructor=Id,Id.prototype,Id.prototype.equals$extension__AO__O__Z=function(e,t){var _;return t instanceof SR&&e===(null===t?null:(_=t,_ instanceof SR||null===_?_:Sl(_,"scala.collection.mutable.ArrayOps$ofRef")).scm_ArrayOps$ofRef__f_repr)};var Ld,Sd=(new gp).initClass({scm_ArrayOps$ofRef$:0},!1,"scala.collection.mutable.ArrayOps$ofRef$",{scm_ArrayOps$ofRef$:1,O:1});Id.prototype.$classData=Sd;var Md=(new gp).initClass({scm_HashEntry:0},!0,"scala.collection.mutable.HashEntry",{scm_HashEntry:1,O:1});function wd(){}wd.prototype=new sp,wd.prototype.constructor=wd,wd.prototype,wd.prototype.newThreshold__I__I__I=function(e,t){var _=t>>31,r=e>>31,a=65535&t,n=t>>>16|0,i=65535&e,s=e>>>16|0,o=Math.imul(a,i),c=Math.imul(n,i),l=Math.imul(a,s),p=o+((c+l|0)<<16)|0,u=(o>>>16|0)+l|0,f=(((Math.imul(t,r)+Math.imul(_,e)|0)+Math.imul(n,s)|0)+(u>>>16|0)|0)+(((65535&u)+c|0)>>>16|0)|0;return Vh().divideImpl__I__I__I__I__I(p,f,1e3,0)},wd.prototype.nextPositivePowerOfTwo__I__I=function(e){var t=-1+e|0;return 1<<(0|-_p(Math.clz32(t)))};var Od,Cd=(new gp).initClass({scm_HashTable$:0},!1,"scala.collection.mutable.HashTable$",{scm_HashTable$:1,O:1});function Td(){return Od||(Od=new wd),Od}function Ad(){Rd=this,new sV(new op(0)),new Pg,new kg,new Ng,new Ug,new Xg,new Yg,new Kg,new tv,new rv,new Fg(MA())}wd.prototype.$classData=Cd,Ad.prototype=new sp,Ad.prototype.constructor=Ad,Ad.prototype,Ad.prototype.make__O__scm_WrappedArray=function(e){if(null===e)return null;if(e instanceof op)return new sV(vp(e,1));if(e instanceof hp)return new tV(Lp(e,1));if(e instanceof yp)return new XB(wp(e,1));if(e instanceof dp)return new aV(Sp(e,1));if(e instanceof mp)return new QB(Mp(e,1));if(e instanceof pp)return new WB(xp(e,1));if(e instanceof up)return new kB(bp(e,1));if(e instanceof fp)return new cV(Ip(e,1));if(e instanceof lp)return new jB($p(e,1));if(Ef(e,1))return new uV(Bf(e,1));throw new yI(e)};var Rd,Dd=(new gp).initClass({scm_WrappedArray$:0},!1,"scala.collection.mutable.WrappedArray$",{scm_WrappedArray$:1,O:1});function Ed(){return Rd||(Rd=new Ad),Rd}function Bd(){this.s_package$__f_Vector=null,Vd=this,new nv,XI||(XI=new ZI),OI(),fw(),fO(),Yh(),eT(),lT(),this.s_package$__f_Vector=oA(),db||(db=new hb)}Ad.prototype.$classData=Dd,Bd.prototype=new sp,Bd.prototype.constructor=Bd,Bd.prototype;var Vd,qd=(new gp).initClass({s_package$:0},!1,"scala.package$",{s_package$:1,O:1});function Hd(){return Vd||(Vd=new Bd),Vd}function Pd(){jd=this,lA||(lA=new cA),MA(),fA||(fA=new uA),gA(),bA()}Bd.prototype.$classData=qd,Pd.prototype=new sp,Pd.prototype.constructor=Pd,Pd.prototype;var jd,Fd=(new gp).initClass({s_reflect_ClassManifestFactory$:0},!1,"scala.reflect.ClassManifestFactory$",{s_reflect_ClassManifestFactory$:1,O:1});function zd(){}Pd.prototype.$classData=Fd,zd.prototype=new sp,zd.prototype.constructor=zd,zd.prototype;var kd,Gd=(new gp).initClass({s_reflect_ManifestFactory$:0},!1,"scala.reflect.ManifestFactory$",{s_reflect_ManifestFactory$:1,O:1});function Nd(){this.s_reflect_package$__f_ClassManifest=null,this.s_reflect_package$__f_Manifest=null,Wd=this,this.s_reflect_package$__f_ClassManifest=(jd||(jd=new Pd),jd),this.s_reflect_package$__f_Manifest=(kd||(kd=new zd),kd)}zd.prototype.$classData=Gd,Nd.prototype=new sp,Nd.prototype.constructor=Nd,Nd.prototype;var Wd,Ud=(new gp).initClass({s_reflect_package$:0},!1,"scala.reflect.package$",{s_reflect_package$:1,O:1});function Zd(){return Wd||(Wd=new Nd),Wd}function Xd(){}Nd.prototype.$classData=Ud,Xd.prototype=new sp,Xd.prototype.constructor=Xd,Xd.prototype,Xd.prototype.equals__O__O__Z=function(e,t){if(e===t)return!0;if(Oy(e)){var _=Cy(e);return this.equalsNumObject__jl_Number__O__Z(_,t)}if(e instanceof Il){var r=cx(e);return this.equalsCharObject__jl_Character__O__Z(r,t)}return null===e?null===t:El(e,t)},Xd.prototype.equalsNumObject__jl_Number__O__Z=function(e,t){if(Oy(t)){var _=Cy(t);return this.equalsNumNum__jl_Number__jl_Number__Z(e,_)}if(t instanceof Il){var r=cx(t);if("number"==typeof e)return np(e)===Kl(r);if(e instanceof Oh){var a=rp(e),n=a.RTLong__f_lo,i=a.RTLong__f_hi,s=Kl(r);return n===s&&i===s>>31}return null===e?null===r:El(e,r)}return null===e?null===t:El(e,t)},Xd.prototype.equalsNumNum__jl_Number__jl_Number__Z=function(e,t){if("number"==typeof e){var _=np(e);if("number"==typeof t)return _===np(t);if(t instanceof Oh){var r=rp(t),a=r.RTLong__f_lo,n=r.RTLong__f_hi;return _===Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(a,n)}return!1}if(e instanceof Oh){var i=rp(e),s=i.RTLong__f_lo,o=i.RTLong__f_hi;if(t instanceof Oh){var c=rp(t),l=c.RTLong__f_lo,p=c.RTLong__f_hi;return s===l&&o===p}if("number"==typeof t){var u=np(t);return Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(s,o)===u}return!1}return null===e?null===t:El(e,t)},Xd.prototype.equalsCharObject__jl_Character__O__Z=function(e,t){if(t instanceof Il){var _=cx(t);return Kl(e)===Kl(_)}if(Oy(t)){var r=Cy(t);if("number"==typeof r)return np(r)===Kl(e);if(r instanceof Oh){var a=rp(r),n=a.RTLong__f_lo,i=a.RTLong__f_hi,s=Kl(e);return n===s&&i===s>>31}return null===r?null===e:El(r,e)}return null===e&&null===t};var Jd,Yd=(new gp).initClass({sr_BoxesRunTime$:0},!1,"scala.runtime.BoxesRunTime$",{sr_BoxesRunTime$:1,O:1});function Qd(){return Jd||(Jd=new Xd),Jd}Xd.prototype.$classData=Yd;var Kd=(new gp).initClass({sr_Null$:0},!1,"scala.runtime.Null$",{sr_Null$:1,O:1});function em(){}em.prototype=new sp,em.prototype.constructor=em,em.prototype,em.prototype.array_apply__O__I__O=function(e,t){if(e instanceof op)return vp(e,1).get(t);if(e instanceof hp)return Lp(e,1).get(t);if(e instanceof yp)return wp(e,1).get(t);if(e instanceof dp)return Sp(e,1).get(t);if(e instanceof mp)return Mp(e,1).get(t);if(e instanceof pp)return Yl(xp(e,1).get(t));if(e instanceof up)return bp(e,1).get(t);if(e instanceof fp)return Ip(e,1).get(t);if(e instanceof lp)return $p(e,1).get(t);throw null===e?new aI:new yI(e)},em.prototype.array_update__O__I__O__V=function(e,t,_){if(e instanceof op)vp(e,1).set(t,_);else if(e instanceof hp)Lp(e,1).set(t,_p(_));else if(e instanceof yp)wp(e,1).set(t,np(_));else if(e instanceof dp)Sp(e,1).set(t,rp(_));else if(e instanceof mp)Mp(e,1).set(t,ap(_));else if(e instanceof pp)xp(e,1).set(t,Kl(_));else if(e instanceof up)bp(e,1).set(t,ep(_));else if(e instanceof fp)Ip(e,1).set(t,tp(_));else{if(!(e instanceof lp))throw null===e?new aI:new yI(e);$p(e,1).set(t,Ql(_))}},em.prototype.array_length__O__I=function(e){if(e instanceof op)return vp(e,1).u.length;if(e instanceof hp)return Lp(e,1).u.length;if(e instanceof yp)return wp(e,1).u.length;if(e instanceof dp)return Sp(e,1).u.length;if(e instanceof mp)return Mp(e,1).u.length;if(e instanceof pp)return xp(e,1).u.length;if(e instanceof up)return bp(e,1).u.length;if(e instanceof fp)return Ip(e,1).u.length;if(e instanceof lp)return $p(e,1).u.length;throw null===e?new aI:new yI(e)},em.prototype._toString__s_Product__T=function(e){return _g(e.productIterator__sc_Iterator(),e.productPrefix__T()+"(",",",")")};var tm,_m=(new gp).initClass({sr_ScalaRunTime$:0},!1,"scala.runtime.ScalaRunTime$",{sr_ScalaRunTime$:1,O:1});function rm(){return tm||(tm=new em),tm}function am(){}em.prototype.$classData=_m,am.prototype=new sp,am.prototype.constructor=am,am.prototype,am.prototype.longHash__J__I=function(e){var t=e.RTLong__f_lo,_=e.RTLong__f_hi;return _===t>>31?t:t^_},am.prototype.doubleHash__D__I=function(e){var t=Pl(e);if(t===e)return t;var _=Vh(),r=_.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(e),a=_.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn;return Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(r,a)===e?r^a:Lf().numberHashCode__D__I(e)},am.prototype.anyHash__O__I=function(e){if(null===e)return 0;if("number"==typeof e){var t=np(e);return this.doubleHash__D__I(t)}if(e instanceof Oh){var _=rp(e),r=_.RTLong__f_lo,a=_.RTLong__f_hi;return this.longHash__J__I(new Oh(r,a))}return Bl(e)};var nm,im=(new gp).initClass({sr_Statics$:0},!1,"scala.runtime.Statics$",{sr_Statics$:1,O:1});function sm(){return nm||(nm=new am),nm}function om(){}am.prototype.$classData=im,om.prototype=new sp,om.prototype.constructor=om,om.prototype,om.prototype.toJSArray$extension__sc_GenTraversableOnce__sjs_js_Array=function(e){if(e instanceof IV){var t=(_=e)instanceof IV||null===_?_:Sl(_,"scala.scalajs.js.WrappedArray");return aO(),t.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array}var _,r=[];return e.foreach__F1__V(new k$((e=>_p(r.push(e))))),r};var cm,lm=(new gp).initClass({sjs_js_JSConverters$JSRichGenTraversableOnce$:0},!1,"scala.scalajs.js.JSConverters$JSRichGenTraversableOnce$",{sjs_js_JSConverters$JSRichGenTraversableOnce$:1,O:1});function pm(){return cm||(cm=new om),cm}function um(){}om.prototype.$classData=lm,um.prototype=new sp,um.prototype.constructor=um,um.prototype,um.prototype.error__T__E=function(e){throw Ey(t=new px,e,0,0,!0),t;var t};var fm,hm=(new gp).initClass({s_sys_package$:0},!1,"scala.sys.package$",{s_sys_package$:1,O:1});function dm(e){this.s_util_DynamicVariable__f_v=null,this.s_util_DynamicVariable__f_v=e}um.prototype.$classData=hm,dm.prototype=new sp,dm.prototype.constructor=dm,dm.prototype,dm.prototype.toString__T=function(){return"DynamicVariable("+this.s_util_DynamicVariable__f_v+")"};var mm=(new gp).initClass({s_util_DynamicVariable:0},!1,"scala.util.DynamicVariable",{s_util_DynamicVariable:1,O:1});function ym(){new lS}dm.prototype.$classData=mm,ym.prototype=new sp,ym.prototype.constructor=ym,ym.prototype;var gm=(new gp).initClass({s_util_control_Breaks:0},!1,"scala.util.control.Breaks",{s_util_control_Breaks:1,O:1});function vm(){}function $m(){}function xm(){}ym.prototype.$classData=gm,vm.prototype=new sp,vm.prototype.constructor=vm,$m.prototype=vm.prototype,vm.prototype.mix__I__I__I=function(e,t){var _=this.mixLast__I__I__I(e,t);return _=_<<13|_>>>19|0,-430675100+Math.imul(5,_)|0},vm.prototype.mixLast__I__I__I=function(e,t){var _=t;return _=(_=Math.imul(-862048943,_))<<15|_>>>17|0,e^Math.imul(461845907,_)},vm.prototype.finalizeHash__I__I__I=function(e,t){return function(e,t){var _=t;return _^=_>>>16|0,_=Math.imul(-2048144789,_),_^=_>>>13|0,(_=Math.imul(-1028477387,_))^(_>>>16|0)}(0,e^t)},vm.prototype.product2Hash__O__O__I__I=function(e,t,_){var r=_;return r=this.mix__I__I__I(r,sm().anyHash__O__I(e)),r=this.mix__I__I__I(r,sm().anyHash__O__I(t)),this.finalizeHash__I__I__I(r,2)},vm.prototype.productHash__s_Product__I__I=function(e,t){var _=e.productArity__I();if(0===_)return wS(e.productPrefix__T());for(var r=t,a=0;a<_;){var n=r,i=e.productElement__I__O(a);r=this.mix__I__I__I(n,sm().anyHash__O__I(i)),a=1+a|0}return this.finalizeHash__I__I__I(r,_)},vm.prototype.unorderedHash__sc_TraversableOnce__I__I=function(e,t){if(e.isEmpty__Z()){var _=t;return _=this.mix__I__I__I(_,0),_=this.mix__I__I__I(_,0),_=this.mixLast__I__I__I(_,1),this.finalizeHash__I__I__I(_,0)}var r=new J$(this);e.foreach__F1__V(r);var a=t;return a=this.mix__I__I__I(a,r.s_util_hashing_MurmurHash3$hasher$1__f_a),a=this.mix__I__I__I(a,r.s_util_hashing_MurmurHash3$hasher$1__f_b),a=this.mixLast__I__I__I(a,r.s_util_hashing_MurmurHash3$hasher$1__f_c),this.finalizeHash__I__I__I(a,r.s_util_hashing_MurmurHash3$hasher$1__f_n)},vm.prototype.orderedHash__sc_TraversableOnce__I__I=function(e,t){if(e.isEmpty__Z())return this.finalizeHash__I__I__I(t,0);var _=new Q$(this,t);return e.foreach__F1__V(_),this.finalizeHash__I__I__I(_.s_util_hashing_MurmurHash3$hasher$2__f_h,_.s_util_hashing_MurmurHash3$hasher$2__f_n)},vm.prototype.arrayHash__O__I__I=function(e,t){for(var _=t,r=0;r<rm().array_length__O__I(e);){var a=_,n=rm().array_apply__O__I__O(e,r);_=this.mix__I__I__I(a,sm().anyHash__O__I(n)),r=1+r|0}return this.finalizeHash__I__I__I(_,rm().array_length__O__I(e))},vm.prototype.listHash__sci_List__I__I=function(e,t){for(var _=0,r=t,a=e;!a.isEmpty__Z();){var n=a.head__O(),i=CE(a.tail__O());r=this.mix__I__I__I(r,sm().anyHash__O__I(n)),_=1+_|0,a=i}return this.finalizeHash__I__I__I(r,_)},vm.prototype.arrayHash$mZc$sp__AZ__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,e.get(r)?1231:1237),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mBc$sp__AB__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,e.get(r)),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mCc$sp__AC__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,e.get(r)),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mDc$sp__AD__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;){var a=_,n=e.get(r);_=this.mix__I__I__I(a,sm().doubleHash__D__I(n)),r=1+r|0}return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mFc$sp__AF__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;){var a=_,n=e.get(r),i=sm();_=this.mix__I__I__I(a,i.doubleHash__D__I(n)),r=1+r|0}return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mIc$sp__AI__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,e.get(r)),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mJc$sp__AJ__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;){var a=_,n=e.get(r),i=n.RTLong__f_lo,s=n.RTLong__f_hi;_=this.mix__I__I__I(a,sm().longHash__J__I(new Oh(i,s))),r=1+r|0}return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mSc$sp__AS__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,e.get(r)),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},vm.prototype.arrayHash$mVc$sp__Ajl_Void__I__I=function(e,t){for(var _=t,r=0;r<e.u.length;)_=this.mix__I__I__I(_,0),r=1+r|0;return this.finalizeHash__I__I__I(_,e.u.length)},xm.prototype=new sp,xm.prototype.constructor=xm,xm.prototype,xm.prototype.byteswap32__I__I=function(e){var t=Math.imul(-1640532531,e),_=t;return t=by().reverseBytes__I__I(_),Math.imul(-1640532531,t)};var bm,Im=(new gp).initClass({s_util_hashing_package$:0},!1,"scala.util.hashing.package$",{s_util_hashing_package$:1,O:1});function Lm(e,t,_,r,a,n,i,s,o,c,l,p,u){this.Lcfx70_cfpl_core_BrunchCC__f_d1=0,this.Lcfx70_cfpl_core_BrunchCC__f_d2=0,this.Lcfx70_cfpl_core_BrunchCC__f_h1=0,this.Lcfx70_cfpl_core_BrunchCC__f_d4=0,this.Lcfx70_cfpl_core_BrunchCC__f_ang=0,this.Lcfx70_cfpl_core_BrunchCC__f_angr=0,this.Lcfx70_cfpl_core_BrunchCC__f_fcb=null,this.Lcfx70_cfpl_core_BrunchCC__f_fct=null,this.Lcfx70_cfpl_core_BrunchCC__f_cns=null,this.Lcfx70_cfpl_core_BrunchCC__f_h0=0,this.Lcfx70_cfpl_core_BrunchCC__f_b0=0,this.Lcfx70_cfpl_core_BrunchCC__f_b=0,this.Lcfx70_cfpl_core_BrunchCC__f_dv=null,this.Lcfx70_cfpl_core_BrunchCC__f_cnv=null,this.Lcfx70_cfpl_core_BrunchCC__f_fcv=null,this.Lcfx70_cfpl_core_BrunchCC__f_gb=null,this.Lcfx70_cfpl_core_BrunchCC__f_gt=null,this.Lcfx70_cfpl_core_BrunchCC__f_gv=null,this.Lcfx70_cfpl_core_BrunchCC__f_gcns=null,this.Lcfx70_cfpl_core_BrunchCC__f_gcnv=null,this.Lcfx70_cfpl_core_BrunchCC__f_meshes=null,this.Lcfx70_cfpl_core_BrunchCC__f_d1=e,this.Lcfx70_cfpl_core_BrunchCC__f_d2=t,this.Lcfx70_cfpl_core_BrunchCC__f_h1=_,this.Lcfx70_cfpl_core_BrunchCC__f_d4=n,this.Lcfx70_cfpl_core_BrunchCC__f_ang=o,this.Lcfx70_cfpl_core_BrunchCC__f_angr=.017453292519943295*o,this.Lcfx70_cfpl_core_BrunchCC__f_fcb=new hS(e,l,0,6.283185307179586);var f=new hS(t,p,0,6.283185307179586),h=[-r,0,_-p],d=bV(new IV,h),m=pf(new uf,d);this.Lcfx70_cfpl_core_BrunchCC__f_fct=dS(uu(f,m));var y=Lb(new Sb,e,t,_-l-p,-r,6.283185307179586),g=[0,0,l],v=bV(new IV,g),$=pf(new uf,v);this.Lcfx70_cfpl_core_BrunchCC__f_cns=wb(uu(y,$)),this.Lcfx70_cfpl_core_BrunchCC__f_h0=_-l-p,this.Lcfx70_cfpl_core_BrunchCC__f_b0=e/2-(t/2-r),this.Lcfx70_cfpl_core_BrunchCC__f_b=this.Lcfx70_cfpl_core_BrunchCC__f_b0*c/this.Lcfx70_cfpl_core_BrunchCC__f_h0;var x=this.Lcfx70_cfpl_core_BrunchCC__f_b,b=this.Lcfx70_cfpl_core_BrunchCC__f_angr,I=np(Math.sin(b)),L=this.Lcfx70_cfpl_core_BrunchCC__f_h0,S=this.Lcfx70_cfpl_core_BrunchCC__f_angr,M=[t/2-r+x+a/2*I,0,l+L-c-a/2*np(Math.cos(S))],w=bV(new IV,M);this.Lcfx70_cfpl_core_BrunchCC__f_dv=pf(new uf,w);var O=Lb(new Sb,a,n,i-u,s,6.283185307179586),C=this.Lcfx70_cfpl_core_BrunchCC__f_angr,T=bV(new IV,[0,1,0]),A=pu(O,C,pf(new uf,T)),R=this.Lcfx70_cfpl_core_BrunchCC__f_dv;this.Lcfx70_cfpl_core_BrunchCC__f_cnv=wb(uu(A,R)).cut__Lcfx70_cfpl_core_LineIntersectable__Lcfx70_cfpl_core_BCone(this.Lcfx70_cfpl_core_BrunchCC__f_cns);var D=new hS(n,u,0,6.283185307179586),E=[s,0,0],B=bV(new IV,E),V=uu(D,pf(new uf,B)),q=this.Lcfx70_cfpl_core_BrunchCC__f_angr,H=bV(new IV,[0,1,0]),P=pu(V,q,pf(new uf,H)),j=this.Lcfx70_cfpl_core_BrunchCC__f_dv,F=this.Lcfx70_cfpl_core_BrunchCC__f_angr,z=np(Math.cos(F)),k=this.Lcfx70_cfpl_core_BrunchCC__f_angr,G=[(i-u)*z,0,(i-u)*np(Math.sin(k))],N=bV(new IV,G),W=j.$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(pf(new uf,N));this.Lcfx70_cfpl_core_BrunchCC__f_fcv=dS(uu(P,W)),this.Lcfx70_cfpl_core_BrunchCC__f_gb=this.Lcfx70_cfpl_core_BrunchCC__f_fcb.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),this.Lcfx70_cfpl_core_BrunchCC__f_gt=this.Lcfx70_cfpl_core_BrunchCC__f_fct.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),this.Lcfx70_cfpl_core_BrunchCC__f_gv=this.Lcfx70_cfpl_core_BrunchCC__f_fcv.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),this.Lcfx70_cfpl_core_BrunchCC__f_gcns=this.Lcfx70_cfpl_core_BrunchCC__f_cns.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),this.Lcfx70_cfpl_core_BrunchCC__f_gcnv=this.Lcfx70_cfpl_core_BrunchCC__f_cnv.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry();var U=new Yr(this.Lcfx70_cfpl_core_BrunchCC__f_gb,lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial),Z=new Yr(this.Lcfx70_cfpl_core_BrunchCC__f_gt,lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial),X=new Yr(this.Lcfx70_cfpl_core_BrunchCC__f_gv,lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial),J=new Yr(this.Lcfx70_cfpl_core_BrunchCC__f_gcns,lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial),Y=new Yr(this.Lcfx70_cfpl_core_BrunchCC__f_gcnv,lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial),Q=new nr;Q.add(U),Q.add(Z),Q.add(X),Q.add(J),Q.add(Y),this.Lcfx70_cfpl_core_BrunchCC__f_meshes=Q}xm.prototype.$classData=Im,Lm.prototype=new iu,Lm.prototype.constructor=Lm,Lm.prototype,Lm.prototype.description__T__T=function(e){return" &Oslash;"+this.Lcfx70_cfpl_core_BrunchCC__f_d1+" &minus; &Oslash;"+this.Lcfx70_cfpl_core_BrunchCC__f_d2+" &minus; &Oslash;"+this.Lcfx70_cfpl_core_BrunchCC__f_d4+" &lt;"+this.Lcfx70_cfpl_core_BrunchCC__f_ang+"&deg; l="+this.Lcfx70_cfpl_core_BrunchCC__f_h1},Lm.prototype.meshes__Lcfx70_threejsfacade_THREE$Object3D=function(){return this.Lcfx70_cfpl_core_BrunchCC__f_meshes};var Sm=(new gp).initClass({Lcfx70_cfpl_core_BrunchCC:0},!1,"cfx70.cfpl.core.BrunchCC",{Lcfx70_cfpl_core_BrunchCC:1,Lcfx70_cfpl_core_Model:1,O:1});function Mm(e,t){this.Lcfx70_cfpl_core_Plane3__f_n=null,this.Lcfx70_cfpl_core_Plane3__f_p=0,this.Lcfx70_cfpl_core_Plane3__f_n=e,this.Lcfx70_cfpl_core_Plane3__f_p=t}Lm.prototype.$classData=Sm,Mm.prototype=new sp,Mm.prototype.constructor=Mm,Mm.prototype,Mm.prototype.parallel__Lcfx70_cfpl_core_Line3__Z=function(e){var t=this.Lcfx70_cfpl_core_Plane3__f_n,_=e.Lcfx70_cfpl_core_Line3__f_v;return t.dotProd__Lcfx70_vecquat_Vec__D(_)<gf().Lcfx70_vecquat_package$__f_epsilon},Mm.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){if(this.parallel__Lcfx70_cfpl_core_Line3__Z(e))return kS();var t=this.Lcfx70_cfpl_core_Plane3__f_p,_=this.Lcfx70_cfpl_core_Plane3__f_n,r=e.Lcfx70_cfpl_core_Line3__f_p1,a=_.dotProd__Lcfx70_vecquat_Vec__D(r),n=this.Lcfx70_cfpl_core_Plane3__f_n,i=e.Lcfx70_cfpl_core_Line3__f_p2.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(e.Lcfx70_cfpl_core_Line3__f_p1),s=-(t+a)/n.dotProd__Lcfx70_vecquat_Vec__D(i);return new GS(e.point__D__Lcfx70_vecquat_Vec(s))},Mm.prototype.intersectXY__s_Option=function(){var e=this.Lcfx70_cfpl_core_Plane3__f_n,t=bV(new IV,[0,0,1]),_=pf(new uf,t),r=e.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_);if(r.norm__D()<gf().Lcfx70_vecquat_package$__f_epsilon)return kS();if(np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>gf().Lcfx70_vecquat_package$__f_epsilon){var a=[-this.Lcfx70_cfpl_core_Plane3__f_p/np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),0,0],n=bV(new IV,a),i=pf(new uf,n),s=[-this.Lcfx70_cfpl_core_Plane3__f_p/np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],o=bV(new IV,s);return new GS(new Mv(i,pf(new uf,o)))}if(np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>gf().Lcfx70_vecquat_package$__f_epsilon){var c=[0,-this.Lcfx70_cfpl_core_Plane3__f_p/np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),0],l=bV(new IV,c),p=pf(new uf,l),u=[np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-this.Lcfx70_cfpl_core_Plane3__f_p/np(this.Lcfx70_cfpl_core_Plane3__f_n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(2))],f=bV(new IV,u);return new GS(new Mv(p,pf(new uf,f)))}return kS()},Mm.prototype.toString__T=function(){return"Plane3 ("+this.Lcfx70_cfpl_core_Plane3__f_n+" "+this.Lcfx70_cfpl_core_Plane3__f_p+")"};var wm=(new gp).initClass({Lcfx70_cfpl_core_Plane3:0},!1,"cfx70.cfpl.core.Plane3",{Lcfx70_cfpl_core_Plane3:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1});function Om(e,t,_,r,a,n){this.Lcfx70_cfpl_core_RedCC__f_d1=0,this.Lcfx70_cfpl_core_RedCC__f_d2=0,this.Lcfx70_cfpl_core_RedCC__f_h=0,this.Lcfx70_cfpl_core_RedCC__f_fcb=null,this.Lcfx70_cfpl_core_RedCC__f_fct=null,this.Lcfx70_cfpl_core_RedCC__f_cn=null,this.Lcfx70_cfpl_core_RedCC__f_meshes=null,this.Lcfx70_cfpl_core_RedCC__f_d1=e,this.Lcfx70_cfpl_core_RedCC__f_d2=t,this.Lcfx70_cfpl_core_RedCC__f_h=r,this.Lcfx70_cfpl_core_RedCC__f_fcb=new hS(e,a,0,6.283185307179586);var i=new hS(t,n,0,6.283185307179586),s=[_,0,r-n],o=bV(new IV,s),c=pf(new uf,o);this.Lcfx70_cfpl_core_RedCC__f_fct=dS(uu(i,c));var l=Lb(new Sb,e,t,r-a-n,_,6.283185307179586),p=[0,0,a],u=bV(new IV,p),f=pf(new uf,u);this.Lcfx70_cfpl_core_RedCC__f_cn=wb(uu(l,f)),lu();for(var h=lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial,d=[this.Lcfx70_cfpl_core_RedCC__f_fcb,this.Lcfx70_cfpl_core_RedCC__f_fct,this.Lcfx70_cfpl_core_RedCC__f_cn],m=new nr,y=0,g=_p(d.length);y<g;){var v=jp(d[y]);m.add(new Yr(v.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),h)),y=1+y|0}this.Lcfx70_cfpl_core_RedCC__f_meshes=m}function Cm(e){return e instanceof Om||null===e?e:Sl(e,"cfx70.cfpl.core.RedCC")}Mm.prototype.$classData=wm,Om.prototype=new iu,Om.prototype.constructor=Om,Om.prototype,Om.prototype.description__T__T=function(e){return" &Oslash;"+this.Lcfx70_cfpl_core_RedCC__f_d1+" &minus; &Oslash;"+this.Lcfx70_cfpl_core_RedCC__f_d2+" l="+this.Lcfx70_cfpl_core_RedCC__f_h},Om.prototype.meshes__Lcfx70_threejsfacade_THREE$Object3D=function(){return this.Lcfx70_cfpl_core_RedCC__f_meshes};var Tm=(new gp).initClass({Lcfx70_cfpl_core_RedCC:0},!1,"cfx70.cfpl.core.RedCC",{Lcfx70_cfpl_core_RedCC:1,Lcfx70_cfpl_core_Model:1,O:1});function Am(e,t,_,r,a,n,i,s){this.Lcfx70_cfpl_core_RedRC__f_a1=0,this.Lcfx70_cfpl_core_RedRC__f_b1=0,this.Lcfx70_cfpl_core_RedRC__f_d=0,this.Lcfx70_cfpl_core_RedRC__f_h=0,this.Lcfx70_cfpl_core_RedRC__f_df1=0,this.Lcfx70_cfpl_core_RedRC__f_fcb=null,this.Lcfx70_cfpl_core_RedRC__f_fct=null,this.Lcfx70_cfpl_core_RedRC__f_cn=null,this.Lcfx70_cfpl_core_RedRC__f_meshes=null,this.Lcfx70_cfpl_core_RedRC__f_a1=e,this.Lcfx70_cfpl_core_RedRC__f_b1=t,this.Lcfx70_cfpl_core_RedRC__f_d=_,this.Lcfx70_cfpl_core_RedRC__f_h=r,this.Lcfx70_cfpl_core_RedRC__f_df1=i,this.Lcfx70_cfpl_core_RedRC__f_fcb=new uS(e,t,i);var o=new hS(_,s,0,6.283185307179586),c=[a,n,r-s],l=bV(new IV,c),p=pf(new uf,l);this.Lcfx70_cfpl_core_RedRC__f_fct=dS(uu(o,p));var u,f=new Db(e,t,_,r-i-s,a,n),h=[0,0,i],d=bV(new IV,h),m=pf(new uf,d);this.Lcfx70_cfpl_core_RedRC__f_cn=(u=uu(f,m))instanceof Db||null===u?u:Sl(u,"cfx70.cfpl.core.BRCRed"),lu();for(var y=lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial,g=[this.Lcfx70_cfpl_core_RedRC__f_fcb,this.Lcfx70_cfpl_core_RedRC__f_fct,this.Lcfx70_cfpl_core_RedRC__f_cn],v=new nr,$=0,x=_p(g.length);$<x;){var b=jp(g[$]);v.add(new Yr(b.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),y)),$=1+$|0}this.Lcfx70_cfpl_core_RedRC__f_meshes=v}function Rm(e){return e instanceof Am||null===e?e:Sl(e,"cfx70.cfpl.core.RedRC")}Om.prototype.$classData=Tm,Am.prototype=new iu,Am.prototype.constructor=Am,Am.prototype,Am.prototype.description__T__T=function(e){return" "+this.Lcfx70_cfpl_core_RedRC__f_a1+" &times; "+this.Lcfx70_cfpl_core_RedRC__f_b1+" &minus; &Oslash;"+this.Lcfx70_cfpl_core_RedRC__f_d+" l="+this.Lcfx70_cfpl_core_RedRC__f_h},Am.prototype.meshes__Lcfx70_threejsfacade_THREE$Object3D=function(){return this.Lcfx70_cfpl_core_RedRC__f_meshes};var Dm=(new gp).initClass({Lcfx70_cfpl_core_RedRC:0},!1,"cfx70.cfpl.core.RedRC",{Lcfx70_cfpl_core_RedRC:1,Lcfx70_cfpl_core_Model:1,O:1});function Em(e,t,_,r,a,n,i,s,o){this.Lcfx70_cfpl_core_RedRR__f_a1=0,this.Lcfx70_cfpl_core_RedRR__f_b1=0,this.Lcfx70_cfpl_core_RedRR__f_a2=0,this.Lcfx70_cfpl_core_RedRR__f_b2=0,this.Lcfx70_cfpl_core_RedRR__f_h=0,this.Lcfx70_cfpl_core_RedRR__f_fcb=null,this.Lcfx70_cfpl_core_RedRR__f_fct=null,this.Lcfx70_cfpl_core_RedRR__f_cn=null,this.Lcfx70_cfpl_core_RedRR__f_meshes=null,this.Lcfx70_cfpl_core_RedRR__f_a1=e,this.Lcfx70_cfpl_core_RedRR__f_b1=t,this.Lcfx70_cfpl_core_RedRR__f_a2=_,this.Lcfx70_cfpl_core_RedRR__f_b2=r,this.Lcfx70_cfpl_core_RedRR__f_h=a,this.Lcfx70_cfpl_core_RedRR__f_fcb=new uS(e,t,s);var c,l=new uS(_,r,o),p=[n,i,a-o],u=bV(new IV,p),f=pf(new uf,u);this.Lcfx70_cfpl_core_RedRR__f_fct=(c=uu(l,f))instanceof uS||null===c?c:Sl(c,"cfx70.cfpl.core.BBox");var h=Cb(new Tb,e,t,_,r,a-s-o,n,i),d=[0,0,s],m=bV(new IV,d),y=pf(new uf,m);this.Lcfx70_cfpl_core_RedRR__f_cn=function(e){return e instanceof Tb||null===e?e:Sl(e,"cfx70.cfpl.core.BPyramid")}(uu(h,y)),lu();for(var g=lu().Lcfx70_cfpl_core_Model$__f_phongBlueMaterial,v=[this.Lcfx70_cfpl_core_RedRR__f_fcb,this.Lcfx70_cfpl_core_RedRR__f_fct,this.Lcfx70_cfpl_core_RedRR__f_cn],$=new nr,x=0,b=_p(v.length);x<b;){var I=jp(v[x]);$.add(new Yr(I.getGeometry1__Lcfx70_threejsfacade_THREE$BufferGeometry(),g)),x=1+x|0}this.Lcfx70_cfpl_core_RedRR__f_meshes=$}function Bm(e){return e instanceof Em||null===e?e:Sl(e,"cfx70.cfpl.core.RedRR")}Am.prototype.$classData=Dm,Em.prototype=new iu,Em.prototype.constructor=Em,Em.prototype,Em.prototype.description__T__T=function(e){return" "+this.Lcfx70_cfpl_core_RedRR__f_a1+" &times; "+this.Lcfx70_cfpl_core_RedRR__f_b1+" &minus; "+this.Lcfx70_cfpl_core_RedRR__f_a2+" &times; "+this.Lcfx70_cfpl_core_RedRR__f_b2+" l="+this.Lcfx70_cfpl_core_RedRR__f_h},Em.prototype.meshes__Lcfx70_threejsfacade_THREE$Object3D=function(){return this.Lcfx70_cfpl_core_RedRR__f_meshes},Em.prototype.area__D=function(){return this.Lcfx70_cfpl_core_RedRR__f_cn.area__D()+this.Lcfx70_cfpl_core_RedRR__f_fcb.area__D()+this.Lcfx70_cfpl_core_RedRR__f_fct.area__D()};var Vm=(new gp).initClass({Lcfx70_cfpl_core_RedRR:0},!1,"cfx70.cfpl.core.RedRR",{Lcfx70_cfpl_core_RedRR:1,Lcfx70_cfpl_core_Model:1,O:1});function qm(e,t,_,r,a,n){Tu(e,t,_,r,a,n);var i=e.Lcfx70_cfpl_draft_Dim__f_prec,s=new bR("%."+-np(Math.log10(i))+"f"),o=np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),c=np(Math.abs(o))/e.Lcfx70_cfpl_draft_Dim__f_prec,l=Vh(),p=np(Math.round(c)),u=l.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(p),f=l.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn,h=[Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(u,f)*e.Lcfx70_cfpl_draft_Dim__f_prec],d=s.sci_StringOps__f_repr;fw(),aO();var m=[];_p(h.length);for(var y=0,g=_p(h.length);y<g;){var v=$R(0,h[y]);m.push(v),y=1+y|0}MA();for(var $=new op(_p(m.length)),x=$.u.length,b=0,I=0,L=_p(m.length),S=L<x?L:x,M=$.u.length,w=S<M?S:M;b<w;){var O=I,C=b;$.set(O,m[C]),b=1+b|0,I=1+I|0}return e.Lcfx70_cfpl_draft_HorDim__f_dist=Dy().format__T__AO__T(d,$),e}function Hm(){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_HorDim__f_dist=null}function Pm(){}Em.prototype.$classData=Vm,Hm.prototype=new Ru,Hm.prototype.constructor=Hm,Pm.prototype=Hm.prototype,Hm.prototype.dist__T=function(){return this.Lcfx70_cfpl_draft_HorDim__f_dist};var jm=(new gp).initClass({Lcfx70_cfpl_draft_HorDim:0},!1,"cfx70.cfpl.draft.HorDim",{Lcfx70_cfpl_draft_HorDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});function Fm(e,t,_){var r=eu(),a=ff(t.apply__I__O(0));r.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var n=t.size__I(),i=-1+n|0;if(!(n<=1))for(var s=1;;){var o=s,c=eu(),l=ff(t.apply__I__O(o));if(c.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),s===i)break;s=1+s|0}_.stroke()}function zm(e,t,_){var r=new dv(t);return new F$((()=>(r.sr_IntRef__f_elem===t?r.sr_IntRef__f_elem=_:r.sr_IntRef__f_elem=t,1/r.sr_IntRef__f_elem)))}function km(e,t,_,r){var a=eu(),n=ff(_.apply__I__O(0));a.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var i=t.size__I(),s=-1+i|0;if(!(i<=1))for(var o=1;;){var c=o,l=eu(),p=ff(t.apply__I__O(-1+c|0)),u=l.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),f=ff(_.apply__I__O(c));if(u.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(f.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(f.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),o===s)break;o=1+o|0}r.stroke();var h=zm(0,4,3),d=zm(0,2,3),m=t.size__I(),y=-1+m|0;if(!(m<=1))for(var g=1;;){var v=g;if(Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(-1+v|0)),ff(t.apply__I__O(-1+v|0)),np(h.apply__O()),0,1,r),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(-1+v|0)),ff(_.apply__I__O(v)),np(d.apply__O()),0,1,r),g===y)break;g=1+g|0}}function Gm(e,t){this.Lcfx70_cfpl_draft_Dev__f_model=null,this.Lcfx70_cfpl_draft_Dev__f_mscl=0,this.Lcfx70_cfpl_draft_RedCCDev__f_step=0,this.Lcfx70_cfpl_draft_RedCCDev__f_step=t,xu(this,e)}Hm.prototype.$classData=jm,Gm.prototype=new Iu,Gm.prototype.constructor=Gm,Gm.prototype,Gm.prototype.devPoints__T4=function(){var e=Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_cn.Lcfx70_cfpl_core_BCone__f_bpts,t=Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_cn.Lcfx70_cfpl_core_BCone__f_tpts,_=Wp().Lcfx70_cfpl_core_BGeometry$__f_segments,r=3.141592653589793*Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d1/ql(_,this.Lcfx70_cfpl_draft_RedCCDev__f_step),a=3.141592653589793*Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d2/ql(_,this.Lcfx70_cfpl_draft_RedCCDev__f_step),n=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(e.apply__I__O(0)),ff(t.apply__I__O(0)),(wu(),0)),i=0;i=0;var s=fw(),o=bV(new IV,[0,0]),c=[pf(new uf,o)],l=null;l=wR(s.apply__sc_Seq__sc_GenTraversable(bV(new IV,c)));var p=fw(),u=[0,n],f=bV(new IV,u),h=[pf(new uf,f)],d=null;d=wR(p.apply__sc_Seq__sc_GenTraversable(bV(new IV,h)));var m=this.Lcfx70_cfpl_draft_RedCCDev__f_step,y=_/2|0,g=this.Lcfx70_cfpl_draft_RedCCDev__f_step,v=m>y&&g>0||m<y&&g<0;if(0===g)throw Nb(new Ub,"step cannot be 0.");if(v);else{var $=y>>31,x=m>>31,b=y-m|0,I=(-2147483648^b)>(-2147483648^y)?($-x|0)-1|0:$-x|0,L=g>>31;Vh().divideImpl__I__I__I__I__I(b,I,g,L)}switch(g){case 1:var S=y;break;case-1:S=y;break;default:var M=y>>31,w=m>>31,O=y-m|0,C=(-2147483648^O)>(-2147483648^y)?(M-w|0)-1|0:M-w|0,T=g>>31,A=Vh().remainderImpl__I__I__I__I__I(O,C,g,T);S=0!==A?y-A|0:y}if(!v)for(var R=m;;){var D=R;i=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(e.apply__I__O(D-this.Lcfx70_cfpl_draft_RedCCDev__f_step|0)),ff(t.apply__I__O(D)),(wu(),0)),wu();var E=new Ou(ff(wR(d).last__O()),a);wu();var B=i,V=new Ou(ff(wR(l).last__O()),B),q=E.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(V.Lcfx70_cfpl_draft_Dev$PRad__f_p,V.Lcfx70_cfpl_draft_Dev$PRad__f_rad),H=wR(d),P=fw();d=wR(H.$colon$plus__O__scg_CanBuildFrom__O(q,P.scg_GenTraversableFactory__f_ReusableCBFInstance));var j=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(e.apply__I__O(D)),ff(t.apply__I__O(D)),(wu(),0));wu();var F=new Ou(q,j);wu();var z=new Ou(ff(wR(l).last__O()),r),k=F.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(z.Lcfx70_cfpl_draft_Dev$PRad__f_p,z.Lcfx70_cfpl_draft_Dev$PRad__f_rad),G=wR(l),N=fw();if(l=wR(G.$colon$plus__O__scg_CanBuildFrom__O(k,N.scg_GenTraversableFactory__f_ReusableCBFInstance)),R===S)break;R=R+g|0}var W=fw(),U=bV(new IV,[0,0]),Z=[pf(new uf,U)],X=null;X=wR(W.apply__sc_Seq__sc_GenTraversable(bV(new IV,Z)));var J=fw(),Y=[0,n],Q=bV(new IV,Y),K=[pf(new uf,Q)],ee=null;ee=wR(J.apply__sc_Seq__sc_GenTraversable(bV(new IV,K)));var te=_-this.Lcfx70_cfpl_draft_RedCCDev__f_step|0,_e=_/2|0,re=0|-this.Lcfx70_cfpl_draft_RedCCDev__f_step,ae=te>_e&&re>0||te<_e&&re<0;if(0===re)throw Nb(new Ub,"step cannot be 0.");if(ae);else{var ne=_e>>31,ie=te>>31,se=_e-te|0,oe=(-2147483648^se)>(-2147483648^_e)?(ne-ie|0)-1|0:ne-ie|0,ce=re>>31;Vh().divideImpl__I__I__I__I__I(se,oe,re,ce)}switch(re){case 1:var le=_e;break;case-1:le=_e;break;default:var pe=_e>>31,ue=te>>31,fe=_e-te|0,he=(-2147483648^fe)>(-2147483648^_e)?(pe-ue|0)-1|0:pe-ue|0,de=re>>31,me=Vh().remainderImpl__I__I__I__I__I(fe,he,re,de);le=0!==me?_e-me|0:_e}if(!ae)for(var ye=te;;){var ge=ye;i=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(e.apply__I__O(ge+this.Lcfx70_cfpl_draft_RedCCDev__f_step|0)),ff(t.apply__I__O(ge)),(wu(),0)),wu();var ve=i,$e=new Ou(ff(wR(X).last__O()),ve);wu();var xe=new Ou(ff(wR(ee).last__O()),a),be=$e.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(xe.Lcfx70_cfpl_draft_Dev$PRad__f_p,xe.Lcfx70_cfpl_draft_Dev$PRad__f_rad),Ie=wR(ee),Le=fw();ee=wR(Ie.$colon$plus__O__scg_CanBuildFrom__O(be,Le.scg_GenTraversableFactory__f_ReusableCBFInstance));var Se=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(e.apply__I__O(ge)),ff(t.apply__I__O(ge)),(wu(),0));wu();var Me=new Ou(ff(wR(X).last__O()),r);wu();var we=new Ou(be,Se),Oe=Me.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(we.Lcfx70_cfpl_draft_Dev$PRad__f_p,we.Lcfx70_cfpl_draft_Dev$PRad__f_rad),Ce=wR(X),Te=fw();if(X=wR(Ce.$colon$plus__O__scg_CanBuildFrom__O(Oe,Te.scg_GenTraversableFactory__f_ReusableCBFInstance)),ye===le)break;ye=ye+re|0}return new eM(wR(l),wR(d),wR(X),wR(ee))},Gm.prototype.drawDev__sc_Seq__sc_Seq__sc_Seq__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a){a.beginPath(),a.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_lineWidth,Fm(0,e,a),Fm(0,t,a),Fm(0,_,a),Fm(0,r,a);var n=eu(),i=ff(e.last__O()),s=n.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),o=ff(t.last__O());s.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(o.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(o.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var c=eu(),l=ff(_.last__O()),p=c.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),u=ff(r.last__O());p.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(u.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(u.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),a.stroke(),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.last__O()),ff(t.last__O()),.5,0,1,a),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.last__O()),ff(r.last__O()),.5,0,1,a),Vu().ld__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(0)),ff(t.apply__I__O(1)),50,0,.1,a),Vu().ld__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(0)),ff(e.apply__I__O(1)),-50,0,.1,a),a.beginPath(),a.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_thinlineWidth,km(0,e,t,a),km(0,_,r,a)},Gm.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=this.devPoints__T4();if(null===t)throw new yI(t);var _=wR(t.T4__f__1),r=wR(t.T4__f__2),a=wR(t.T4__f__3),n=wR(t.T4__f__4),i=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(r.apply__I__O(0)),ff(r.apply__I__O(1)),.1),s=new bR("%1d"),o=12*i/3.141592653589793,c=Vh(),l=np(Math.round(o)),p=[new Oh(c.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(l),c.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],u=s.sci_StringOps__f_repr;fw(),aO();var f=[];_p(p.length);for(var h=0,d=_p(p.length);h<d;){var m=$R(0,p[h]);f.push(m),h=1+h|0}MA();for(var y=new op(_p(f.length)),g=y.u.length,v=0,$=0,x=_p(f.length),b=x<g?x:g,I=y.u.length,L=b<I?b:I;v<L;){var S=$,M=v;y.set(S,f[M]),v=1+v|0,$=1+$|0}var w=Dy().format__T__AO__T(u,y),O=new bR("%.1f"),C=[i],T=O.sci_StringOps__f_repr;fw(),aO();var A=[];_p(C.length);for(var R=0,D=_p(C.length);R<D;){var E=$R(0,C[R]);A.push(E),R=1+R|0}MA();for(var B=new op(_p(A.length)),V=B.u.length,q=0,H=0,P=_p(A.length),j=P<V?P:V,F=B.u.length,z=j<F?j:F;q<z;){var k=H,G=q;B.set(k,A[G]),q=1+q|0,H=1+H|0}var N=Dy().format__T__AO__T(T,B),W=new bR("%1d"),U=3.141592653589793*(Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d2-5),Z=Vh(),X=np(Math.round(U)),J=[new Oh(Z.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(X),Z.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],Y=W.sci_StringOps__f_repr;fw(),aO();var Q=[];_p(J.length);for(var K=0,ee=_p(J.length);K<ee;){var te=$R(0,J[K]);Q.push(te),K=1+K|0}MA();for(var _e=new op(_p(Q.length)),re=_e.u.length,ae=0,ne=0,ie=_p(Q.length),se=ie<re?ie:re,oe=_e.u.length,ce=se<oe?se:oe;ae<ce;){var le=ne,pe=ae;_e.set(le,Q[pe]),ae=1+ae|0,ne=1+ne|0}var ue=Dy().format__T__AO__T(Y,_e),fe=new bR("%1d"),he=12*i,de=Vh(),me=np(Math.round(he)),ye=[new Oh(de.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(me),de.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],ge=fe.sci_StringOps__f_repr;fw(),aO();var ve=[];_p(ye.length);for(var $e=0,xe=_p(ye.length);$e<xe;){var be=$R(0,ye[$e]);ve.push(be),$e=1+$e|0}MA();for(var Ie=new op(_p(ve.length)),Le=Ie.u.length,Se=0,Me=0,we=_p(ve.length),Oe=we<Le?we:Le,Ce=Ie.u.length,Te=Oe<Ce?Oe:Ce;Se<Te;){var Ae=Me,Re=Se;Ie.set(Ae,ve[Re]),Se=1+Se|0,Me=1+Me|0}var De=Dy().format__T__AO__T(ge,Ie),Ee=""+(Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d2-5)+" --- l = "+ue,Be=N+" x 12 = "+De+" --- "+w,Ve=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(_.apply__I__O(0)),ff(_.apply__I__O(1)),.1),qe=new bR("%1d"),He=12*Ve/3.141592653589793,Pe=Vh(),je=np(Math.round(He)),Fe=[new Oh(Pe.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(je),Pe.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],ze=qe.sci_StringOps__f_repr;fw(),aO();var ke=[];_p(Fe.length);for(var Ge=0,Ne=_p(Fe.length);Ge<Ne;){var We=$R(0,Fe[Ge]);ke.push(We),Ge=1+Ge|0}MA();for(var Ue=new op(_p(ke.length)),Ze=Ue.u.length,Xe=0,Je=0,Ye=_p(ke.length),Qe=Ye<Ze?Ye:Ze,Ke=Ue.u.length,et=Qe<Ke?Qe:Ke;Xe<et;){var tt=Je,_t=Xe;Ue.set(tt,ke[_t]),Xe=1+Xe|0,Je=1+Je|0}var rt=Dy().format__T__AO__T(ze,Ue),at=new bR("%.1f"),nt=[Ve],it=at.sci_StringOps__f_repr;fw(),aO();var st=[];_p(nt.length);for(var ot=0,ct=_p(nt.length);ot<ct;){var lt=$R(0,nt[ot]);st.push(lt),ot=1+ot|0}MA();for(var pt=new op(_p(st.length)),ut=pt.u.length,ft=0,ht=0,dt=_p(st.length),mt=dt<ut?dt:ut,yt=pt.u.length,gt=mt<yt?mt:yt;ft<gt;){var vt=ht,$t=ft;pt.set(vt,st[$t]),ft=1+ft|0,ht=1+ht|0}var xt=Dy().format__T__AO__T(it,pt),bt=new bR("%1d"),It=3.141592653589793*(Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d1-5),Lt=Vh(),St=np(Math.round(It)),Mt=[new Oh(Lt.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(St),Lt.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],wt=bt.sci_StringOps__f_repr;fw(),aO();var Ot=[];_p(Mt.length);for(var Ct=0,Tt=_p(Mt.length);Ct<Tt;){var At=$R(0,Mt[Ct]);Ot.push(At),Ct=1+Ct|0}MA();for(var Rt=new op(_p(Ot.length)),Dt=Rt.u.length,Et=0,Bt=0,Vt=_p(Ot.length),qt=Vt<Dt?Vt:Dt,Ht=Rt.u.length,Pt=qt<Ht?qt:Ht;Et<Pt;){var jt=Bt,Ft=Et;Rt.set(jt,Ot[Ft]),Et=1+Et|0,Bt=1+Bt|0}var zt=Dy().format__T__AO__T(wt,Rt),kt=new bR("%1d"),Gt=12*Ve,Nt=Vh(),Wt=np(Math.round(Gt)),Ut=[new Oh(Nt.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(Wt),Nt.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],Zt=kt.sci_StringOps__f_repr;fw(),aO();var Xt=[];_p(Ut.length);for(var Jt=0,Yt=_p(Ut.length);Jt<Yt;){var Qt=$R(0,Ut[Jt]);Xt.push(Qt),Jt=1+Jt|0}MA();for(var Kt=new op(_p(Xt.length)),e_=Kt.u.length,t_=0,__=0,r_=_p(Xt.length),a_=r_<e_?r_:e_,n_=Kt.u.length,i_=a_<n_?a_:n_;t_<i_;){var s_=__,o_=t_;Kt.set(s_,Xt[o_]),t_=1+t_|0,__=1+__|0}var c_=Dy().format__T__AO__T(Zt,Kt),l_=""+(Cm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedCC__f_d1-5)+" --- l = "+zt,p_=xt+" x 12 = "+c_+" --- "+rt;e.save(),this.Lcfx70_cfpl_draft_Dev__f_mscl=1.4*this.Lcfx70_cfpl_draft_Dev__f_mscl,this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.translate((0|-wu().Lcfx70_cfpl_draft_Dev$__f_hsz)/2|0,(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-40|0),e.scale(1,-1),e.fillStyle="#000",e.fillText(Ee,0,0),e.fillText(Be,0,40),e.fillText(l_,0,80),e.fillText(p_,0,120),e.translate(wu().Lcfx70_cfpl_draft_Dev$__f_hsz/2|0,wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0),e.scale(1,-1);var u_=eu(),f_=np(ff(_.head__O()).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),h_=ff(r.head__O());u_.translateS__D__D__V(0,f_-np(h_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),e.beginPath(),this.drawDev__sc_Seq__sc_Seq__sc_Seq__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(_,r,a,n,e),e.restore()};var Nm=(new gp).initClass({Lcfx70_cfpl_draft_RedCCDev:0},!1,"cfx70.cfpl.draft.RedCCDev",{Lcfx70_cfpl_draft_RedCCDev:1,Lcfx70_cfpl_draft_Dev:1,O:1});function Wm(e){this.Lcfx70_cfpl_draft_Draft__f_model=null,this.Lcfx70_cfpl_draft_Draft__f_mscl=0,this.Lcfx70_cfpl_draft_RedCCDraft__f_segs=0,qu(this,e),this.Lcfx70_cfpl_draft_RedCCDraft__f_segs=Wp().Lcfx70_cfpl_core_BGeometry$__f_segments}Gm.prototype.$classData=Nm,Wm.prototype=new Pu,Wm.prototype.constructor=Wm,Wm.prototype,Wm.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){e.save(),this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_thinlineWidth,e.beginPath(),e.scale(1,-1),eu().translateS__D__D__V(0,-Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_h/2),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth;var t=eu(),_=Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_cn.tophalf__sc_Seq(),r=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),a=fw(),n=wR(_.map__F1__scg_CanBuildFrom__O(r,a.scg_GenTraversableFactory__f_ReusableCBFInstance));t.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(n.head__O()),wR(n.tail__O()));var i=eu(),s=Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fcb.tophalf__sc_Seq(),o=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),c=fw(),l=wR(s.map__F1__scg_CanBuildFrom__O(o,c.scg_GenTraversableFactory__f_ReusableCBFInstance));i.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(l.head__O()),wR(l.tail__O()));var p=eu(),u=Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fct.tophalf__sc_Seq(),f=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),h=fw(),d=wR(u.map__F1__scg_CanBuildFrom__O(f,h.scg_GenTraversableFactory__f_ReusableCBFInstance));p.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(d.head__O()),wR(d.tail__O())),e.stroke();var m=wR(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_cn.Lcfx70_cfpl_core_BCone__f_bpts.init__O()),y=wR(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_cn.Lcfx70_cfpl_core_BCone__f_tpts.init__O());if(np(ff(y.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(m.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))var g=-(np(ff(y.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(m.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))*this.Lcfx70_cfpl_draft_Draft__f_mscl;else g=0;var v=np(ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),$=np(ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),x=(np(Math.max(v,$))+ku().Lcfx70_cfpl_draft_Draft$__f_dimspace+ku().Lcfx70_cfpl_draft_Draft$__f_dimstep)*this.Lcfx70_cfpl_draft_Draft__f_mscl,b=np(ff(m.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),I=np(ff(y.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),L=(np(Math.min(b,I))-ku().Lcfx70_cfpl_draft_Draft$__f_dimstep)*this.Lcfx70_cfpl_draft_Draft__f_mscl,S=(0|-ku().Lcfx70_cfpl_draft_Draft$__f_dimspace)-g,M=Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_h*this.Lcfx70_cfpl_draft_Draft__f_mscl+ku().Lcfx70_cfpl_draft_Draft$__f_dimspace+g;e.beginPath(),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fct.tophalf__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fcb.tophalf__sc_Seq().apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),x,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fcb.tophalf__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fcb.tophalf__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),L,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fcb.tophalf__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fct.tophalf__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),L,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fct.tophalf__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),ff(Cm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedCC__f_fct.tophalf__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),L,0,1,e),Vu().horD__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(m.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),Vu().horD__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(y.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),M,0,1,e),np(ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),M,0,1,e),np(ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(m.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),ff(y.apply__I__O(this.Lcfx70_cfpl_draft_RedCCDraft__f_segs/2|0)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),np(ff(m.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(y.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(y.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(m.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),M,0,1,e),np(ff(m.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(y.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(y.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(m.apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),e.restore()};var Um=(new gp).initClass({Lcfx70_cfpl_draft_RedCCDraft:0},!1,"cfx70.cfpl.draft.RedCCDraft",{Lcfx70_cfpl_draft_RedCCDraft:1,Lcfx70_cfpl_draft_Draft:1,O:1});function Zm(e){this.Lcfx70_cfpl_draft_Dev__f_model=null,this.Lcfx70_cfpl_draft_Dev__f_mscl=0,this.Lcfx70_cfpl_draft_RedRCDev__f_step=0,xu(this,e),this.Lcfx70_cfpl_draft_RedRCDev__f_step=2}Wm.prototype.$classData=Um,Zm.prototype=new Iu,Zm.prototype.constructor=Zm,Zm.prototype,Zm.prototype.devPoints__s_Enumeration$Value__sc_Seq=function(e){var t=Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_bpts,_=Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_tpts,r=Wp().Lcfx70_cfpl_core_BGeometry$__f_segments,a=3.141592653589793*Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_d/ql(r,this.Lcfx70_cfpl_draft_RedRCDev__f_step),n=fw(),i=[-Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_a1/2,0],s=bV(new IV,i),o=pf(new uf,s),c=[Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_a1/2,0],l=bV(new IV,c),p=[o,pf(new uf,l)],u=new yv(wR(n.apply__sc_Seq__sc_GenTraversable(bV(new IV,p)))),f=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(null===f?null===e:f.equals__O__Z(e))var h=ff(_.apply__I__O(r/4|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(0))).norm__D(),d=np(Math.sqrt(h)),m=ff(_.apply__I__O(r/4|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1))).norm__D(),y=d,g=np(Math.sqrt(m));else{var v=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(!(null===v?null===e:v.equals__O__Z(e)))throw new yI(e);var $=ff(_.apply__I__O(Math.imul(3,r)/4|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(2))).norm__D(),x=np(Math.sqrt($)),b=ff(_.apply__I__O(Math.imul(3,r)/4|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(3))).norm__D();y=x,g=np(Math.sqrt(b))}var I=g,L=y,S=wR(u.sr_ObjectRef__f_elem);wu();var M=L,w=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0)),M);wu();var O=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1)),I),C=w.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(O.Lcfx70_cfpl_draft_Dev$PRad__f_p,O.Lcfx70_cfpl_draft_Dev$PRad__f_rad),T=fw();u.sr_ObjectRef__f_elem=wR(S.$colon$plus__O__scg_CanBuildFrom__O(C,T.scg_GenTraversableFactory__f_ReusableCBFInstance));var A=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(null===A?null===e:A.equals__O__Z(e)){var R=(r/4|0)+this.Lcfx70_cfpl_draft_RedRCDev__f_step|0,D=US(new ZS,R,2),E=(r/4|0)+(this.Lcfx70_cfpl_draft_RedRCDev__f_step<<1)|0,B=US(new ZS,E,3),V=(r/4|0)+Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDev__f_step)|0,q=[D,B,US(new ZS,V,4)],H=new ML;if(H.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)for(var P=H.sci_Map$MapBuilderImpl__f_hashMapBuilder,j=0,F=_p(q.length);j<F;){var z=q[j];P.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(z)),j=1+j|0}else for(var k=0,G=_p(q.length);k<G;){var N=q[k];H.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(N)),k=1+k|0}var W=H.result__sci_Map(),U=new k$((e=>{var r=_p(e),a=ff(_.apply__I__O(r)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1))).norm__D();return np(Math.sqrt(a))}))}else{var Z=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(!(null===Z?null===e:Z.equals__O__Z(e)))throw new yI(e);var X=(Math.imul(3,r)/4|0)+this.Lcfx70_cfpl_draft_RedRCDev__f_step|0,J=US(new ZS,X,2),Y=(Math.imul(3,r)/4|0)+(this.Lcfx70_cfpl_draft_RedRCDev__f_step<<1)|0,Q=US(new ZS,Y,3),K=(Math.imul(3,r)/4|0)+Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDev__f_step)|0,ee=[J,Q,US(new ZS,K,4)],te=new ML;if(te.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)for(var _e=te.sci_Map$MapBuilderImpl__f_hashMapBuilder,re=0,ae=_p(ee.length);re<ae;){var ne=ee[re];_e.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(ne)),re=1+re|0}else for(var ie=0,se=_p(ee.length);ie<se;){var oe=ee[ie];te.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(oe)),ie=1+ie|0}W=te.result__sci_Map(),U=new k$((e=>{var r=_p(e),a=ff(_.apply__I__O(r)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(3))).norm__D();return np(Math.sqrt(a))}))}var ce=zR(W),le=Fh(U);new Yy(ce,new k$((e=>null!==JS(e)))).foreach__F1__V(new k$((e=>{var t=JS(e);if(null===t)throw new yI(t);var _=t._1$mcI$sp__I(),r=t._2$mcI$sp__I(),n=wR(u.sr_ObjectRef__f_elem);wu();var i=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(r)),a);wu();var s=wR(u.sr_ObjectRef__f_elem).apply__I__O(1),o=le.apply$mcDI$sp__I__D(_),c=new Ou(ff(s),o),l=i.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(c.Lcfx70_cfpl_draft_Dev$PRad__f_p,c.Lcfx70_cfpl_draft_Dev$PRad__f_rad),p=fw();u.sr_ObjectRef__f_elem=wR(n.$colon$plus__O__scg_CanBuildFrom__O(l,p.scg_GenTraversableFactory__f_ReusableCBFInstance))})));var pe=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(null===pe?null===e:pe.equals__O__Z(e)){var ue=ff(_.apply__I__O(r/2|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(2)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1))).$times__D__Lcfx70_vecquat_Vec(.5).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1)))).norm__D();L=np(Math.sqrt(ue))}else{var fe=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(!(null===fe?null===e:fe.equals__O__Z(e)))throw new yI(e);var he=ff(_.apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(3))).$times__D__Lcfx70_vecquat_Vec(.5).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(3)))).norm__D();L=np(Math.sqrt(he))}var de=wR(u.sr_ObjectRef__f_elem);wu();var me=L,ye=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(5)),me);wu();var ge=wR(u.sr_ObjectRef__f_elem).apply__I__O(1),ve=Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_b1/2,$e=new Ou(ff(ge),ve),xe=ye.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec($e.Lcfx70_cfpl_draft_Dev$PRad__f_p,$e.Lcfx70_cfpl_draft_Dev$PRad__f_rad),be=fw();u.sr_ObjectRef__f_elem=wR(de.$colon$plus__O__scg_CanBuildFrom__O(xe,be.scg_GenTraversableFactory__f_ReusableCBFInstance));var Ie=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(null===Ie?null===e:Ie.equals__O__Z(e)){var Le=(r/4|0)-this.Lcfx70_cfpl_draft_RedRCDev__f_step|0,Se=US(new ZS,Le,2),Me=(r/4|0)-(this.Lcfx70_cfpl_draft_RedRCDev__f_step<<1)|0,we=US(new ZS,Me,7),Oe=(r/4|0)-Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDev__f_step)|0,Ce=[Se,we,US(new ZS,Oe,8)],Te=new ML;if(Te.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)for(var Ae=Te.sci_Map$MapBuilderImpl__f_hashMapBuilder,Re=0,De=_p(Ce.length);Re<De;){var Ee=Ce[Re];Ae.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(Ee)),Re=1+Re|0}else for(var Be=0,Ve=_p(Ce.length);Be<Ve;){var qe=Ce[Be];Te.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(qe)),Be=1+Be|0}var He=Te.result__sci_Map(),Pe=new k$((e=>{var r=_p(e),a=ff(_.apply__I__O(r)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(0))).norm__D();return np(Math.sqrt(a))}))}else{var je=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(!(null===je?null===e:je.equals__O__Z(e)))throw new yI(e);var Fe=(Math.imul(3,r)/4|0)-this.Lcfx70_cfpl_draft_RedRCDev__f_step|0,ze=US(new ZS,Fe,2),ke=(Math.imul(3,r)/4|0)-(this.Lcfx70_cfpl_draft_RedRCDev__f_step<<1)|0,Ge=US(new ZS,ke,7),Ne=(Math.imul(3,r)/4|0)-Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDev__f_step)|0,We=[ze,Ge,US(new ZS,Ne,8)],Ue=new ML;if(Ue.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)for(var Ze=Ue.sci_Map$MapBuilderImpl__f_hashMapBuilder,Xe=0,Je=_p(We.length);Xe<Je;){var Ye=We[Xe];Ze.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(Ye)),Xe=1+Xe|0}else for(var Qe=0,Ke=_p(We.length);Qe<Ke;){var et=We[Qe];Ue.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(et)),Qe=1+Qe|0}He=Ue.result__sci_Map(),Pe=new k$((e=>{var r=_p(e),a=ff(_.apply__I__O(r)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(2))).norm__D();return np(Math.sqrt(a))}))}var tt=zR(He),_t=Fh(Pe);new Yy(tt,new k$((e=>null!==JS(e)))).foreach__F1__V(new k$((e=>{var t=JS(e);if(null===t)throw new yI(t);var _=t._1$mcI$sp__I(),r=t._2$mcI$sp__I(),n=wR(u.sr_ObjectRef__f_elem);wu();var i=wR(u.sr_ObjectRef__f_elem).apply__I__O(0),s=_t.apply$mcDI$sp__I__D(_),o=new Ou(ff(i),s);wu();var c=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(r)),a),l=o.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(c.Lcfx70_cfpl_draft_Dev$PRad__f_p,c.Lcfx70_cfpl_draft_Dev$PRad__f_rad),p=fw();u.sr_ObjectRef__f_elem=wR(n.$colon$plus__O__scg_CanBuildFrom__O(l,p.scg_GenTraversableFactory__f_ReusableCBFInstance))})));var rt=rx().Lcfx70_cfpl_core_Side$__f_TOP;if(null===rt?null===e:rt.equals__O__Z(e)){var at=ff(_.apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(3)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(0))).$times__D__Lcfx70_vecquat_Vec(.5).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(0)))).norm__D();L=np(Math.sqrt(at))}else{var nt=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;if(!(null===nt?null===e:nt.equals__O__Z(e)))throw new yI(e);var it=ff(_.apply__I__O(r/2|0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(1)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(2))).$times__D__Lcfx70_vecquat_Vec(.5).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(t.apply__I__O(2)))).norm__D();L=np(Math.sqrt(it))}var st=wR(u.sr_ObjectRef__f_elem);wu();var ot=wR(u.sr_ObjectRef__f_elem).apply__I__O(0),ct=Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_b1/2,lt=new Ou(ff(ot),ct);wu();var pt=L,ut=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(9)),pt),ft=lt.p3c__Lcfx70_vecquat_Vec__D__Lcfx70_vecquat_Vec(ut.Lcfx70_cfpl_draft_Dev$PRad__f_p,ut.Lcfx70_cfpl_draft_Dev$PRad__f_rad),ht=fw();u.sr_ObjectRef__f_elem=wR(st.$colon$plus__O__scg_CanBuildFrom__O(ft,ht.scg_GenTraversableFactory__f_ReusableCBFInstance));var dt=wR(u.sr_ObjectRef__f_elem);wu();var mt=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0))),yt=fw();u.sr_ObjectRef__f_elem=wR(dt.$colon$plus__O__scg_CanBuildFrom__O(mt,yt.scg_GenTraversableFactory__f_ReusableCBFInstance));var gt=wR(u.sr_ObjectRef__f_elem);wu();var vt=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1))),$t=fw();u.sr_ObjectRef__f_elem=wR(gt.$colon$plus__O__scg_CanBuildFrom__O(vt,$t.scg_GenTraversableFactory__f_ReusableCBFInstance));var xt=wR(u.sr_ObjectRef__f_elem);wu();var bt=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(6)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1))),It=fw();u.sr_ObjectRef__f_elem=wR(xt.$colon$plus__O__scg_CanBuildFrom__O(bt,It.scg_GenTraversableFactory__f_ReusableCBFInstance));var Lt=wR(u.sr_ObjectRef__f_elem);wu();var St=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(6)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(1))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(6))),Mt=fw();u.sr_ObjectRef__f_elem=wR(Lt.$colon$plus__O__scg_CanBuildFrom__O(St,Mt.scg_GenTraversableFactory__f_ReusableCBFInstance));var wt=wR(u.sr_ObjectRef__f_elem);wu();var Ot=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(10))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0))),Ct=fw();u.sr_ObjectRef__f_elem=wR(wt.$colon$plus__O__scg_CanBuildFrom__O(Ot,Ct.scg_GenTraversableFactory__f_ReusableCBFInstance));var Tt=wR(u.sr_ObjectRef__f_elem);wu();var At=new Ou(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(0)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(10))),Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_df1).perp__Lcfx70_vecquat_Vec().$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(wR(u.sr_ObjectRef__f_elem).apply__I__O(10))),Rt=fw();return u.sr_ObjectRef__f_elem=wR(Tt.$colon$plus__O__scg_CanBuildFrom__O(At,Rt.scg_GenTraversableFactory__f_ReusableCBFInstance)),wR(u.sr_ObjectRef__f_elem)},Zm.prototype.drawDev__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t){t.beginPath(),t.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_lineWidth;var _=eu(),r=ff(e.apply__I__O(0)),a=_.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),n=ff(e.apply__I__O(1));a.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var i=eu(),s=ff(e.apply__I__O(2)),o=i.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),c=ff(e.apply__I__O(3)),l=o.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),p=ff(e.apply__I__O(4)),u=l.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(p.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),f=ff(e.apply__I__O(5)),h=u.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(f.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(f.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),d=ff(e.apply__I__O(6)),m=h.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(d.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(d.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),y=ff(e.apply__I__O(1));m.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var g=eu(),v=ff(e.apply__I__O(2)),$=g.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),x=ff(e.apply__I__O(7)),b=$.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(x.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(x.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),I=ff(e.apply__I__O(8)),L=b.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(I.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(I.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),S=ff(e.apply__I__O(9)),M=L.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(S.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(S.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),w=ff(e.apply__I__O(10)),O=M.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(w.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(w.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),C=ff(e.apply__I__O(0));O.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(C.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(C.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var T=eu(),A=ff(e.apply__I__O(0)),R=T.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(A.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(A.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),D=ff(e.apply__I__O(11)),E=R.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(D.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(D.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),B=ff(e.apply__I__O(12)),V=E.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(B.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(B.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),q=ff(e.apply__I__O(1));V.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(q.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(q.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var H=eu(),P=ff(e.apply__I__O(1)),j=H.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(P.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(P.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),F=ff(e.apply__I__O(13)),z=j.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(F.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(F.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),k=ff(e.apply__I__O(14)),G=z.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(k.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(k.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),N=ff(e.apply__I__O(6));G.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(N.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(N.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var W=eu(),U=ff(e.apply__I__O(10)),Z=W.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(U.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(U.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),X=ff(e.apply__I__O(16)),J=Z.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(X.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(X.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Y=ff(e.apply__I__O(15)),Q=J.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(Y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(Y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),K=ff(e.apply__I__O(0));Q.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(K.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(K.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),t.stroke(),t.beginPath(),t.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_thinlineWidth;var ee=eu(),te=ff(e.apply__I__O(0)),_e=ee.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(te.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(te.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),re=ff(e.apply__I__O(2)),ae=_e.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(re.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(re.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),ne=ff(e.apply__I__O(0)),ie=ae.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(ne.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ne.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),se=ff(e.apply__I__O(7)),oe=ie.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(se.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(se.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),ce=ff(e.apply__I__O(0)),le=oe.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(ce.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ce.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),pe=ff(e.apply__I__O(8)),ue=le.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(pe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(pe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),fe=ff(e.apply__I__O(0)),he=ue.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(fe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(fe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),de=ff(e.apply__I__O(9));he.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(de.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(de.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));var me=eu(),ye=ff(e.apply__I__O(1)),ge=me.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(ye.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ye.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),ve=ff(e.apply__I__O(2)),$e=ge.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(ve.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ve.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),xe=ff(e.apply__I__O(1)),be=$e.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(xe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(xe.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Ie=ff(e.apply__I__O(3)),Le=be.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(Ie.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(Ie.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Se=ff(e.apply__I__O(1)),Me=Le.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(Se.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(Se.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),we=ff(e.apply__I__O(4)),Oe=Me.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(we.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(we.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Ce=ff(e.apply__I__O(1)),Te=Oe.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(Ce.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(Ce.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),Ae=ff(e.apply__I__O(5));Te.L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(Ae.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(Ae.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),t.stroke(),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(15)),ff(e.apply__I__O(16)),.5,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(13)),ff(e.apply__I__O(14)),.5,1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(11)),ff(e.apply__I__O(12)),.5,0,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(9)),ff(e.apply__I__O(10)),.5,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(5)),ff(e.apply__I__O(6)),.5,1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(0)),ff(e.apply__I__O(9)),.2,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(0)),ff(e.apply__I__O(8)),.4,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(0)),ff(e.apply__I__O(7)),.6,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(0)),ff(e.apply__I__O(2)),.8,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(1)),ff(e.apply__I__O(2)),.2,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(1)),ff(e.apply__I__O(3)),.4,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(1)),ff(e.apply__I__O(4)),.6,-1,1,t),Vu().tx__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(1)),ff(e.apply__I__O(5)),.8,-1,1,t),Vu().ld__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(e.apply__I__O(2)),ff(e.apply__I__O(3)),50,0,.1,t)},Zm.prototype.drawLetter__T__D__D__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_,r,a){a.save(),a.translate(t,_),a.scale(1,-1),a.fillStyle="#000",a.textAlign="middle",a.font="bold "+r+" sans-serif",a.fillText(e,0,0),a.restore()},Zm.prototype.maxminY__sc_Seq__Lcfx70_vecquat_Vec=function(e){var t=new N$(((e,t)=>{var _=ff(e),r=ff(t),a=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))?np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)):np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))?np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)):np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],n=bV(new IV,a);return pf(new uf,n)})),_=bV(new IV,[0,0]);return ff(e.foldLeft__O__F2__O(pf(new uf,_),new N$(((e,_)=>{var r=ff(e),a=ff(_);return ff(t.apply__O__O__O(r,a))}))))},Zm.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=this.devPoints__s_Enumeration$Value__sc_Seq(rx().Lcfx70_cfpl_core_Side$__f_TOP),_=this.devPoints__s_Enumeration$Value__sc_Seq(rx().Lcfx70_cfpl_core_Side$__f_BOTTOM),r=this.maxminY__sc_Seq__Lcfx70_vecquat_Vec(t),a=this.maxminY__sc_Seq__Lcfx70_vecquat_Vec(_),n=(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-(wu().Lcfx70_cfpl_draft_Dev$__f_dimspace<<1)|0,i=n/(np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),s=n/(np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));this.Lcfx70_cfpl_draft_Dev__f_mscl=np(Math.min(i,s)),e.save();var o=wu().dist__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__D(ff(t.apply__I__O(2)),ff(t.apply__I__O(3)),.1),c=new bR("%1d"),l=12*o/3.141592653589793,p=Vh(),u=np(Math.round(l)),f=[new Oh(p.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(u),p.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],h=c.sci_StringOps__f_repr;fw(),aO();var d=[];_p(f.length);for(var m=0,y=_p(f.length);m<y;){var g=$R(0,f[m]);d.push(g),m=1+m|0}MA();for(var v=new op(_p(d.length)),$=v.u.length,x=0,b=0,I=_p(d.length),L=I<$?I:$,S=v.u.length,M=L<S?L:S;x<M;){var w=b,O=x;v.set(w,d[O]),x=1+x|0,b=1+b|0}var C=Dy().format__T__AO__T(h,v),T=new bR("%.1f"),A=[o],R=T.sci_StringOps__f_repr;fw(),aO();var D=[];_p(A.length);for(var E=0,B=_p(A.length);E<B;){var V=$R(0,A[E]);D.push(V),E=1+E|0}MA();for(var q=new op(_p(D.length)),H=q.u.length,P=0,j=0,F=_p(D.length),z=F<H?F:H,k=q.u.length,G=z<k?z:k;P<G;){var N=j,W=P;q.set(N,D[W]),P=1+P|0,j=1+j|0}var U=Dy().format__T__AO__T(R,q),Z=new bR("%1d"),X=3.141592653589793*(Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_d-5),J=Vh(),Y=np(Math.round(X)),Q=[new Oh(J.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(Y),J.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],K=Z.sci_StringOps__f_repr;fw(),aO();var ee=[];_p(Q.length);for(var te=0,_e=_p(Q.length);te<_e;){var re=$R(0,Q[te]);ee.push(re),te=1+te|0}MA();for(var ae=new op(_p(ee.length)),ne=ae.u.length,ie=0,se=0,oe=_p(ee.length),ce=oe<ne?oe:ne,le=ae.u.length,pe=ce<le?ce:le;ie<pe;){var ue=se,fe=ie;ae.set(ue,ee[fe]),ie=1+ie|0,se=1+se|0}var he=Dy().format__T__AO__T(K,ae),de=new bR("%1d"),me=12*o,ye=Vh(),ge=np(Math.round(me)),ve=[new Oh(ye.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(ge),ye.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn)],$e=de.sci_StringOps__f_repr;fw(),aO();var xe=[];_p(ve.length);for(var be=0,Ie=_p(ve.length);be<Ie;){var Le=$R(0,ve[be]);xe.push(Le),be=1+be|0}MA();for(var Se=new op(_p(xe.length)),Me=Se.u.length,we=0,Oe=0,Ce=_p(xe.length),Te=Ce<Me?Ce:Me,Ae=Se.u.length,Re=Te<Ae?Te:Ae;we<Re;){var De=Oe,Ee=we;Se.set(De,xe[Ee]),we=1+we|0,Oe=1+Oe|0}var Be=Dy().format__T__AO__T($e,Se),Ve=""+(Rm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRC__f_d-5)+" --- l = "+he,qe=U+" x 12 = "+Be+" --- "+C;this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.translate((0|-wu().Lcfx70_cfpl_draft_Dev$__f_hsz)/2|0,(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-40|0),e.scale(1,-1),e.fillStyle="#000",e.fillText(Ve,0,0),e.fillText(qe,0,40),e.translate(wu().Lcfx70_cfpl_draft_Dev$__f_hsz/2|0,(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-40|0),e.scale(1,-1),this.drawLetter__T__D__D__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V("A",0,32+n|0,"3em",e),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<0&&eu().translateS__D__D__V(0,-np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),this.drawDev__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(t,e),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<0&&eu().translateS__D__D__V(0,np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),e.translate(0,30-(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)|0),this.drawLetter__T__D__D__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V("B",0,32+n|0,"3em",e),np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<0&&eu().translateS__D__D__V(0,-np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),this.drawDev__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(_,e),e.restore()};var Xm=(new gp).initClass({Lcfx70_cfpl_draft_RedRCDev:0},!1,"cfx70.cfpl.draft.RedRCDev",{Lcfx70_cfpl_draft_RedRCDev:1,Lcfx70_cfpl_draft_Dev:1,O:1});function Jm(e){this.Lcfx70_cfpl_draft_Draft__f_model=null,this.Lcfx70_cfpl_draft_Draft__f_mscl=0,this.Lcfx70_cfpl_draft_RedRCDraft__f_segs=0,qu(this,e),this.Lcfx70_cfpl_draft_RedRCDraft__f_segs=Wp().Lcfx70_cfpl_core_BGeometry$__f_segments}Zm.prototype.$classData=Xm,Jm.prototype=new Pu,Jm.prototype.constructor=Jm,Jm.prototype,Jm.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=wR(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_bpts.init__O()),_=wR(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_tpts.init__O());if(np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))var r=-(np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))*this.Lcfx70_cfpl_draft_Draft__f_mscl;else r=0;e.save(),this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.beginPath(),e.translate(0,(ku().Lcfx70_cfpl_draft_Draft$__f_vsz/4|0)+r),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth;var a=eu(),n=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn,i=Wp().fan__sc_Seq__sc_Seq__sc_Seq(n.Lcfx70_cfpl_core_BRCRed__f_bpts,n.Lcfx70_cfpl_core_BRCRed__f_tpts);a.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(i.head__O()),wR(i.tail__O())),e.stroke(),e.beginPath(),eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillStyle="#ffffff";var s=bV(new IV,[0,0,1]),o=pf(new uf,s),c=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn;this.trianglesVisible__Lcfx70_vecquat_Vec__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(o,Wp().fan__sc_Seq__sc_Seq__sc_Seq(c.Lcfx70_cfpl_core_BRCRed__f_bpts,c.Lcfx70_cfpl_core_BRCRed__f_tpts),e),e.fill(),e.beginPath(),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_thinlineWidth;var l=bV(new IV,[0,0,1]),p=pf(new uf,l),u=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn;this.trianglesVisible__Lcfx70_vecquat_Vec__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(p,Wp().fan__sc_Seq__sc_Seq__sc_Seq(u.Lcfx70_cfpl_core_BRCRed__f_bpts,u.Lcfx70_cfpl_core_BRCRed__f_tpts),e),e.stroke(),e.beginPath();var f=eu(),h=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_tpts;f.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(h.head__O()),wR(h.tail__O())),e.fill(),e.beginPath(),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth;var d=eu(),m=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_tpts;d.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(m.head__O()),wR(m.tail__O())),e.stroke();var y=Wp(),g=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_d,v=[Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_da,Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_db,0],$=bV(new IV,v),x=y.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq(g/2,pf(new uf,$),1.5707963267948966,4.71238898038469),b=Wp(),I=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_d,L=[Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_da+Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_d/7,Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.Lcfx70_cfpl_core_BRCRed__f_db,0],S=bV(new IV,L),M=Uh(b.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq(I/2,pf(new uf,S),2.0943951023931953,4.1887902047863905).reverse__O()),w=fw(),O=wR(x.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(M,w.scg_GenTraversableFactory__f_ReusableCBFInstance));e.beginPath(),eu().Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.fillStyle="#000000",eu().polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(O.head__O()),wR(O.tail__O())),e.fill();var C=((ku().Lcfx70_cfpl_draft_Draft$__f_vsz/4|0)-ku().Lcfx70_cfpl_draft_Draft$__f_dimspace|0)-r,T=(((0|-ku().Lcfx70_cfpl_draft_Draft$__f_vsz)/4|0)-(ku().Lcfx70_cfpl_draft_Draft$__f_dimspace/3|0)|0)-r;np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))?(Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),C,0,1,e),Vu().horD__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).xy__Lcfx70_vecquat_Vec(),T,0,1,e),np(ff(t.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).xy__Lcfx70_vecquat_Vec(),T,-1,1,e),np(ff(t.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),T,1,1,e)):(Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),T,0,1,e),Vu().horD__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).xy__Lcfx70_vecquat_Vec(),C,0,1,e),np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/2|0)).xy__Lcfx70_vecquat_Vec(),C,-1,1,e),np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),C,1,1,e));var A=np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),R=np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),D=np(Math.max(A,R))+ku().Lcfx70_cfpl_draft_Draft$__f_dimstep,E=np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),B=np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),V=np(Math.min(E,B))-ku().Lcfx70_cfpl_draft_Draft$__f_dimstep;np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))?(Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),D,0,1,e),np(ff(t.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<np(ff(_.apply__I__O(Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0))).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0))).xy__Lcfx70_vecquat_Vec(),V,-1,1,e),np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),V,1,1,e)):(Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),V,0,1,e),np(ff(t.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<np(ff(_.apply__I__O(Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0))).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(Math.imul(3,this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0))).xy__Lcfx70_vecquat_Vec(),D,-1,1,e),np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(this.Lcfx70_cfpl_draft_RedRCDraft__f_segs/4|0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),D,1,1,e)),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth,e.translate(0,(0|-(Math.imul(3,ku().Lcfx70_cfpl_draft_Draft$__f_vsz)/8|0))-r),e.scale(1,-1),e.beginPath();var q=eu(),H=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_cn.tophalf__sc_Seq(),P=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),j=fw(),F=wR(H.map__F1__scg_CanBuildFrom__O(P,j.scg_GenTraversableFactory__f_ReusableCBFInstance));q.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(F.head__O()),wR(F.tail__O()));var z=eu(),k=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fcb.top__sc_Seq(),G=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),N=fw(),W=wR(k.map__F1__scg_CanBuildFrom__O(G,N.scg_GenTraversableFactory__f_ReusableCBFInstance));z.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(W.head__O()),wR(W.tail__O()));var U=eu(),Z=Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fct.tophalf__sc_Seq(),X=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),J=fw(),Y=wR(Z.map__F1__scg_CanBuildFrom__O(X,J.scg_GenTraversableFactory__f_ReusableCBFInstance));U.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(Y.head__O()),wR(Y.tail__O())),e.stroke(),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fct.tophalf__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fcb.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),D,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fcb.top__sc_Seq().apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fcb.top__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),V,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fcb.top__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fct.tophalf__sc_Seq().apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),V,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fct.tophalf__sc_Seq().apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),ff(Rm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRC__f_fct.tophalf__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),V,0,1,e),e.restore()};var Ym=(new gp).initClass({Lcfx70_cfpl_draft_RedRCDraft:0},!1,"cfx70.cfpl.draft.RedRCDraft",{Lcfx70_cfpl_draft_RedRCDraft:1,Lcfx70_cfpl_draft_Draft:1,O:1});function Qm(e){this.Lcfx70_cfpl_draft_Dev__f_model=null,this.Lcfx70_cfpl_draft_Dev__f_mscl=0,xu(this,e)}Jm.prototype.$classData=Ym,Qm.prototype=new Iu,Qm.prototype.constructor=Qm,Qm.prototype,Qm.prototype.topPoints__sc_Seq=function(){var e=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq(),t=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec()))),_=fw(),r=wR(e.map__F1__scg_CanBuildFrom__O(t,_.scg_GenTraversableFactory__f_ReusableCBFInstance)),a=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.hside__sc_Seq__D(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.top__sc_Seq()),n=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq(),i=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec()))),s=fw(),o=wR(n.map__F1__scg_CanBuildFrom__O(i,s.scg_GenTraversableFactory__f_ReusableCBFInstance)),c=[0,a+np(ff(r.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],l=bV(new IV,c),p=pf(new uf,l),u=new k$((e=>ff(e).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(p))),f=fw(),h=wR(o.map__F1__scg_CanBuildFrom__O(u,f.scg_GenTraversableFactory__f_ReusableCBFInstance)),d=rf().apply__I__sc_Seq__Lcfx70_vecquat_Mat(2,bV(new IV,[-1,0,0,1])),m=fw(),y=Lw(r.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(h,m.scg_GenTraversableFactory__f_ReusableCBFInstance)),g=new k$((e=>{var t=ff(e);return d.$times__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(t)})),v=fw();return wR(y.map__F1__scg_CanBuildFrom__O(g,v.scg_GenTraversableFactory__f_ReusableCBFInstance))},Qm.prototype.bottomPoints__sc_Seq=function(){var e=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.bottom__sc_Seq(),t=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.bottom__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec()))),_=fw(),r=wR(e.map__F1__scg_CanBuildFrom__O(t,_.scg_GenTraversableFactory__f_ReusableCBFInstance)),a=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.hside__sc_Seq__D(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.bottom__sc_Seq()),n=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fct.bottom__sc_Seq(),i=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.bottom__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec()))),s=fw(),o=wR(n.map__F1__scg_CanBuildFrom__O(i,s.scg_GenTraversableFactory__f_ReusableCBFInstance)),c=[0,a+np(ff(r.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],l=bV(new IV,c),p=pf(new uf,l),u=new k$((e=>ff(e).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(p))),f=fw(),h=wR(o.map__F1__scg_CanBuildFrom__O(u,f.scg_GenTraversableFactory__f_ReusableCBFInstance)),d=fw();return wR(r.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(h,d.scg_GenTraversableFactory__f_ReusableCBFInstance))},Qm.prototype.rightPoints__sc_Seq=function(){var e=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.right__sc_Seq(),t=new k$((e=>ff(e).yz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.right__sc_Seq().apply__I__O(2)).yz__Lcfx70_vecquat_Vec()))),_=fw(),r=wR(e.map__F1__scg_CanBuildFrom__O(t,_.scg_GenTraversableFactory__f_ReusableCBFInstance)),a=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.hside__sc_Seq__D(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.right__sc_Seq()),n=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fct.right__sc_Seq(),i=new k$((e=>ff(e).yz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.right__sc_Seq().apply__I__O(2)).yz__Lcfx70_vecquat_Vec()))),s=fw(),o=wR(n.map__F1__scg_CanBuildFrom__O(i,s.scg_GenTraversableFactory__f_ReusableCBFInstance)),c=[0,a+np(ff(r.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],l=bV(new IV,c),p=pf(new uf,l),u=new k$((e=>ff(e).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(p))),f=fw(),h=wR(o.map__F1__scg_CanBuildFrom__O(u,f.scg_GenTraversableFactory__f_ReusableCBFInstance)),d=fw();return wR(r.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(h,d.scg_GenTraversableFactory__f_ReusableCBFInstance))},Qm.prototype.leftPoints__sc_Seq=function(){var e=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.left__sc_Seq(),t=new k$((e=>ff(e).yz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.left__sc_Seq().apply__I__O(3)).yz__Lcfx70_vecquat_Vec()))),_=fw(),r=wR(e.map__F1__scg_CanBuildFrom__O(t,_.scg_GenTraversableFactory__f_ReusableCBFInstance)),a=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.hside__sc_Seq__D(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_cn.left__sc_Seq()),n=Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fct.left__sc_Seq(),i=new k$((e=>ff(e).yz__Lcfx70_vecquat_Vec().$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(Bm(this.Lcfx70_cfpl_draft_Dev__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.left__sc_Seq().apply__I__O(3)).yz__Lcfx70_vecquat_Vec()))),s=fw(),o=wR(n.map__F1__scg_CanBuildFrom__O(i,s.scg_GenTraversableFactory__f_ReusableCBFInstance)),c=[0,a+np(ff(r.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],l=bV(new IV,c),p=pf(new uf,l),u=new k$((e=>ff(e).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(p))),f=fw(),h=wR(o.map__F1__scg_CanBuildFrom__O(u,f.scg_GenTraversableFactory__f_ReusableCBFInstance)),d=rf().apply__I__sc_Seq__Lcfx70_vecquat_Mat(2,bV(new IV,[-1,0,0,1])),m=fw(),y=Lw(r.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(h,m.scg_GenTraversableFactory__f_ReusableCBFInstance)),g=new k$((e=>{var t=ff(e);return d.$times__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(t)})),v=fw();return wR(y.map__F1__scg_CanBuildFrom__O(g,v.scg_GenTraversableFactory__f_ReusableCBFInstance))},Qm.prototype.drawDev__sc_Seq__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e,t,_){var r=[0,0|-(wu().Lcfx70_cfpl_draft_Dev$__f_dimspace+wu().Lcfx70_cfpl_draft_Dev$__f_dimstep|0)],a=bV(new IV,r),n=ff(e.foldLeft__O__F2__O(pf(new uf,a),new N$(((e,t)=>function(e,t,_){if(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))return t;var r=[np(_.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],a=bV(new IV,r);return pf(new uf,a)}(0,ff(e),ff(t)))))),i=new k$((e=>ff(e).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(n))),s=fw(),o=wR(e.map__F1__scg_CanBuildFrom__O(i,s.scg_GenTraversableFactory__f_ReusableCBFInstance));_.beginPath(),_.fillStyle="#000",_.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_lineWidth;var c=eu(),l=ff(o.apply__I__O(0)),p=[ff(o.apply__I__O(1)),ff(o.apply__I__O(4)),ff(o.apply__I__O(5)),ff(o.apply__I__O(6)),ff(o.apply__I__O(7)),ff(o.apply__I__O(2)),ff(o.apply__I__O(3))];c.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(l.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));for(var u=0,f=_p(p.length);u<f;){var h=ff(p[u]);eu().L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(h.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(h.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),u=1+u|0}c.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.closePath(),_.stroke(),_.beginPath(),_.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_thinlineWidth,_.setLineDash([50,10]),eu().line__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(o.apply__I__O(1)),ff(o.apply__I__O(2))),eu().line__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(o.apply__I__O(4)),ff(o.apply__I__O(7))),_.stroke(),_.beginPath(),_.lineWidth=wu().Lcfx70_cfpl_draft_Dev$__f_lineWidth,_.setLineDash([]);var d=((wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)-wu().Lcfx70_cfpl_draft_Dev$__f_dimspace|0)-wu().Lcfx70_cfpl_draft_Dev$__f_dimstep|0,m=wu().Lcfx70_cfpl_draft_Dev$__f_dimstep;Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(0)),ff(o.apply__I__O(3)),m,0,1,_),np(ff(o.apply__I__O(7)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(7)),ff(o.apply__I__O(3)),m,1,1,_),np(ff(o.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(o.apply__I__O(4)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(0)),ff(o.apply__I__O(4)),m,-1,1,_),Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(5)),ff(o.apply__I__O(6)),d,0,1,_),np(ff(o.apply__I__O(7)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(7)),ff(o.apply__I__O(3)),d,1,1,_),np(ff(o.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(o.apply__I__O(4)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(0)),ff(o.apply__I__O(4)),d,-1,1,_);var y=np(ff(o.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),g=np(ff(o.apply__I__O(5)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),v=np(Math.max(y,g))+wu().Lcfx70_cfpl_draft_Dev$__f_dimspace,$=np(ff(o.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),x=np(ff(o.apply__I__O(7)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),b=np(Math.min($,x))-wu().Lcfx70_cfpl_draft_Dev$__f_dimspace;Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(0)),ff(o.apply__I__O(1)),v,-1,1,_),Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(1)),ff(o.apply__I__O(4)),v,0,1,_),Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(4)),ff(o.apply__I__O(5)),v,1,1,_),Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(o.apply__I__O(3)),ff(o.apply__I__O(6)),b,0,1,_);var I=[np(ff(o.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ff(o.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),0],L=bV(new IV,I),S=pf(new uf,L),M=[np(ff(o.apply__I__O(7)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ff(o.apply__I__O(7)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),0],w=bV(new IV,M),O=new Mv(S,pf(new uf,w)),C=[np(ff(o.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ff(o.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),0],T=bV(new IV,C),A=pf(new uf,T),R=[np(ff(o.apply__I__O(4)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(ff(o.apply__I__O(4)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),0],D=bV(new IV,R),E=new Mv(A,pf(new uf,D)),B=O.intersect__Lcfx70_cfpl_core_Line3__s_Option(E);if(_.beginPath(),B instanceof GS){var V=ff(NS(B).s_Some__f_value);_.save(),eu().translateS__D__D__V(np(V.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(V.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),_.scale(1,-1),_.font="italic 5em sans-serif",_.textBaseline="middle",_.fillText(t,0,0),_.restore()}else{if(kS()!==B)throw new yI(B);VM(Fv().s_Console$__f_outVar.s_util_DynamicVariable__f_v).java$lang$JSConsoleBasedPrintStream$$printString__T__V("not intersects\n")}},Qm.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){e.save(),this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.translate((((0|-wu().Lcfx70_cfpl_draft_Dev$__f_hsz)/2|0)+wu().Lcfx70_cfpl_draft_Dev$__f_dimspace|0)+(wu().Lcfx70_cfpl_draft_Dev$__f_dimstep<<1)|0,wu().Lcfx70_cfpl_draft_Dev$__f_dimstep),this.drawDev__sc_Seq__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.topPoints__sc_Seq(),"A",e),e.translate(0,0|-(wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0)),this.drawDev__sc_Seq__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.bottomPoints__sc_Seq(),"B",e),e.translate(wu().Lcfx70_cfpl_draft_Dev$__f_hsz/2|0,0),this.drawDev__sc_Seq__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.rightPoints__sc_Seq(),"D",e),e.translate(0,wu().Lcfx70_cfpl_draft_Dev$__f_vsz/2|0),this.drawDev__sc_Seq__T__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.leftPoints__sc_Seq(),"C",e),e.restore()};var Km=(new gp).initClass({Lcfx70_cfpl_draft_RedRRDev:0},!1,"cfx70.cfpl.draft.RedRRDev",{Lcfx70_cfpl_draft_RedRRDev:1,Lcfx70_cfpl_draft_Dev:1,O:1});function ey(e){this.Lcfx70_cfpl_draft_Draft__f_model=null,this.Lcfx70_cfpl_draft_Draft__f_mscl=0,qu(this,e)}Qm.prototype.$classData=Km,ey.prototype=new Pu,ey.prototype.constructor=ey,ey.prototype,ey.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=wR(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.Lcfx70_cfpl_core_BPyramid__f_bpts.init__O()),_=wR(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.Lcfx70_cfpl_core_BPyramid__f_tpts.init__O());if(np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))var r=-(np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))*this.Lcfx70_cfpl_draft_Draft__f_mscl;else r=0;e.save(),this.beginDraw__Lorg_scalajs_dom_CanvasRenderingContext2D__V(e),e.beginPath(),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth,e.translate(0,(ku().Lcfx70_cfpl_draft_Draft$__f_vsz/4|0)+r);var a=bV(new IV,[0,0,1]),n=pf(new uf,a),i=fw(),s=[Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.top__sc_Seq(),Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.bottom__sc_Seq(),Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.left__sc_Seq(),Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.right__sc_Seq()];this.drawVisible__Lcfx70_vecquat_Vec__sc_Seq__Lorg_scalajs_dom_CanvasRenderingContext2D__V(n,wR(i.apply__sc_Seq__sc_GenTraversable(bV(new IV,s))),e),eu().polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(_.head__O()),wR(_.tail__O())),e.stroke(),e.beginPath(),e.fillStyle="#000";var o=eu(),c=ff(_.apply__I__O(0)),l=ff(_.apply__I__O(1)),p=ff(_.apply__I__O(2)),u=[np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+(np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))/4,np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-(np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(ff(_.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))/4],f=bV(new IV,u),h=[l,p,pf(new uf,f)];o.M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)));for(var d=0,m=_p(h.length);d<m;){var y=ff(h[d]);eu().L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(y.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),d=1+d|0}o.Lcfx70_cfpl_core_Helpers2d$RichContext$__f_ctx.closePath(),e.fill();var g=(ku().Lcfx70_cfpl_draft_Draft$__f_vsz/4|0)-ku().Lcfx70_cfpl_draft_Draft$__f_dimspace|0,v=((0|-ku().Lcfx70_cfpl_draft_Draft$__f_vsz)/4|0)-(ku().Lcfx70_cfpl_draft_Draft$__f_dimspace/3|0)|0;np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))?(Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),g-r,0,1,e),Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),v-r,0,1,e),np(ff(t.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(_.apply__I__O(2)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),v-r,-1,1,e),np(ff(t.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),v-r,1,1,e)):(Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),v-r,0,1,e),Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),g-r,0,1,e),np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))<np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),g-r,-1,1,e),np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))&&Vu().hor__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),g-r,1,1,e));var $=np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),x=np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),b=np(Math.max($,x))+ku().Lcfx70_cfpl_draft_Draft$__f_dimstep,I=np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),L=np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),S=np(Math.min(I,L))-ku().Lcfx70_cfpl_draft_Draft$__f_dimstep;np(ff(t.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))>np(ff(_.apply__I__O(1)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))?(Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),b,0,1,e),Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),S,0,1,e),np(ff(t.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<np(ff(_.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),S,-1,1,e),np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),S,1,1,e)):(Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(2)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(1)).xy__Lcfx70_vecquat_Vec(),S,0,1,e),Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),b,0,1,e),np(ff(t.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))<np(ff(_.apply__I__O(3)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(t.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),ff(_.apply__I__O(3)).xy__Lcfx70_vecquat_Vec(),b,-1,1,e),np(ff(t.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))>np(ff(_.apply__I__O(0)).Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))&&Vu().vert__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(_.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),ff(t.apply__I__O(0)).xy__Lcfx70_vecquat_Vec(),b,1,1,e)),e.lineWidth=ku().Lcfx70_cfpl_draft_Draft$__f_lineWidth,e.translate(0,(0|-(Math.imul(3,ku().Lcfx70_cfpl_draft_Draft$__f_vsz)/8|0))-r),e.scale(1,-1),e.beginPath();var M=eu(),w=Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_cn.top__sc_Seq(),O=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),C=fw(),T=wR(w.map__F1__scg_CanBuildFrom__O(O,C.scg_GenTraversableFactory__f_ReusableCBFInstance));M.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(T.head__O()),wR(T.tail__O()));var A=eu(),R=Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq(),D=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),E=fw(),B=wR(R.map__F1__scg_CanBuildFrom__O(D,E.scg_GenTraversableFactory__f_ReusableCBFInstance));A.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(B.head__O()),wR(B.tail__O()));var V=eu(),q=Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq(),H=new k$((e=>ff(e).xz__Lcfx70_vecquat_Vec())),P=fw(),j=wR(q.map__F1__scg_CanBuildFrom__O(H,P.scg_GenTraversableFactory__f_ReusableCBFInstance));V.polygon__Lcfx70_vecquat_Vec__sc_Seq__Lcfx70_cfpl_core_Helpers2d$RichContext$(ff(j.head__O()),wR(j.tail__O())),e.stroke(),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq().apply__I__O(1)).xz__Lcfx70_vecquat_Vec(),ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(0)).xz__Lcfx70_vecquat_Vec(),b,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fcb.top__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),Vu().vertR__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__D__I__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq().apply__I__O(2)).xz__Lcfx70_vecquat_Vec(),ff(Bm(this.Lcfx70_cfpl_draft_Draft__f_model).Lcfx70_cfpl_core_RedRR__f_fct.top__sc_Seq().apply__I__O(3)).xz__Lcfx70_vecquat_Vec(),S,0,1,e),e.restore()};var ty=(new gp).initClass({Lcfx70_cfpl_draft_RedRRDraft:0},!1,"cfx70.cfpl.draft.RedRRDraft",{Lcfx70_cfpl_draft_RedRRDraft:1,Lcfx70_cfpl_draft_Draft:1,O:1});function _y(e,t){this.Lcfx70_cfpl_draft_Mats__f_model=null,this.Lcfx70_cfpl_draft_Mats__f_t=null,function(e,t,_){e.Lcfx70_cfpl_draft_Mats__f_model=t,e.Lcfx70_cfpl_draft_Mats__f_t=_,_.innerHTML=""}(this,e,t)}ey.prototype.$classData=ty,_y.prototype=new Nu,_y.prototype.constructor=_y,_y.prototype,_y.prototype.writeMats__V=function(){var e=Bm(this.Lcfx70_cfpl_draft_Mats__f_model).area__D()/1e6,t=new bR("<tr> <td><//td> <td>%.2f <//td> <td><sup>2<//sup><//td> <//tr>"),_=[e],r=t.sci_StringOps__f_repr;fw(),aO();var a=[];_p(_.length);for(var n=0,i=_p(_.length);n<i;){var s=$R(0,_[n]);a.push(s),n=1+n|0}MA();for(var o=new op(_p(a.length)),c=o.u.length,l=0,p=0,u=_p(a.length),f=u<c?u:c,h=o.u.length,d=f<h?f:h;l<d;){var m=p,y=l;o.set(m,a[y]),l=1+l|0,p=1+p|0}var g=Dy().format__T__AO__T(r,o);this.Lcfx70_cfpl_draft_Mats__f_t.innerHTML=g};var ry=(new gp).initClass({Lcfx70_cfpl_draft_RedRRMats:0},!1,"cfx70.cfpl.draft.RedRRMats",{Lcfx70_cfpl_draft_RedRRMats:1,Lcfx70_cfpl_draft_Mats:1,O:1});function ay(e,t,_,r,a,n){Tu(e,t,_,r,a,n);var i=e.Lcfx70_cfpl_draft_Dim__f_prec,s=new bR("%."+-np(Math.log10(i))+"f"),o=(np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))*(np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))+(np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))*(np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),c=np(Math.sqrt(o))/e.Lcfx70_cfpl_draft_Dim__f_prec,l=Vh(),p=np(Math.round(c)),u=l.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(p),f=l.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn,h=[Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(u,f)*e.Lcfx70_cfpl_draft_Dim__f_prec],d=s.sci_StringOps__f_repr;fw(),aO();var m=[];_p(h.length);for(var y=0,g=_p(h.length);y<g;){var v=$R(0,h[y]);m.push(v),y=1+y|0}MA();for(var $=new op(_p(m.length)),x=$.u.length,b=0,I=0,L=_p(m.length),S=L<x?L:x,M=$.u.length,w=S<M?S:M;b<w;){var O=I,C=b;$.set(O,m[C]),b=1+b|0,I=1+I|0}return e.Lcfx70_cfpl_draft_TxDim__f_dist=Dy().format__T__AO__T(d,$),e}function ny(){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_TxDim__f_dist=null}function iy(){}_y.prototype.$classData=ry,ny.prototype=new Ru,ny.prototype.constructor=ny,iy.prototype=ny.prototype,ny.prototype.dist__T=function(){return this.Lcfx70_cfpl_draft_TxDim__f_dist},ny.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=[(np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)))*this.Lcfx70_cfpl_draft_Dim__f_cln,(np(this.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(this.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)))*this.Lcfx70_cfpl_draft_Dim__f_cln],_=bV(new IV,t),r=pf(new uf,_).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dim__f_p1);if(e.save(),e.beginPath(),e.lineWidth=Vu().Lcfx70_cfpl_draft_Dim$__f_lineWidth,e.textBaseline="bottom",eu().translateS__D__D__V(np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(r.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),e.scale(1,-1),e.fillStyle="#000",e.arc(0,0,7,0,6.283185307179586),e.fill(),0===this.Lcfx70_cfpl_draft_Dim__f_hint){var a=eu(),n=this.Lcfx70_cfpl_draft_TxDim__f_dist;Jp();var i=bV(new IV,[0,0]),s=pf(new uf,i),o=rx().Lcfx70_cfpl_core_Side$__f_CENTER,c=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;a.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(n,s,o,c,0)}else if(this.Lcfx70_cfpl_draft_Dim__f_hint<0){var l=eu(),p=this.Lcfx70_cfpl_draft_TxDim__f_dist;Jp();var u=bV(new IV,[0,0]),f=pf(new uf,u),h=rx().Lcfx70_cfpl_core_Side$__f_RIGHT,d=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;l.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(p,f,h,d,0)}else{var m=eu(),y=this.Lcfx70_cfpl_draft_TxDim__f_dist;Jp();var g=bV(new IV,[0,0]),v=pf(new uf,g),$=rx().Lcfx70_cfpl_core_Side$__f_LEFT,x=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;m.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(y,v,$,x,0)}e.restore()};var sy=(new gp).initClass({Lcfx70_cfpl_draft_TxDim:0},!1,"cfx70.cfpl.draft.TxDim",{Lcfx70_cfpl_draft_TxDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});function oy(e,t,_,r,a,n){Tu(e,t,_,r,a,n);var i=e.Lcfx70_cfpl_draft_Dim__f_prec,s=new bR("%."+-np(Math.log10(i))+"f"),o=np(e.Lcfx70_cfpl_draft_Dim__f_p2.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-np(e.Lcfx70_cfpl_draft_Dim__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),c=np(Math.abs(o))/e.Lcfx70_cfpl_draft_Dim__f_prec,l=Vh(),p=np(Math.round(c)),u=l.org$scalajs$linker$runtime$RuntimeLong$$fromDoubleImpl__D__I(p),f=l.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn,h=[Vh().org$scalajs$linker$runtime$RuntimeLong$$toDouble__I__I__D(u,f)*e.Lcfx70_cfpl_draft_Dim__f_prec],d=s.sci_StringOps__f_repr;fw(),aO();var m=[];_p(h.length);for(var y=0,g=_p(h.length);y<g;){var v=$R(0,h[y]);m.push(v),y=1+y|0}MA();for(var $=new op(_p(m.length)),x=$.u.length,b=0,I=0,L=_p(m.length),S=L<x?L:x,M=$.u.length,w=S<M?S:M;b<w;){var O=I,C=b;$.set(O,m[C]),b=1+b|0,I=1+I|0}return e.Lcfx70_cfpl_draft_VertDim__f_dist=Dy().format__T__AO__T(d,$),e}function cy(){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_VertDim__f_dist=null}function ly(){}ny.prototype.$classData=sy,cy.prototype=new Ru,cy.prototype.constructor=cy,ly.prototype=cy.prototype,cy.prototype.dist__T=function(){return this.Lcfx70_cfpl_draft_VertDim__f_dist};var py=(new gp).initClass({Lcfx70_cfpl_draft_VertDim:0},!1,"cfx70.cfpl.draft.VertDim",{Lcfx70_cfpl_draft_VertDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});function uy(){}cy.prototype.$classData=py,uy.prototype=new sp,uy.prototype.constructor=uy,uy.prototype,uy.prototype.toString__I__T=function(e){if(e>=0&&e<65536)return CS(String.fromCharCode(e));if(e>=0&&e<=1114111)return CS(String.fromCharCode(65535&(55296|(e>>10)-64),65535&(56320|1023&e)));throw Wb(new Ub)};var fy,hy=(new gp).initClass({jl_Character$:0},!1,"java.lang.Character$",{jl_Character$:1,O:1,Ljava_io_Serializable:1});function dy(e,t){throw new LS('For input string: "'+t+'"')}function my(){this.jl_Double$__f_doubleStrPat=null,this.jl_Double$__f_doubleStrHexPat=null,this.jl_Double$__f_bitmap$0=0}uy.prototype.$classData=hy,my.prototype=new sp,my.prototype.constructor=my,my.prototype,my.prototype.parseDouble__T__D=function(e){var t,_=(t=this,(1&t.jl_Double$__f_bitmap$0)<<24>>24==0?function(e){return(1&e.jl_Double$__f_bitmap$0)<<24>>24==0&&(e.jl_Double$__f_doubleStrPat=new RegExp("^[\\x00-\\x20]*([+-]?(?:NaN|Infinity|(?:\\d+\\.?\\d*|\\.\\d+)(?:[eE][+-]?\\d+)?)[fFdD]?)[\\x00-\\x20]*$"),e.jl_Double$__f_bitmap$0=(1|e.jl_Double$__f_bitmap$0)<<24>>24),e.jl_Double$__f_doubleStrPat}(t):t.jl_Double$__f_doubleStrPat).exec(e);return null!==_?np(parseFloat(CS(_[1]))):function(e,t){var _=function(e){return(2&e.jl_Double$__f_bitmap$0)<<24>>24==0?function(e){return(2&e.jl_Double$__f_bitmap$0)<<24>>24==0&&(e.jl_Double$__f_doubleStrHexPat=new RegExp("^[\\x00-\\x20]*([+-]?)0[xX]([0-9A-Fa-f]*)\\.?([0-9A-Fa-f]*)[pP]([+-]?\\d+)[fFdD]?[\\x00-\\x20]*$"),e.jl_Double$__f_bitmap$0=(2|e.jl_Double$__f_bitmap$0)<<24>>24),e.jl_Double$__f_doubleStrHexPat}(e):e.jl_Double$__f_doubleStrHexPat}(e).exec(t);null===_&&dy(0,t);var r=CS(_[1]),a=CS(_[2]),n=CS(_[3]),i=CS(_[4]);""===a&&""===n&&dy(0,t);var s=e.parseHexDoubleImpl__T__T__T__I__D(a,n,i,15);return"-"===r?-s:s}(this,e)},my.prototype.parseHexDoubleImpl__T__T__T__I__D=function(e,t,_,r){for(var a=""+e+t,n=0|-(t.length<<2),i=0;;){if(i!==a.length)var s=48===jl(a,i);else s=!1;if(!s)break;i=1+i|0}var o=i;(o<0||o>a.length)&&jl(a,o);var c=CS(a.substring(o));if(""===c)return 0;var l=c.length,p=l>r;if(p){for(var u=!1,f=r;!u&&f!==l;)48!==jl(c,f)&&(u=!0),f=1+f|0;var h=u?"1":"0";r>c.length&&jl(c,r),r<0&&jl(c,-1);var d=CS(c.substring(0,r))+h}else d=c;var m=n+(p?(c.length-(1+r|0)|0)<<2:0)|0,y=np(parseInt(d,16)),g=Pl(np(parseInt(_,10)))+m|0,v=g/3|0,$=v,x=np(Math.pow(2,$)),b=g-(v<<1)|0;return y*x*x*np(Math.pow(2,b))};var yy,gy=(new gp).initClass({jl_Double$:0},!1,"java.lang.Double$",{jl_Double$:1,O:1,Ljava_io_Serializable:1});function vy(){}my.prototype.$classData=gy,vy.prototype=new sp,vy.prototype.constructor=vy,vy.prototype,vy.prototype.bitCount__I__I=function(e){var t=e-(1431655765&e>>1)|0,_=(858993459&t)+(858993459&t>>2)|0;return Math.imul(16843009,252645135&(_+(_>>4)|0))>>24},vy.prototype.reverseBytes__I__I=function(e){return e<<24|16711680&e<<8|65280&(e>>>8|0)|e>>>24|0};var $y,xy=(new gp).initClass({jl_Integer$:0},!1,"java.lang.Integer$",{jl_Integer$:1,O:1,Ljava_io_Serializable:1});function by(){return $y||($y=new vy),$y}function Iy(){}vy.prototype.$classData=xy,Iy.prototype=new sp,Iy.prototype.constructor=Iy,Iy.prototype,Iy.prototype.java$lang$Long$$toHexString__I__I__T=function(e,t){if(0!==t){var _=CS(np(t>>>0).toString(16)),r=CS(np(e>>>0).toString(16)),a=r.length;return(a<0||a>8)&&jl("00000000",a),_+""+CS("00000000".substring(a))+r}return CS(np(e>>>0).toString(16))},Iy.prototype.java$lang$Long$$toOctalString__I__I__T=function(e,t){var _=1073741823&e,r=1073741823&((e>>>30|0)+(t<<2)|0),a=t>>>28|0;if(0!==a){var n=CS(np(a>>>0).toString(8)),i=CS(np(r>>>0).toString(8)),s=i.length;(s<0||s>10)&&jl("0000000000",s);var o=CS("0000000000".substring(s)),c=CS(np(_>>>0).toString(8)),l=c.length;return(l<0||l>10)&&jl("0000000000",l),n+""+o+i+CS("0000000000".substring(l))+c}if(0!==r){var p=CS(np(r>>>0).toString(8)),u=CS(np(_>>>0).toString(8)),f=u.length;return(f<0||f>10)&&jl("0000000000",f),p+""+CS("0000000000".substring(f))+u}return CS(np(_>>>0).toString(8))};var Ly,Sy=(new gp).initClass({jl_Long$:0},!1,"java.lang.Long$",{jl_Long$:1,O:1,Ljava_io_Serializable:1});function My(){return Ly||(Ly=new Iy),Ly}function wy(){}function Oy(e){return e instanceof wy||"number"==typeof e||e instanceof Oh}function Cy(e){return Oy(e)||null===e?e:Sl(e,"java.lang.Number")}function Ty(){}Iy.prototype.$classData=Sy,wy.prototype=new sp,wy.prototype.constructor=wy,wy.prototype,Ty.prototype=new sp,Ty.prototype.constructor=Ty,Ty.prototype,Ty.prototype.format__T__AO__T=function(e,t){return(_=new zx,function(e,t,_){e.ju_Formatter__f_java$util$Formatter$$dest=null,e.ju_Formatter__f_formatterLocaleInfo=_,e.ju_Formatter__f_stringOutput="",e.ju_Formatter__f_java$util$Formatter$$closed=!1}(_,0,jy()),_).format__T__AO__ju_Formatter(e,t).toString__T();var _};var Ay,Ry=(new gp).initClass({jl_String$:0},!1,"java.lang.String$",{jl_String$:1,O:1,Ljava_io_Serializable:1});function Dy(){return Ay||(Ay=new Ty),Ay}function Ey(e,t,_,r,a){return e.jl_Throwable__f_s=t,a&&e.fillInStackTrace__jl_Throwable(),e}Ty.prototype.$classData=Ry;class By extends Error{constructor(){super(),this.jl_Throwable__f_s=null}getMessage__T(){return this.jl_Throwable__f_s}fillInStackTrace__jl_Throwable(){return"[object Error]"!==Object.prototype.toString.call(this)&&(void 0===Error.captureStackTrace?new Error:Error.captureStackTrace(this)),this}toString__T(){var e=Dl(this),t=this.getMessage__T();return null===t?e:e+": "+t}$js$exported$meth$toString__O(){return this.toString__T()}$js$exported$prop$name__O(){return Dl(this)}$js$exported$prop$message__O(){var e=this.getMessage__T();return null===e?"":e}hashCode__I(){return ip.prototype.hashCode__I.call(this)}equals__O__Z(e){return ip.prototype.equals__O__Z.call(this,e)}get message(){return this.$js$exported$prop$message__O()}get name(){return this.$js$exported$prop$name__O()}toString(){return this.$js$exported$meth$toString__O()}}function Vy(e){return e instanceof By||null===e?e:Sl(e,"java.lang.Throwable")}function qy(){}qy.prototype=new eh,qy.prototype.constructor=qy,qy.prototype;var Hy,Py=(new gp).initClass({ju_Formatter$RootLocaleInfo$:0},!1,"java.util.Formatter$RootLocaleInfo$",{ju_Formatter$RootLocaleInfo$:1,ju_Formatter$LocaleInfo:1,O:1});function jy(){return Hy||(Hy=new qy),Hy}function Fy(e){if(null===e.ju_regex_Matcher__f_lastMatch)throw function(e,t){return Ey(e,"No match available",0,0,!0),e}(new Xb);return e.ju_regex_Matcher__f_lastMatch}function zy(e,t){this.ju_regex_Matcher__f_pattern0=null,this.ju_regex_Matcher__f_java$util$regex$Matcher$$input0=null,this.ju_regex_Matcher__f_regionStart0=0,this.ju_regex_Matcher__f_inputstr=null,this.ju_regex_Matcher__f_position=0,this.ju_regex_Matcher__f_lastMatch=null,this.ju_regex_Matcher__f_pattern0=e,this.ju_regex_Matcher__f_java$util$regex$Matcher$$input0=t,this.ju_regex_Matcher__f_regionStart0=0,this.ju_regex_Matcher__f_inputstr=this.ju_regex_Matcher__f_java$util$regex$Matcher$$input0,this.ju_regex_Matcher__f_position=0,this.ju_regex_Matcher__f_lastMatch=null}qy.prototype.$classData=Py,zy.prototype=new sp,zy.prototype.constructor=zy,zy.prototype,zy.prototype.find__Z=function(){var e=this.ju_regex_Matcher__f_pattern0,t=this.ju_regex_Matcher__f_inputstr,_=this.ju_regex_Matcher__f_position,r=e.java$util$regex$Pattern$$execFindInternal__T__I__O(t,_),a=_p(e.ju_regex_Pattern__f_java$util$regex$Pattern$$jsRegExpForFind.lastIndex);if(null!==r)var n=a===_p(r.index)?1+a|0:a;else n=1+this.ju_regex_Matcher__f_inputstr.length|0;return this.ju_regex_Matcher__f_position=n,this.ju_regex_Matcher__f_lastMatch=r,null!==r},zy.prototype.start__I=function(){return _p(Fy(this).index)+this.ju_regex_Matcher__f_regionStart0|0},zy.prototype.end__I=function(){return this.start__I()+this.group__T().length|0},zy.prototype.group__T=function(){return CS(Fy(this)[0])};var ky=(new gp).initClass({ju_regex_Matcher:0},!1,"java.util.regex.Matcher",{ju_regex_Matcher:1,O:1,ju_regex_MatchResult:1});function Gy(e,t,_,r,a,n,i,s){this.ju_regex_Pattern__f__pattern=null,this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsFlags=null,this.ju_regex_Pattern__f_java$util$regex$Pattern$$sticky=!1,this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsRegExpForFind=null,this.ju_regex_Pattern__f__pattern=e,this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsFlags=r,this.ju_regex_Pattern__f_java$util$regex$Pattern$$sticky=a,this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsRegExpForFind=new RegExp(_,this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsFlags+(this.ju_regex_Pattern__f_java$util$regex$Pattern$$sticky?"gy":"g")),new RegExp("^(?:"+_+")$",r)}zy.prototype.$classData=ky,Gy.prototype=new sp,Gy.prototype.constructor=Gy,Gy.prototype,Gy.prototype.java$util$regex$Pattern$$execFindInternal__T__I__O=function(e,t){var _=this.ju_regex_Pattern__f_java$util$regex$Pattern$$jsRegExpForFind;return _.lastIndex=t,_.exec(e)},Gy.prototype.toString__T=function(){return this.ju_regex_Pattern__f__pattern},Gy.prototype.java$util$regex$Pattern$$split__T__I__AT=function(e,t){if(""===e)return new(TS.getArrayOf().constr)([""]);for(var _=t>0?t:2147483647,r=new zy(this,e),a=[],n=0;_p(a.length)<(-1+_|0)&&r.find__Z();){if(0!==r.end__I()){var i=n,s=r.start__I();i<0&&jl(e,i),s>e.length&&jl(e,s),s<i&&jl(e,-1),_p(a.push(CS(e.substring(i,s))))}n=r.end__I()}var o=n;(o<0||o>e.length)&&jl(e,o),a.push(CS(e.substring(o)));var c=_p(a.length);if(0===t)for(;;){if(0!==c)var l=a[-1+c|0],p=null!==l&&El(l,"");else p=!1;if(!p)break;c=-1+c|0}for(var u=new(TS.getArrayOf().constr)(c),f=c,h=0;h<f;){var d=h;u.set(d,CS(a[d])),h=1+h|0}return u};var Ny=(new gp).initClass({ju_regex_Pattern:0},!1,"java.util.regex.Pattern",{ju_regex_Pattern:1,O:1,Ljava_io_Serializable:1});function Wy(){}Gy.prototype.$classData=Ny,Wy.prototype=new sp,Wy.prototype.constructor=Wy,Wy.prototype,Wy.prototype.apply__scm_Builder=function(){return vV(new $V)},Wy.prototype.apply__O__scm_Builder=function(e){return CS(e),vV(new $V)};var Uy=(new gp).initClass({s_Predef$$anon$1:0},!1,"scala.Predef$$anon$1",{s_Predef$$anon$1:1,O:1,scg_CanBuildFrom:1});function Zy(){Xy=this,new ng(this)}Wy.prototype.$classData=Uy,Zy.prototype=new Kh,Zy.prototype.constructor=Zy,Zy.prototype,Zy.prototype.mapEquals__sc_GenMapLike__sc_GenMap__Z=function(e,t){return e===t||e.size__I()===t.size__I()&&function(e,t,_){try{var r=new eb(t);return _.forall__F1__Z(r)}catch(e){if(e instanceof zb)return kb(e),!1;throw e}}(0,t,e)},Zy.prototype.empty__sc_GenMap=function(){return sb(),KD()};var Xy,Jy=(new gp).initClass({sc_GenMap$:0},!1,"scala.collection.GenMap$",{sc_GenMap$:1,scg_GenMapFactory:1,O:1});function Yy(e,t){if(this.sc_TraversableLike$WithFilter__f_p=null,this.sc_TraversableLike$WithFilter__f_$outer=null,this.sc_TraversableLike$WithFilter__f_p=t,null===e)throw null;this.sc_TraversableLike$WithFilter__f_$outer=e}Zy.prototype.$classData=Jy,Yy.prototype=new sp,Yy.prototype.constructor=Yy,Yy.prototype,Yy.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){var _=t.apply__O__scm_Builder(this.sc_TraversableLike$WithFilter__f_$outer.repr__O());return this.sc_TraversableLike$WithFilter__f_$outer.foreach__F1__V(new k$((t=>Ql(this.sc_TraversableLike$WithFilter__f_p.apply__O__O(t))?_.$plus$eq__O__scm_Builder(e.apply__O__O(t)):void 0))),_.result__O()},Yy.prototype.foreach__F1__V=function(e){this.sc_TraversableLike$WithFilter__f_$outer.foreach__F1__V(new k$((t=>Ql(this.sc_TraversableLike$WithFilter__f_p.apply__O__O(t))?e.apply__O__O(t):void 0)))};var Qy=(new gp).initClass({sc_TraversableLike$WithFilter:0},!1,"scala.collection.TraversableLike$WithFilter",{sc_TraversableLike$WithFilter:1,O:1,scg_FilterMonadic:1});function Ky(e){var t=new a$(e);return e.foreach__F1__V(t),t.sc_TraversableOnce$counter$1__f_result}function eg(e,t,_){var r=new i$(e,t,_);return e.foreach__F1__V(r),r.sc_TraversableOnce$folder$1__f_result}function tg(e,t){var _=t.apply__scm_Builder();return _.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e.seq__sc_TraversableOnce()),_.result__O()}function _g(e,t,_,r){return e.addString__scm_StringBuilder__T__T__T__scm_StringBuilder(vV(new $V),t,_,r).scm_StringBuilder__f_underlying.jl_StringBuilder__f_java$lang$StringBuilder$$content}function rg(e,t,_,r,a){t.append__T__scm_StringBuilder(_);var n=new _$(e,t,r);return e.foreach__F1__V(n),t.append__T__scm_StringBuilder(a),t}function ag(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_TraversableOnce)}(e)||null===e?e:Sl(e,"scala.collection.TraversableOnce")}function ng(e){if(this.scg_GenMapFactory$MapCanBuildFrom__f_$outer=null,null===e)throw null;this.scg_GenMapFactory$MapCanBuildFrom__f_$outer=e}Yy.prototype.$classData=Qy,ng.prototype=new sp,ng.prototype.constructor=ng,ng.prototype,ng.prototype.apply__scm_Builder=function(){return this.scg_GenMapFactory$MapCanBuildFrom__f_$outer.newBuilder__scm_Builder()},ng.prototype.apply__O__scm_Builder=function(e){return TA(e),this.scg_GenMapFactory$MapCanBuildFrom__f_$outer.newBuilder__scm_Builder()};var ig=(new gp).initClass({scg_GenMapFactory$MapCanBuildFrom:0},!1,"scala.collection.generic.GenMapFactory$MapCanBuildFrom",{scg_GenMapFactory$MapCanBuildFrom:1,O:1,scg_CanBuildFrom:1});function sg(){}function og(){}function cg(e){if(this.scg_GenSetFactory$$anon$1__f_$outer=null,null===e)throw null;this.scg_GenSetFactory$$anon$1__f_$outer=e}ng.prototype.$classData=ig,sg.prototype=new td,sg.prototype.constructor=sg,og.prototype=sg.prototype,cg.prototype=new sp,cg.prototype.constructor=cg,cg.prototype,cg.prototype.apply__sc_GenSet__scm_Builder=function(e){return CR(e)?e.companion__scg_GenericCompanion().newBuilder__scm_Builder():this.scg_GenSetFactory$$anon$1__f_$outer.newBuilder__scm_Builder()},cg.prototype.apply__scm_Builder=function(){return this.scg_GenSetFactory$$anon$1__f_$outer.newBuilder__scm_Builder()},cg.prototype.apply__O__scm_Builder=function(e){return this.apply__sc_GenSet__scm_Builder(PA(e))};var lg=(new gp).initClass({scg_GenSetFactory$$anon$1:0},!1,"scala.collection.generic.GenSetFactory$$anon$1",{scg_GenSetFactory$$anon$1:1,O:1,scg_CanBuildFrom:1});function pg(e){return e.scg_GenTraversableFactory__f_ReusableCBFInstance=new l$(e),e}function ug(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null}function fg(){}function hg(e,t){if(null===t)throw null;return e.scg_GenTraversableFactory$GenericCanBuildFrom__f_$outer=t,e}function dg(){this.scg_GenTraversableFactory$GenericCanBuildFrom__f_$outer=null}function mg(){}function yg(e,t){var _=e.companion__scg_GenericCompanion().newBuilder__scm_Builder();return Uh(e).seq__sc_TraversableOnce().foreach__F1__V(new k$((e=>A$(_.$plus$plus$eq__sc_TraversableOnce__scg_Growable(Uh(t.apply__O__O(e)).seq__sc_TraversableOnce()))))),iM(_.result__O())}function gg(e,t){if(RR(t)){var _=DR(t);!function(e,t){for(;!t.isEmpty__Z();)e.$plus$eq__O__scg_Growable(t.head__O()),t=DR(t.tail__O())}(e,_)}else t.foreach__F1__V(new k$((t=>e.$plus$eq__O__scg_Growable(t))));return e}function vg(){}function $g(){}function xg(){this.sci_HashMap$$anon$1__f_invert=null,this.sci_HashMap$$anon$1__f_invert=new Ig(this)}cg.prototype.$classData=lg,ug.prototype=new td,ug.prototype.constructor=ug,fg.prototype=ug.prototype,dg.prototype=new sp,dg.prototype.constructor=dg,mg.prototype=dg.prototype,dg.prototype.apply__scm_Builder=function(){return this.scg_GenTraversableFactory$GenericCanBuildFrom__f_$outer.newBuilder__scm_Builder()},dg.prototype.apply__O__scm_Builder=function(e){return iM(e).companion__scg_GenericCompanion().newBuilder__scm_Builder()},vg.prototype=new Kh,vg.prototype.constructor=vg,$g.prototype=vg.prototype,xg.prototype=new rd,xg.prototype.constructor=xg,xg.prototype,xg.prototype.apply__T2__T2__T2=function(e,t){return e},xg.prototype.retainIdentical__Z=function(){return!0},xg.prototype.invert__sci_HashMap$Merger=function(){return this.sci_HashMap$$anon$1__f_invert};var bg=(new gp).initClass({sci_HashMap$$anon$1:0},!1,"scala.collection.immutable.HashMap$$anon$1",{sci_HashMap$$anon$1:1,sci_HashMap$Merger:1,O:1});function Ig(e){}xg.prototype.$classData=bg,Ig.prototype=new rd,Ig.prototype.constructor=Ig,Ig.prototype,Ig.prototype.apply__T2__T2__T2=function(e,t){return t},Ig.prototype.retainIdentical__Z=function(){return!0},Ig.prototype.invert__sci_HashMap$Merger=function(){return Tw().sci_HashMap$__f__defaultMerger};var Lg=(new gp).initClass({sci_HashMap$$anon$1$$anon$2:0},!1,"scala.collection.immutable.HashMap$$anon$1$$anon$2",{sci_HashMap$$anon$1$$anon$2:1,sci_HashMap$Merger:1,O:1});function Sg(){this.sci_HashMap$$anon$3__f_invert=null,this.sci_HashMap$$anon$3__f_invert=new wg(this)}Ig.prototype.$classData=Lg,Sg.prototype=new rd,Sg.prototype.constructor=Sg,Sg.prototype,Sg.prototype.apply__T2__T2__T2=function(e,t){return Object.is(e._1__O(),t._1__O())?t:US(new ZS,e._1__O(),t._2__O())},Sg.prototype.retainIdentical__Z=function(){return!0},Sg.prototype.invert__sci_HashMap$Merger=function(){return this.sci_HashMap$$anon$3__f_invert};var Mg=(new gp).initClass({sci_HashMap$$anon$3:0},!1,"scala.collection.immutable.HashMap$$anon$3",{sci_HashMap$$anon$3:1,sci_HashMap$Merger:1,O:1});function wg(e){}Sg.prototype.$classData=Mg,wg.prototype=new rd,wg.prototype.constructor=wg,wg.prototype,wg.prototype.apply__T2__T2__T2=function(e,t){return Object.is(t._1__O(),e._1__O())?e:US(new ZS,t._1__O(),e._2__O())},wg.prototype.retainIdentical__Z=function(){return!0},wg.prototype.invert__sci_HashMap$Merger=function(){return Tw().sci_HashMap$__f__concatMerger};var Og=(new gp).initClass({sci_HashMap$$anon$3$$anon$4:0},!1,"scala.collection.immutable.HashMap$$anon$3$$anon$4",{sci_HashMap$$anon$3$$anon$4:1,sci_HashMap$Merger:1,O:1});function Cg(){}wg.prototype.$classData=Og,Cg.prototype=new sp,Cg.prototype.constructor=Cg,Cg.prototype,Cg.prototype.apply$mcDI$sp__I__D=function(e){return np(this)},Cg.prototype.toString__T=function(){return"<function1>"},Cg.prototype.apply__O__O=function(e){return this};var Tg=(new gp).initClass({sci_List$$anon$1:0},!1,"scala.collection.immutable.List$$anon$1",{sci_List$$anon$1:1,O:1,F1:1});function Ag(){}Cg.prototype.$classData=Tg,Ag.prototype=new sp,Ag.prototype.constructor=Ag,Ag.prototype,Ag.prototype.apply__scm_Builder=function(){return bd().newBuilder__scm_Builder()},Ag.prototype.apply__O__scm_Builder=function(e){var t;return(t=e)instanceof nB||null===t||Sl(t,"scala.collection.immutable.WrappedString"),bd().newBuilder__scm_Builder()};var Rg=(new gp).initClass({sci_WrappedString$$anon$1:0},!1,"scala.collection.immutable.WrappedString$$anon$1",{sci_WrappedString$$anon$1:1,O:1,scg_CanBuildFrom:1});function Dg(e){for(var t=-1+e.scm_HashMap__f_table.u.length|0;null===e.scm_HashMap__f_table.get(t)&&t>0;)t=-1+t|0;return t}function Eg(e,t){return Bg(e,t,Hg(e,sm().anyHash__O__I(t)))}function Bg(e,t,_){for(var r=e.scm_HashMap__f_table.get(_);;){if(null!==r)var a=r.scm_DefaultEntry__f_key,n=!Qd().equals__O__O__Z(a,t);else n=!1;if(!n)break;r=r.scm_DefaultEntry__f_next}return r}function Vg(e,t,_){var r=Hg(e,sm().anyHash__O__I(t)),a=Bg(e,t,r);return null!==a?a:(function(e,t,_){var r=e.scm_HashMap__f_table.get(_);t.scm_DefaultEntry__f_next=cb(r),e.scm_HashMap__f_table.set(_,t),e.scm_HashMap__f_tableSize=1+e.scm_HashMap__f_tableSize|0,qg(e,_),e.scm_HashMap__f_tableSize>e.scm_HashMap__f_threshold&&function(e,t){var _=e.scm_HashMap__f_table;e.scm_HashMap__f_table=new(Md.getArrayOf().constr)(t),function(e,t){if(null!==e.scm_HashMap__f_sizemap){var _=function(e,t){return 1+(t>>5)|0}(0,t);if(e.scm_HashMap__f_sizemap.u.length!==_)e.scm_HashMap__f_sizemap=new hp(_);else{var r=e.scm_HashMap__f_sizemap;Gf().fill__AI__I__V(r,0)}}}(e,e.scm_HashMap__f_table.u.length);for(var r=-1+_.u.length|0;r>=0;){for(var a=_.get(r);null!==a;){var n=a.scm_DefaultEntry__f_key,i=Hg(e,sm().anyHash__O__I(n)),s=a.scm_DefaultEntry__f_next,o=a,c=e.scm_HashMap__f_table.get(i);o.scm_DefaultEntry__f_next=cb(c),e.scm_HashMap__f_table.set(i,a),a=s,qg(e,i)}r=-1+r|0}e.scm_HashMap__f_threshold=Td().newThreshold__I__I__I(e.scm_HashMap__f__loadFactor,t)}(e,e.scm_HashMap__f_table.u.length<<1)}(e,new ob(t,_),r),null)}function qg(e,t){if(null!==e.scm_HashMap__f_sizemap){var _=e.scm_HashMap__f_sizemap,r=t>>5;_.set(r,1+_.get(r)|0)}}function Hg(e,t){var _=-1+e.scm_HashMap__f_table.u.length|0,r=_p(Math.clz32(_));return(function(e,t,_){var r=(bm||(bm=new xm),bm).byteswap32__I__I(t);return r>>>_|0|r<<(0|-_)}(0,t,e.scm_HashMap__f_seedvalue)>>>r|0)&_}function Pg(){}Ag.prototype.$classData=Rg,Pg.prototype=new sp,Pg.prototype.constructor=Pg,Pg.prototype,Pg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new NO,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Pg.prototype.apply__scm_Builder=function(){return new kL(new NO,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Pg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var jg=(new gp).initClass({scm_WrappedArray$$anon$1:0},!1,"scala.collection.mutable.WrappedArray$$anon$1",{scm_WrappedArray$$anon$1:1,O:1,scg_CanBuildFrom:1});function Fg(e){this.scm_WrappedArray$$anon$10__f_m$1=null,this.scm_WrappedArray$$anon$10__f_m$1=e}Pg.prototype.$classData=jg,Fg.prototype=new sp,Fg.prototype.constructor=Fg,Fg.prototype,Fg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new jO(this.scm_WrappedArray$$anon$10__f_m$1.runtimeClass__jl_Class()),new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Fg.prototype.apply__scm_Builder=function(){return new kL(new DC(this.scm_WrappedArray$$anon$10__f_m$1),new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Fg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var zg=(new gp).initClass({scm_WrappedArray$$anon$10:0},!1,"scala.collection.mutable.WrappedArray$$anon$10",{scm_WrappedArray$$anon$10:1,O:1,scg_CanBuildFrom:1});function kg(){}Fg.prototype.$classData=zg,kg.prototype=new sp,kg.prototype.constructor=kg,kg.prototype,kg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new YO,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},kg.prototype.apply__scm_Builder=function(){return new kL(new YO,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},kg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var Gg=(new gp).initClass({scm_WrappedArray$$anon$2:0},!1,"scala.collection.mutable.WrappedArray$$anon$2",{scm_WrappedArray$$anon$2:1,O:1,scg_CanBuildFrom:1});function Ng(){}kg.prototype.$classData=Gg,Ng.prototype=new sp,Ng.prototype.constructor=Ng,Ng.prototype,Ng.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new rC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Ng.prototype.apply__scm_Builder=function(){return new kL(new rC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Ng.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var Wg=(new gp).initClass({scm_WrappedArray$$anon$3:0},!1,"scala.collection.mutable.WrappedArray$$anon$3",{scm_WrappedArray$$anon$3:1,O:1,scg_CanBuildFrom:1});function Ug(){}Ng.prototype.$classData=Wg,Ug.prototype=new sp,Ug.prototype.constructor=Ug,Ug.prototype,Ug.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new cC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Ug.prototype.apply__scm_Builder=function(){return new kL(new cC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Ug.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var Zg=(new gp).initClass({scm_WrappedArray$$anon$4:0},!1,"scala.collection.mutable.WrappedArray$$anon$4",{scm_WrappedArray$$anon$4:1,O:1,scg_CanBuildFrom:1});function Xg(){}Ug.prototype.$classData=Zg,Xg.prototype=new sp,Xg.prototype.constructor=Xg,Xg.prototype,Xg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new dC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Xg.prototype.apply__scm_Builder=function(){return new kL(new dC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Xg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var Jg=(new gp).initClass({scm_WrappedArray$$anon$5:0},!1,"scala.collection.mutable.WrappedArray$$anon$5",{scm_WrappedArray$$anon$5:1,O:1,scg_CanBuildFrom:1});function Yg(){}Xg.prototype.$classData=Jg,Yg.prototype=new sp,Yg.prototype.constructor=Yg,Yg.prototype,Yg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new xC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Yg.prototype.apply__scm_Builder=function(){return new kL(new xC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Yg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var Qg=(new gp).initClass({scm_WrappedArray$$anon$6:0},!1,"scala.collection.mutable.WrappedArray$$anon$6",{scm_WrappedArray$$anon$6:1,O:1,scg_CanBuildFrom:1});function Kg(){}Yg.prototype.$classData=Qg,Kg.prototype=new sp,Kg.prototype.constructor=Kg,Kg.prototype,Kg.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new wC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Kg.prototype.apply__scm_Builder=function(){return new kL(new wC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},Kg.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var ev=(new gp).initClass({scm_WrappedArray$$anon$7:0},!1,"scala.collection.mutable.WrappedArray$$anon$7",{scm_WrappedArray$$anon$7:1,O:1,scg_CanBuildFrom:1});function tv(){}Kg.prototype.$classData=ev,tv.prototype=new sp,tv.prototype.constructor=tv,tv.prototype,tv.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new PC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},tv.prototype.apply__scm_Builder=function(){return new kL(new PC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},tv.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var _v=(new gp).initClass({scm_WrappedArray$$anon$8:0},!1,"scala.collection.mutable.WrappedArray$$anon$8",{scm_WrappedArray$$anon$8:1,O:1,scg_CanBuildFrom:1});function rv(){}tv.prototype.$classData=_v,rv.prototype=new sp,rv.prototype.constructor=rv,rv.prototype,rv.prototype.apply__scm_WrappedArray__scm_Builder=function(e){return new kL(new zC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},rv.prototype.apply__scm_Builder=function(){return new kL(new zC,new k$((e=>Ed().make__O__scm_WrappedArray(e))))},rv.prototype.apply__O__scm_Builder=function(e){return this.apply__scm_WrappedArray__scm_Builder(VB(e))};var av=(new gp).initClass({scm_WrappedArray$$anon$9:0},!1,"scala.collection.mutable.WrappedArray$$anon$9",{scm_WrappedArray$$anon$9:1,O:1,scg_CanBuildFrom:1});function nv(){}rv.prototype.$classData=av,nv.prototype=new sp,nv.prototype.constructor=nv,nv.prototype,nv.prototype.toString__T=function(){return"object AnyRef"};var iv=(new gp).initClass({s_package$$anon$1:0},!1,"scala.package$$anon$1",{s_package$$anon$1:1,O:1,s_Specializable:1});function sv(){}function ov(){}function cv(){}function lv(){}function pv(){}function uv(){}function fv(e){this.sr_BooleanRef__f_elem=!1,this.sr_BooleanRef__f_elem=e}nv.prototype.$classData=iv,sv.prototype=new sp,sv.prototype.constructor=sv,ov.prototype=sv.prototype,sv.prototype.toString__T=function(){return"<function0>"},cv.prototype=new sp,cv.prototype.constructor=cv,lv.prototype=cv.prototype,cv.prototype.apply$mcDI$sp__I__D=function(e){return np(this.apply__O__O(e))},cv.prototype.toString__T=function(){return"<function1>"},pv.prototype=new sp,pv.prototype.constructor=pv,uv.prototype=pv.prototype,pv.prototype.toString__T=function(){return"<function2>"},fv.prototype=new sp,fv.prototype.constructor=fv,fv.prototype,fv.prototype.toString__T=function(){return""+this.sr_BooleanRef__f_elem};var hv=(new gp).initClass({sr_BooleanRef:0},!1,"scala.runtime.BooleanRef",{sr_BooleanRef:1,O:1,Ljava_io_Serializable:1});function dv(e){this.sr_IntRef__f_elem=0,this.sr_IntRef__f_elem=e}fv.prototype.$classData=hv,dv.prototype=new sp,dv.prototype.constructor=dv,dv.prototype,dv.prototype.toString__T=function(){return""+this.sr_IntRef__f_elem};var mv=(new gp).initClass({sr_IntRef:0},!1,"scala.runtime.IntRef",{sr_IntRef:1,O:1,Ljava_io_Serializable:1});function yv(e){this.sr_ObjectRef__f_elem=null,this.sr_ObjectRef__f_elem=e}dv.prototype.$classData=mv,yv.prototype=new sp,yv.prototype.constructor=yv,yv.prototype,yv.prototype.toString__T=function(){return""+this.sr_ObjectRef__f_elem};var gv=(new gp).initClass({sr_ObjectRef:0},!1,"scala.runtime.ObjectRef",{sr_ObjectRef:1,O:1,Ljava_io_Serializable:1});function vv(){}yv.prototype.$classData=gv,vv.prototype=new sp,vv.prototype.constructor=vv,vv.prototype;var $v,xv=(new gp).initClass({sjs_js_Dynamic$literal$:0},!1,"scala.scalajs.js.Dynamic$literal$",{sjs_js_Dynamic$literal$:1,O:1,s_Dynamic:1});function bv(){this.s_util_hashing_MurmurHash3$__f_seqSeed=0,this.s_util_hashing_MurmurHash3$__f_mapSeed=0,this.s_util_hashing_MurmurHash3$__f_setSeed=0,this.s_util_hashing_MurmurHash3$__f_emptyMapHash=0,Iv=this,this.s_util_hashing_MurmurHash3$__f_seqSeed=wS("Seq"),this.s_util_hashing_MurmurHash3$__f_mapSeed=wS("Map"),this.s_util_hashing_MurmurHash3$__f_setSeed=wS("Set"),this.s_util_hashing_MurmurHash3$__f_emptyMapHash=this.unorderedHash__sc_TraversableOnce__I__I(CB(),this.s_util_hashing_MurmurHash3$__f_mapSeed)}vv.prototype.$classData=xv,bv.prototype=new $m,bv.prototype.constructor=bv,bv.prototype,bv.prototype.seqHash__sc_Seq__I=function(e){if(e instanceof wE){var t=CE(e);return this.listHash__sci_List__I__I(t,this.s_util_hashing_MurmurHash3$__f_seqSeed)}return this.orderedHash__sc_TraversableOnce__I__I(e,this.s_util_hashing_MurmurHash3$__f_seqSeed)};var Iv,Lv=(new gp).initClass({s_util_hashing_MurmurHash3$:0},!1,"scala.util.hashing.MurmurHash3$",{s_util_hashing_MurmurHash3$:1,s_util_hashing_MurmurHash3:1,O:1});function Sv(){return Iv||(Iv=new bv),Iv}function Mv(e,t){this.Lcfx70_cfpl_core_Line3__f_p1=null,this.Lcfx70_cfpl_core_Line3__f_p2=null,this.Lcfx70_cfpl_core_Line3__f_pts=null,this.Lcfx70_cfpl_core_Line3__f_v=null,this.Lcfx70_cfpl_core_Line3__f_p1=e,this.Lcfx70_cfpl_core_Line3__f_p2=t,Jp();var _=[e,t],r=[...(aO(),_)];this.Lcfx70_cfpl_core_Line3__f_pts=bV(new IV,r),this.Lcfx70_cfpl_core_Line3__f_v=t.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(e)}bv.prototype.$classData=Lv,Mv.prototype=new sp,Mv.prototype.constructor=Mv,Mv.prototype,Mv.prototype.point__D__Lcfx70_vecquat_Vec=function(e){return this.Lcfx70_cfpl_core_Line3__f_p1.$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_core_Line3__f_v.$times__D__Lcfx70_vecquat_Vec(e))},Mv.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){var t=this.Lcfx70_cfpl_core_Line3__f_p2.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_core_Line3__f_p1),_=e.Lcfx70_cfpl_core_Line3__f_p2.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(e.Lcfx70_cfpl_core_Line3__f_p1),r=e.Lcfx70_cfpl_core_Line3__f_p1.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_core_Line3__f_p1),a=t.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_);if(null!==a&&a.equals__O__Z(0)||r.dotProd__Lcfx70_vecquat_Vec__D(a)>gf().Lcfx70_vecquat_package$__f_epsilon)return kS();var n=r.crossProd__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_).dotProd__Lcfx70_vecquat_Vec__D(a)/a.norm__D();return new GS(this.point__D__Lcfx70_vecquat_Vec(n))},Mv.prototype.intersectXYCircle__D__s_Option=function(e){var t=-np(this.Lcfx70_cfpl_core_Line3__f_v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1)),_=np(this.Lcfx70_cfpl_core_Line3__f_v.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),r=-(np(this.Lcfx70_cfpl_core_Line3__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))*t+np(this.Lcfx70_cfpl_core_Line3__f_p1.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))*_),a=t*t+_*_,n=[-t*r/a,-_*r/a,0],i=bV(new IV,n),s=pf(new uf,i);if(r*r>e*e*a)return kS();var o=r*r-e*e*a;if(np(Math.abs(o))<gf().Lcfx70_vecquat_package$__f_epsilon)return new GS(US(new ZS,s,s));var c=(e*e-r*r/a)/a,l=np(Math.sqrt(c)),p=[np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))+_*l,np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))-t*l,0],u=bV(new IV,p),f=pf(new uf,u),h=[np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-_*l,np(s.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+t*l,0],d=bV(new IV,h);return new GS(US(new ZS,f,pf(new uf,d)))},Mv.prototype.toString__T=function(){return"Line3 ("+this.Lcfx70_cfpl_core_Line3__f_p1+" "+this.Lcfx70_cfpl_core_Line3__f_p2+")"},Mv.prototype.pts__sc_Seq=function(){return this.Lcfx70_cfpl_core_Line3__f_pts};var wv=(new gp).initClass({Lcfx70_cfpl_core_Line3:0},!1,"cfx70.cfpl.core.Line3",{Lcfx70_cfpl_core_Line3:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1});function Ov(e,t,_,r,a){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_HorDim__f_dist=null,qm(this,e,t,_,r,a)}Mv.prototype.$classData=wv,Ov.prototype=new Pm,Ov.prototype.constructor=Ov,Ov.prototype,Ov.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){this.drawDim__sc_Seq__I__T__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.horPoints__sc_Seq(),this.Lcfx70_cfpl_draft_Dim__f_hint,""+this.Lcfx70_cfpl_draft_HorDim__f_dist,0,e)};var Cv=(new gp).initClass({Lcfx70_cfpl_draft_HorDimD:0},!1,"cfx70.cfpl.draft.HorDimD",{Lcfx70_cfpl_draft_HorDimD:1,Lcfx70_cfpl_draft_HorDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});function Tv(e,t,_,r,a){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_TxDim__f_dist=null,ay(this,e,t,_,r,a)}Ov.prototype.$classData=Cv,Tv.prototype=new iy,Tv.prototype.constructor=Tv,Tv.prototype,Tv.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){var t=this.Lcfx70_cfpl_draft_Dim__f_p2.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dim__f_p1).$times__D__Lcfx70_vecquat_Vec(.5).$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(this.Lcfx70_cfpl_draft_Dim__f_p1),_=[np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))-50,np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))+this.Lcfx70_cfpl_draft_Dim__f_cln],r=bV(new IV,_),a=pf(new uf,r),n=np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),i=this.Lcfx70_cfpl_draft_TxDim__f_dist,s=[n-np(e.measureText(i).width),np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))],o=bV(new IV,s),c=pf(new uf,o);e.save(),e.beginPath(),e.lineWidth=Vu().Lcfx70_cfpl_draft_Dim$__f_lineWidth,eu().M__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))).L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(a.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))).L__D__D__Lcfx70_cfpl_core_Helpers2d$RichContext$(np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0)),np(c.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))),e.stroke(),e.beginPath(),e.fillStyle="#000",e.arc(np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))*this.Lcfx70_cfpl_draft_Dim__f_rscale,np(t.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))*this.Lcfx70_cfpl_draft_Dim__f_rscale,7,0,6.283185307179586),e.fill();var l=eu(),p=this.Lcfx70_cfpl_draft_TxDim__f_dist;Jp();var u=bV(new IV,[0,5]),f=a.$plus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(pf(new uf,u)),h=rx().Lcfx70_cfpl_core_Side$__f_RIGHT,d=rx().Lcfx70_cfpl_core_Side$__f_BOTTOM;l.text__T__Lcfx70_vecquat_Vec__s_Enumeration$Value__s_Enumeration$Value__D__V(p,f,h,d,0),e.restore()};var Av=(new gp).initClass({Lcfx70_cfpl_draft_LdDim:0},!1,"cfx70.cfpl.draft.LdDim",{Lcfx70_cfpl_draft_LdDim:1,Lcfx70_cfpl_draft_TxDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});function Rv(e,t,_,r,a){this.Lcfx70_cfpl_draft_Dim__f_p1=null,this.Lcfx70_cfpl_draft_Dim__f_p2=null,this.Lcfx70_cfpl_draft_Dim__f_cln=0,this.Lcfx70_cfpl_draft_Dim__f_hint=0,this.Lcfx70_cfpl_draft_Dim__f_prec=0,this.Lcfx70_cfpl_draft_Dim__f_rscale=0,this.Lcfx70_cfpl_draft_VertDim__f_dist=null,oy(this,e,t,_,r,a)}Tv.prototype.$classData=Av,Rv.prototype=new ly,Rv.prototype.constructor=Rv,Rv.prototype,Rv.prototype.draw__Lorg_scalajs_dom_CanvasRenderingContext2D__V=function(e){this.drawDim__sc_Seq__I__T__D__Lorg_scalajs_dom_CanvasRenderingContext2D__V(this.vertPoints__sc_Seq(),this.Lcfx70_cfpl_draft_Dim__f_hint,this.Lcfx70_cfpl_draft_VertDim__f_dist,-1.5707963267948966,e)};var Dv=(new gp).initClass({Lcfx70_cfpl_draft_VertDimRev:0},!1,"cfx70.cfpl.draft.VertDimRev",{Lcfx70_cfpl_draft_VertDimRev:1,Lcfx70_cfpl_draft_VertDim:1,Lcfx70_cfpl_draft_Dim:1,O:1});Rv.prototype.$classData=Dv;class Ev extends By{}function Bv(e,t){return Ey(e,t,0,0,!0),e}class Vv extends By{}var qv=(new gp).initClass({jl_Exception:0},!1,"java.lang.Exception",{jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function Hv(){this.s_Console$__f_outVar=null,Pv=this,this.s_Console$__f_outVar=new dm(Of().jl_System$Streams$__f_out),new dm(Of().jl_System$Streams$__f_err),new dm(null)}Vv.prototype.$classData=qv,Hv.prototype=new Hh,Hv.prototype.constructor=Hv,Hv.prototype;var Pv,jv=(new gp).initClass({s_Console$:0},!1,"scala.Console$",{s_Console$:1,s_DeprecatedConsole:1,O:1,s_io_AnsiColor:1});function Fv(){return Pv||(Pv=new Hv),Pv}function zv(){this.s_Enumeration__f_scala$Enumeration$$vmap=null,this.s_Enumeration__f_nextId=0,this.s_Enumeration__f_nextName=null,this.s_Enumeration__f_scala$Enumeration$$topId=0,this.s_Enumeration__f_scala$Enumeration$$bottomId=0}function kv(){}function Gv(){this.s_Predef$__f_Map=null,this.s_Predef$__f_singleton_$less$colon$less=null,Nv=this,Hd(),eT(),this.s_Predef$__f_Map=sb(),$M(),Zd(),Zd(),new Wy,this.s_Predef$__f_singleton_$less$colon$less=new xI,new II}Hv.prototype.$classData=jv,zv.prototype=new sp,zv.prototype.constructor=zv,kv.prototype=zv.prototype,zv.prototype.toString__T=function(){var e=function(e,t){if(function(e,t){return CS(e.substring(e.length-t.length|0))===t}(e.toString__T(),"$")){var _=e.toString__T(),r=e.toString__T().length-1|0;return r>_.length&&jl(_,r),r<0&&jl(_,-1),CS(_.substring(0,r))}return e.toString__T()}(new bR(Dl(this))),t=CS(JA(new SR(vR(new bR(e),46))));return CS(JA(new SR(vR(new bR(t),36))))},Gv.prototype=new kh,Gv.prototype.constructor=Gv,Gv.prototype,Gv.prototype.assert__Z__V=function(e){if(!e)throw new ix("assertion failed")},Gv.prototype.require__Z__V=function(e){if(!e)throw Nb(new Ub,"requirement failed")};var Nv,Wv=(new gp).initClass({s_Predef$:0},!1,"scala.Predef$",{s_Predef$:1,s_LowPriorityImplicits:1,O:1,s_DeprecatedPredef:1});function Uv(){return Nv||(Nv=new Gv),Nv}function Zv(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}Gv.prototype.$classData=Wv,Zv.prototype=new fg,Zv.prototype.constructor=Zv,Zv.prototype,Zv.prototype.newBuilder__scm_Builder=function(){return WI||(WI=new NI),$M(),new CL},Zv.prototype.setEquals__sc_GenSetLike__sc_GenSet__Z=function(e,t){return e===t||e.size__I()===t.size__I()&&function(e,t,_){try{return t.subsetOf__sc_GenSet__Z(_)}catch(e){if(e instanceof zb)return kb(e),!1;throw e}}(0,e,t)};var Xv,Jv=(new gp).initClass({sc_GenSet$:0},!1,"scala.collection.GenSet$",{sc_GenSet$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1});function Yv(e,t){for(var _=0;_<t&&e.hasNext__Z();)e.next__O(),_=1+_|0;return e}function Qv(e,t){for(;e.hasNext__Z();)t.apply__O__O(e.next__O())}function Kv(e,t){for(var _=!0;_&&e.hasNext__Z();)_=Ql(t.apply__O__O(e.next__O()));return _}function e$(e){return e.hasNext__Z()?new PE(e.next__O(),new F$((()=>e.toStream__sci_Stream()))):(lT(),NE())}function t$(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_Iterator)}(e)||null===e?e:Sl(e,"scala.collection.Iterator")}function _$(e,t,_){this.sc_TraversableOnce$appender$1__f_first=!1,this.sc_TraversableOnce$appender$1__f_b$1=null,this.sc_TraversableOnce$appender$1__f_sep$1=null,this.sc_TraversableOnce$appender$1__f_b$1=t,this.sc_TraversableOnce$appender$1__f_sep$1=_,this.sc_TraversableOnce$appender$1__f_first=!0}Zv.prototype.$classData=Jv,_$.prototype=new lv,_$.prototype.constructor=_$,_$.prototype,_$.prototype.apply__O__V=function(e){this.sc_TraversableOnce$appender$1__f_first?(this.sc_TraversableOnce$appender$1__f_b$1.append__O__scm_StringBuilder(e),this.sc_TraversableOnce$appender$1__f_first=!1):(this.sc_TraversableOnce$appender$1__f_b$1.append__T__scm_StringBuilder(this.sc_TraversableOnce$appender$1__f_sep$1),this.sc_TraversableOnce$appender$1__f_b$1.append__O__scm_StringBuilder(e))},_$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var r$=(new gp).initClass({sc_TraversableOnce$appender$1:0},!1,"scala.collection.TraversableOnce$appender$1",{sc_TraversableOnce$appender$1:1,sr_AbstractFunction1:1,O:1,F1:1});function a$(e){this.sc_TraversableOnce$counter$1__f_result=0,this.sc_TraversableOnce$counter$1__f_result=0}_$.prototype.$classData=r$,a$.prototype=new lv,a$.prototype.constructor=a$,a$.prototype,a$.prototype.apply__O__V=function(e){this.sc_TraversableOnce$counter$1__f_result=1+this.sc_TraversableOnce$counter$1__f_result|0},a$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var n$=(new gp).initClass({sc_TraversableOnce$counter$1:0},!1,"scala.collection.TraversableOnce$counter$1",{sc_TraversableOnce$counter$1:1,sr_AbstractFunction1:1,O:1,F1:1});function i$(e,t,_){this.sc_TraversableOnce$folder$1__f_result=null,this.sc_TraversableOnce$folder$1__f_op$1=null,this.sc_TraversableOnce$folder$1__f_op$1=_,this.sc_TraversableOnce$folder$1__f_result=t}a$.prototype.$classData=n$,i$.prototype=new lv,i$.prototype.constructor=i$,i$.prototype,i$.prototype.apply__O__V=function(e){this.sc_TraversableOnce$folder$1__f_result=this.sc_TraversableOnce$folder$1__f_op$1.apply__O__O__O(this.sc_TraversableOnce$folder$1__f_result,e)},i$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var s$=(new gp).initClass({sc_TraversableOnce$folder$1:0},!1,"scala.collection.TraversableOnce$folder$1",{sc_TraversableOnce$folder$1:1,sr_AbstractFunction1:1,O:1,F1:1});function o$(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null}function c$(){}function l$(e){if(this.scg_GenTraversableFactory$GenericCanBuildFrom__f_$outer=null,this.scg_GenTraversableFactory$$anon$1__f_$outer=null,null===e)throw null;this.scg_GenTraversableFactory$$anon$1__f_$outer=e,hg(this,e)}i$.prototype.$classData=s$,o$.prototype=new fg,o$.prototype.constructor=o$,c$.prototype=o$.prototype,l$.prototype=new mg,l$.prototype.constructor=l$,l$.prototype,l$.prototype.apply__scm_Builder=function(){return this.scg_GenTraversableFactory$$anon$1__f_$outer.newBuilder__scm_Builder()};var p$=(new gp).initClass({scg_GenTraversableFactory$$anon$1:0},!1,"scala.collection.generic.GenTraversableFactory$$anon$1",{scg_GenTraversableFactory$$anon$1:1,scg_GenTraversableFactory$GenericCanBuildFrom:1,O:1,scg_CanBuildFrom:1});function u$(){}function f$(){}function h$(){}function d$(){}function m$(e){this.sci_HashSet$acc$1__f_res=null,this.sci_HashSet$acc$1__f_res=e}l$.prototype.$classData=p$,u$.prototype=new $g,u$.prototype.constructor=u$,f$.prototype=u$.prototype,h$.prototype=new $g,h$.prototype.constructor=h$,d$.prototype=h$.prototype,h$.prototype.newBuilder__scm_Builder=function(){return qB(new HB)},m$.prototype=new lv,m$.prototype.constructor=m$,m$.prototype,m$.prototype.apply__O__V=function(e){this.sci_HashSet$acc$1__f_res=this.sci_HashSet$acc$1__f_res.$plus__O__sci_HashSet(e)},m$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var y$=(new gp).initClass({sci_HashSet$acc$1:0},!1,"scala.collection.immutable.HashSet$acc$1",{sci_HashSet$acc$1:1,sr_AbstractFunction1:1,O:1,F1:1});function g$(e){this.sci_List$Appender$1__f_h=null,this.sci_List$Appender$1__f_t=null,this.sci_List$Appender$1__f_h=null,this.sci_List$Appender$1__f_t=null}m$.prototype.$classData=y$,g$.prototype=new lv,g$.prototype.constructor=g$,g$.prototype,g$.prototype.apply__O__V=function(e){if(null===this.sci_List$Appender$1__f_h)this.sci_List$Appender$1__f_h=new cB(e,CB()),this.sci_List$Appender$1__f_t=this.sci_List$Appender$1__f_h;else{var t=new cB(e,CB());this.sci_List$Appender$1__f_t.sci_$colon$colon__f_tl=t,this.sci_List$Appender$1__f_t=t}},g$.prototype.appendLast__sci_$colon$colon__V=function(e){null===this.sci_List$Appender$1__f_h?this.sci_List$Appender$1__f_h=e:this.sci_List$Appender$1__f_t.sci_$colon$colon__f_tl=e},g$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var v$=(new gp).initClass({sci_List$Appender$1:0},!1,"scala.collection.immutable.List$Appender$1",{sci_List$Appender$1:1,sr_AbstractFunction1:1,O:1,F1:1});function $$(){this.sci_Map$HashCodeAccumulator__f_a=0,this.sci_Map$HashCodeAccumulator__f_b=0,this.sci_Map$HashCodeAccumulator__f_n=0,this.sci_Map$HashCodeAccumulator__f_c=0,this.sci_Map$HashCodeAccumulator__f_a=0,this.sci_Map$HashCodeAccumulator__f_b=0,this.sci_Map$HashCodeAccumulator__f_n=0,this.sci_Map$HashCodeAccumulator__f_c=1}g$.prototype.$classData=v$,$$.prototype=new uv,$$.prototype.constructor=$$,$$.prototype,$$.prototype.apply__O__O__V=function(e,t){var _=Sv().product2Hash__O__O__I__I(e,t,-889275714);this.sci_Map$HashCodeAccumulator__f_a=this.sci_Map$HashCodeAccumulator__f_a+_|0,this.sci_Map$HashCodeAccumulator__f_b=this.sci_Map$HashCodeAccumulator__f_b^_,0!==_&&(this.sci_Map$HashCodeAccumulator__f_c=Math.imul(this.sci_Map$HashCodeAccumulator__f_c,_)),this.sci_Map$HashCodeAccumulator__f_n=1+this.sci_Map$HashCodeAccumulator__f_n|0},$$.prototype.finalizeHash__I=function(){var e=Sv().s_util_hashing_MurmurHash3$__f_mapSeed;return e=Sv().mix__I__I__I(e,this.sci_Map$HashCodeAccumulator__f_a),e=Sv().mix__I__I__I(e,this.sci_Map$HashCodeAccumulator__f_b),e=Sv().mixLast__I__I__I(e,this.sci_Map$HashCodeAccumulator__f_c),Sv().finalizeHash__I__I__I(e,this.sci_Map$HashCodeAccumulator__f_n)},$$.prototype.apply__O__O__O=function(e,t){this.apply__O__O__V(e,t)};var x$=(new gp).initClass({sci_Map$HashCodeAccumulator:0},!1,"scala.collection.immutable.Map$HashCodeAccumulator",{sci_Map$HashCodeAccumulator:1,sr_AbstractFunction2:1,O:1,F2:1});function b$(){}$$.prototype.$classData=x$,b$.prototype=new sp,b$.prototype.constructor=b$,b$.prototype,b$.prototype.scala$collection$immutable$Range$$fail__I__I__I__Z__E=function(e,t,_,r){throw Nb(new Ub,function(e,t,_,r,a){return t+(a?" to ":" until ")+_+" by "+r}(0,e,t,_,r)+": seqs cannot contain more than Int.MaxValue elements.")};var I$,L$=(new gp).initClass({sci_Range$:0},!1,"scala.collection.immutable.Range$",{sci_Range$:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function S$(){return I$||(I$=new b$),I$}function M$(){this.scg_GenTraversableFactory$GenericCanBuildFrom__f_$outer=null,hg(this,lT())}b$.prototype.$classData=L$,M$.prototype=new mg,M$.prototype.constructor=M$,M$.prototype;var w$=(new gp).initClass({sci_Stream$StreamCanBuildFrom:0},!1,"scala.collection.immutable.Stream$StreamCanBuildFrom",{sci_Stream$StreamCanBuildFrom:1,scg_GenTraversableFactory$GenericCanBuildFrom:1,O:1,scg_CanBuildFrom:1});function O$(e,t){var _=t.sizeHintIfCheap__I();-1!==_&&e.sizeHint__I__V(_)}function C$(e,t,_){var r=t.sizeHintIfCheap__I();-1!==r&&e.sizeHint__I__V(r+_|0)}function T$(e,t,_){var r=_.sizeHintIfCheap__I();-1!==r&&e.sizeHint__I__V(t<r?t:r)}function A$(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.scm_Builder)}(e)||null===e?e:Sl(e,"scala.collection.mutable.Builder")}function R$(){}M$.prototype.$classData=w$,R$.prototype=new sp,R$.prototype.constructor=R$,R$.prototype,R$.prototype.apply__jl_Class__s_reflect_ClassTag=function(e){return e===Rp.getClassOf()?ST():e===Dp.getClassOf()?YT():e===Ap.getClassOf()?CT():e===Ep.getClassOf()?FT():e===Bp.getClassOf()?NT():e===Vp.getClassOf()?qT():e===qp.getClassOf()?DT():e===Tp.getClassOf()?xT():e===Cp.getClassOf()?tA():e===Op.getClassOf()?MA():e===j$.getClassOf()?gA():e===Kd.getClassOf()?bA():new Kw(e)};var D$,E$=(new gp).initClass({s_reflect_ClassTag$:0},!1,"scala.reflect.ClassTag$",{s_reflect_ClassTag$:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function B$(){return D$||(D$=new R$),D$}function V$(){this.sr_LazyBoolean__f__initialized=!1,this.sr_LazyBoolean__f__value=!1}R$.prototype.$classData=E$,V$.prototype=new sp,V$.prototype.constructor=V$,V$.prototype,V$.prototype.initialize__Z__Z=function(e){return this.sr_LazyBoolean__f__value=e,this.sr_LazyBoolean__f__initialized=!0,e},V$.prototype.toString__T=function(){return"LazyBoolean "+(this.sr_LazyBoolean__f__initialized?"of: "+this.sr_LazyBoolean__f__value:"thunk")};var q$=(new gp).initClass({sr_LazyBoolean:0},!1,"scala.runtime.LazyBoolean",{sr_LazyBoolean:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function H$(){this.sr_LazyInt__f__initialized=!1,this.sr_LazyInt__f__value=0}V$.prototype.$classData=q$,H$.prototype=new sp,H$.prototype.constructor=H$,H$.prototype,H$.prototype.initialize__I__I=function(e){return this.sr_LazyInt__f__value=e,this.sr_LazyInt__f__initialized=!0,e},H$.prototype.toString__T=function(){return"LazyInt "+(this.sr_LazyInt__f__initialized?"of: "+this.sr_LazyInt__f__value:"thunk")};var P$=(new gp).initClass({sr_LazyInt:0},!1,"scala.runtime.LazyInt",{sr_LazyInt:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});H$.prototype.$classData=P$;var j$=(new gp).initClass({sr_Nothing$:0},!1,"scala.runtime.Nothing$",{sr_Nothing$:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function F$(e){this.sjsr_AnonFunction0__f_f=null,this.sjsr_AnonFunction0__f_f=e}F$.prototype=new ov,F$.prototype.constructor=F$,F$.prototype,F$.prototype.apply__O=function(){return(0,this.sjsr_AnonFunction0__f_f)()};var z$=(new gp).initClass({sjsr_AnonFunction0:0},!1,"scala.scalajs.runtime.AnonFunction0",{sjsr_AnonFunction0:1,sr_AbstractFunction0:1,O:1,F0:1});function k$(e){this.sjsr_AnonFunction1__f_f=null,this.sjsr_AnonFunction1__f_f=e}F$.prototype.$classData=z$,k$.prototype=new lv,k$.prototype.constructor=k$,k$.prototype,k$.prototype.apply__O__O=function(e){return(0,this.sjsr_AnonFunction1__f_f)(e)};var G$=(new gp).initClass({sjsr_AnonFunction1:0},!1,"scala.scalajs.runtime.AnonFunction1",{sjsr_AnonFunction1:1,sr_AbstractFunction1:1,O:1,F1:1});function N$(e){this.sjsr_AnonFunction2__f_f=null,this.sjsr_AnonFunction2__f_f=e}k$.prototype.$classData=G$,N$.prototype=new uv,N$.prototype.constructor=N$,N$.prototype,N$.prototype.apply__O__O__O=function(e,t){return(0,this.sjsr_AnonFunction2__f_f)(e,t)};var W$=(new gp).initClass({sjsr_AnonFunction2:0},!1,"scala.scalajs.runtime.AnonFunction2",{sjsr_AnonFunction2:1,sr_AbstractFunction2:1,O:1,F2:1});function U$(){this.s_util_control_NoStackTrace$__f__noSuppression=!1,this.s_util_control_NoStackTrace$__f__noSuppression=!1}N$.prototype.$classData=W$,U$.prototype=new sp,U$.prototype.constructor=U$,U$.prototype;var Z$,X$=(new gp).initClass({s_util_control_NoStackTrace$:0},!1,"scala.util.control.NoStackTrace$",{s_util_control_NoStackTrace$:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function J$(e){this.s_util_hashing_MurmurHash3$hasher$1__f_a=0,this.s_util_hashing_MurmurHash3$hasher$1__f_b=0,this.s_util_hashing_MurmurHash3$hasher$1__f_n=0,this.s_util_hashing_MurmurHash3$hasher$1__f_c=0,this.s_util_hashing_MurmurHash3$hasher$1__f_a=0,this.s_util_hashing_MurmurHash3$hasher$1__f_b=0,this.s_util_hashing_MurmurHash3$hasher$1__f_n=0,this.s_util_hashing_MurmurHash3$hasher$1__f_c=1}U$.prototype.$classData=X$,J$.prototype=new lv,J$.prototype.constructor=J$,J$.prototype,J$.prototype.apply__O__V=function(e){var t=sm().anyHash__O__I(e);this.s_util_hashing_MurmurHash3$hasher$1__f_a=this.s_util_hashing_MurmurHash3$hasher$1__f_a+t|0,this.s_util_hashing_MurmurHash3$hasher$1__f_b=this.s_util_hashing_MurmurHash3$hasher$1__f_b^t,0!==t&&(this.s_util_hashing_MurmurHash3$hasher$1__f_c=Math.imul(this.s_util_hashing_MurmurHash3$hasher$1__f_c,t)),this.s_util_hashing_MurmurHash3$hasher$1__f_n=1+this.s_util_hashing_MurmurHash3$hasher$1__f_n|0},J$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var Y$=(new gp).initClass({s_util_hashing_MurmurHash3$hasher$1:0},!1,"scala.util.hashing.MurmurHash3$hasher$1",{s_util_hashing_MurmurHash3$hasher$1:1,sr_AbstractFunction1:1,O:1,F1:1});function Q$(e,t){if(this.s_util_hashing_MurmurHash3$hasher$2__f_n=0,this.s_util_hashing_MurmurHash3$hasher$2__f_h=0,this.s_util_hashing_MurmurHash3$hasher$2__f_$outer=null,null===e)throw null;this.s_util_hashing_MurmurHash3$hasher$2__f_$outer=e,this.s_util_hashing_MurmurHash3$hasher$2__f_n=0,this.s_util_hashing_MurmurHash3$hasher$2__f_h=t}J$.prototype.$classData=Y$,Q$.prototype=new lv,Q$.prototype.constructor=Q$,Q$.prototype,Q$.prototype.apply__O__V=function(e){this.s_util_hashing_MurmurHash3$hasher$2__f_h=this.s_util_hashing_MurmurHash3$hasher$2__f_$outer.mix__I__I__I(this.s_util_hashing_MurmurHash3$hasher$2__f_h,sm().anyHash__O__I(e)),this.s_util_hashing_MurmurHash3$hasher$2__f_n=1+this.s_util_hashing_MurmurHash3$hasher$2__f_n|0},Q$.prototype.apply__O__O=function(e){this.apply__O__V(e)};var K$=(new gp).initClass({s_util_hashing_MurmurHash3$hasher$2:0},!1,"scala.util.hashing.MurmurHash3$hasher$2",{s_util_hashing_MurmurHash3$hasher$2:1,sr_AbstractFunction1:1,O:1,F1:1});function ex(){var e;this.s_Enumeration__f_scala$Enumeration$$vmap=null,this.s_Enumeration__f_nextId=0,this.s_Enumeration__f_nextName=null,this.s_Enumeration__f_scala$Enumeration$$topId=0,this.s_Enumeration__f_scala$Enumeration$$bottomId=0,this.Lcfx70_cfpl_core_Side$__f_TOP=null,this.Lcfx70_cfpl_core_Side$__f_BOTTOM=null,this.Lcfx70_cfpl_core_Side$__f_LEFT=null,this.Lcfx70_cfpl_core_Side$__f_RIGHT=null,this.Lcfx70_cfpl_core_Side$__f_CENTER=null,this.Lcfx70_cfpl_core_Side$__f_MIDDLE=null,(e=this).s_Enumeration__f_scala$Enumeration$$vmap=qB(new HB),qB(new HB),e.s_Enumeration__f_nextId=0,e.s_Enumeration__f_scala$Enumeration$$topId=0,e.s_Enumeration__f_scala$Enumeration$$bottomId=0,tx=this;var t=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"TOP",_=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_TOP=new HS(this,_,t);var r=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"BOTTOM",a=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_BOTTOM=new HS(this,a,r);var n=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"LEFT",i=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_LEFT=new HS(this,i,n);var s=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"RIGHT",o=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_RIGHT=new HS(this,o,s);var c=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"CENTER",l=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_CENTER=new HS(this,l,c);var p=null!==this.s_Enumeration__f_nextName&&this.s_Enumeration__f_nextName.hasNext__Z()?CS(this.s_Enumeration__f_nextName.next__O()):"MIDDLE",u=this.s_Enumeration__f_nextId;this.Lcfx70_cfpl_core_Side$__f_MIDDLE=new HS(this,u,p)}Q$.prototype.$classData=K$,ex.prototype=new kv,ex.prototype.constructor=ex,ex.prototype;var tx,_x=(new gp).initClass({Lcfx70_cfpl_core_Side$:0},!1,"cfx70.cfpl.core.Side$",{Lcfx70_cfpl_core_Side$:1,s_Enumeration:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function rx(){return tx||(tx=new ex),tx}function ax(){}function nx(){}ex.prototype.$classData=_x,ax.prototype=new sp,ax.prototype.constructor=ax,nx.prototype=ax.prototype;class ix extends Ev{constructor(e){super();var t=""+e;e instanceof By&&Vy(e),Ey(this,t,0,0,!0)}}var sx=(new gp).initClass({jl_AssertionError:0},!1,"java.lang.AssertionError",{jl_AssertionError:1,jl_Error:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});ix.prototype.$classData=sx;var ox=(new gp).initClass({jl_Boolean:0},!1,"java.lang.Boolean",{jl_Boolean:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1},void 0,void 0,(e=>"boolean"==typeof e));function cx(e){return e instanceof Il||null===e?e:Sl(e,"java.lang.Character")}var lx=(new gp).initClass({jl_Character:0},!1,"java.lang.Character",{jl_Character:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1},void 0,void 0,(e=>e instanceof Il));class px extends Vv{}var ux=(new gp).initClass({jl_RuntimeException:0},!1,"java.lang.RuntimeException",{jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function fx(e){return e.jl_StringBuilder__f_java$lang$StringBuilder$$content="",e}function hx(){this.jl_StringBuilder__f_java$lang$StringBuilder$$content=null}px.prototype.$classData=ux,hx.prototype=new sp,hx.prototype.constructor=hx,hx.prototype,hx.prototype.reverse__jl_StringBuilder=function(){for(var e=this.jl_StringBuilder__f_java$lang$StringBuilder$$content,t="",_=-1+e.length|0;_>0;){var r=jl(e,_);if(56320==(64512&r)){var a=jl(e,-1+_|0);55296==(64512&a)?(t=""+t+CS(String.fromCharCode(a))+CS(String.fromCharCode(r)),_=-2+_|0):(t=""+t+CS(String.fromCharCode(r)),_=-1+_|0)}else t=""+t+CS(String.fromCharCode(r)),_=-1+_|0}if(0===_){var n=t,i=jl(e,0);t=""+n+CS(String.fromCharCode(i))}return this.jl_StringBuilder__f_java$lang$StringBuilder$$content=t,this},hx.prototype.toString__T=function(){return this.jl_StringBuilder__f_java$lang$StringBuilder$$content},hx.prototype.length__I=function(){return this.jl_StringBuilder__f_java$lang$StringBuilder$$content.length},hx.prototype.charAt__I__C=function(e){return jl(this.jl_StringBuilder__f_java$lang$StringBuilder$$content,e)},hx.prototype.append__jl_CharSequence__jl_Appendable=function(e){return this.jl_StringBuilder__f_java$lang$StringBuilder$$content=""+this.jl_StringBuilder__f_java$lang$StringBuilder$$content+e,this};var dx=(new gp).initClass({jl_StringBuilder:0},!1,"java.lang.StringBuilder",{jl_StringBuilder:1,O:1,jl_CharSequence:1,jl_Appendable:1,Ljava_io_Serializable:1});hx.prototype.$classData=dx;class mx extends Ev{}function yx(e,t){null===e.ju_Formatter__f_java$util$Formatter$$dest?e.ju_Formatter__f_stringOutput=""+e.ju_Formatter__f_stringOutput+t:$x(e,[t])}function gx(e,t,_){null===e.ju_Formatter__f_java$util$Formatter$$dest?e.ju_Formatter__f_stringOutput=""+e.ju_Formatter__f_stringOutput+t+_:$x(e,[t,_])}function vx(e,t,_,r){null===e.ju_Formatter__f_java$util$Formatter$$dest?e.ju_Formatter__f_stringOutput=e.ju_Formatter__f_stringOutput+""+t+_+r:$x(e,[t,_,r])}function $x(e,t){try{for(var _=_p(t.length),r=0;r!==_;){var a=CS(t[r]);e.ju_Formatter__f_java$util$Formatter$$dest.append__jl_CharSequence__jl_Appendable(a),r=1+r|0}}catch(e){throw e}}function xx(e,t,_){for(var r=_>=65&&_<=90?256:0,a=t.length,n=0;n!==a;){var i=jl(t,n);switch(i){case 45:var s=1;break;case 35:s=2;break;case 43:s=4;break;case 32:s=8;break;case 48:s=16;break;case 44:s=32;break;case 40:s=64;break;case 60:s=128;break;default:throw new ix(Yl(i))}0!=(r&s)&&Ex(0,i),r|=s,n=1+n|0}return r}function bx(e,t){if(void 0!==t){var _=CS(t),r=np(parseInt(_,10));return r<=2147483647?Pl(r):-2}return-1}function Ix(e,t,_,r,a,n,i){switch(r){case 98:var s=!1===_||null===_?"false":"true";wx(e,jy(),a,n,i,s);break;case 104:var o=CS(np(Bl(_)>>>0).toString(16));wx(e,jy(),a,n,i,o);break;case 115:if(Nf(_)){var c=(0!=(1&a)?1:0)|(0!=(2&a)?4:0)|(0!=(256&a)?2:0);(Nf(M=_)||null===M?M:Sl(M,"java.util.Formattable")).formatTo__ju_Formatter__I__I__I__V(e,c,n,i)}else 0!=(2&a)&&e.java$util$Formatter$$throwFormatFlagsConversionMismatchException__C__I__I__E(r,a,2),wx(e,0,a,n,i,""+_);break;case 99:if(_ instanceof Il)var l=Kl(_),p=CS(String.fromCharCode(l));else{Xl(_)||e.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E(r,_);var u=_p(_);u>=0&&u<=1114111||function(e,t){throw new kM(t)}(0,u),p=CS(u<65536?String.fromCharCode(u):String.fromCharCode(55296|(u>>10)-64,56320|1023&u))}wx(e,0,a,n,-1,p);break;case 100:if(Xl(_))var f=""+_p(_);else if(_ instanceof Oh){var h=rp(_),d=h.RTLong__f_lo,m=h.RTLong__f_hi;f=Vh().org$scalajs$linker$runtime$RuntimeLong$$toString__I__I__T(d,m)}else{e.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E(r,_);var y=function(e){return null===e?e:Sl(e,"java.math.BigInteger")}(_);f=y.toString__T()}Cx(e,t,a,n,f,"");break;case 111:case 120:var g=111===r,v=0==(2&a)?"":g?"0":0!=(256&a)?"0X":"0x";if(Xl(_))var $=_p(_),x=CS(g?np($>>>0).toString(8):np($>>>0).toString(16));else{_ instanceof Oh||e.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E(r,_);var b=rp(_),I=b.RTLong__f_lo,L=b.RTLong__f_hi;x=g?My().java$lang$Long$$toOctalString__I__I__T(I,L):My().java$lang$Long$$toHexString__I__I__T(I,L)}0!=(76&a)&&e.java$util$Formatter$$throwFormatFlagsConversionMismatchException__C__I__I__E(r,a,76),Rx(e,jy(),a,n,v,Tx(0,a,x));break;case 101:case 102:case 103:if("number"==typeof _){var S=np(_);S!=S||S===1/0||S===-1/0?Ox(e,a,n,S):function(e,t,_,r,a,n,i){var s=0!=(2&_),o=r>=0?r:6;switch(a){case 101:var c=Sx(0,t,o,s);break;case 102:c=Mx(0,t,o,s);break;default:c=function(e,t,_,r){var a=0===_?1:_,n=t.round__I__ju_Formatter$Decimal(a),i=(-1+n.ju_Formatter$Decimal__f_unscaledValue.length|0)-n.ju_Formatter$Decimal__f_scale|0;if(i>=-4&&i<a){var s=(a-i|0)-1|0;return Mx(0,n,s<0?0:s,r)}return Sx(0,n,-1+a|0,r)}(0,t,o,s)}Cx(e,n,_,i,c,"")}(e,Xf().java$util$Formatter$$numberToDecimal__D__ju_Formatter$Decimal(S),a,i,r,t,n)}else e.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E(r,_);break;case 97:"number"==typeof _?function(e,t,_,r,a){if(a!=a||a===1/0||a===-1/0)Ox(e,t,_,a);else{var n=Lf().doubleToLongBits__D__J(a),i=n.RTLong__f_lo,s=n.RTLong__f_hi,o=1048575&s,c=2047&(s>>>20|0),l=0===r?1:r>12?-1:r,p=s<0?"-":0!=(4&t)?"+":0!=(8&t)?" ":"";if(0===c)if(0===i&&0===o)var u="0",f=bl,h=0;else if(-1===l)u="0",f=new Oh(i,o),h=-1022;else{var d=-11+(0!==o?_p(Math.clz32(o)):32+_p(Math.clz32(i))|0)|0,m=-1022-d|0;u="1",f=new Oh(0==(32&d)?i<<d:0,1048575&(0==(32&d)?(i>>>1|0)>>>(31-d|0)|0|o<<d:i<<d)),h=m}else{var y=-1023+c|0;u="1",f=new Oh(i,o),h=y}var g=CS(u),v=rp(f),$=v.RTLong__f_lo,x=v.RTLong__f_hi,b=_p(h),I=rp(new Oh($,x)),L=I.RTLong__f_lo,S=I.RTLong__f_hi;if(-1===l)var M=L,w=S;else{var O=52-(l<<2)|0,C=0==(32&O)?1<<O:0,T=0==(32&O)?0:1<<O,A=-1+C|0,R=-1!==A?T:-1+T|0,D=C>>>1|0|T<<31,E=T>>1,B=L&~A,V=S&~R,q=L&A,H=S&R;if(H===E?(-2147483648^q)<(-2147483648^D):H<E)M=B,w=V;else if(H===E?(-2147483648^q)>(-2147483648^D):H>E){var P=B+C|0;M=P,w=(-2147483648^P)<(-2147483648^B)?1+(V+T|0)|0:V+T|0}else if(0==(B&C)&&0==(V&T))M=B,w=V;else{var j=B+C|0;M=j,w=(-2147483648^j)<(-2147483648^B)?1+(V+T|0)|0:V+T|0}}var F=w,z=My().java$lang$Long$$toHexString__I__I__T(M,F),k=z.length;(k<0||k>13)&&jl("0000000000000",k);var G=""+CS("0000000000000".substring(k))+z;if(Xf(),13!==G.length)throw new ix("padded mantissa does not have the right number of bits");for(var N=l<1?1:l,W=G.length;;){if(W>N)var U=48===jl(G,-1+W|0);else U=!1;if(!U)break;W=-1+W|0}var Z=W;Z>G.length&&jl(G,Z),Z<0&&jl(G,-1);var X=p+(0!=(256&t)?"0X":"0x"),J=g+"."+CS(G.substring(0,Z))+"p"+b;Rx(e,jy(),t,_,X,Tx(0,t,J))}}(e,a,n,i,np(_)):e.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E(r,_);break;default:throw new ix("Unknown conversion '"+Yl(r)+"' was not rejected earlier")}var M}function Lx(e,t){return(0!=(1&t)?"-":"")+(0!=(2&t)?"#":"")+(0!=(4&t)?"+":"")+(0!=(8&t)?" ":"")+(0!=(16&t)?"0":"")+(0!=(32&t)?",":"")+(0!=(64&t)?"(":"")+(0!=(128&t)?"<":"")}function Sx(e,t,_,r){var a=t.round__I__ju_Formatter$Decimal(1+_|0),n=a.ju_Formatter$Decimal__f_negative?"-":"",i=a.ju_Formatter$Decimal__f_unscaledValue,s=-1+i.length|0,o=_-s|0;i.length<1&&jl(i,1);var c=CS(i.substring(0,1));i.length<1&&jl(i,1);var l=""+CS(i.substring(1))+Xf().java$util$Formatter$$strOfZeros__I__T(o),p=""!==l||r?c+"."+l:c,u=s-a.ju_Formatter$Decimal__f_scale|0,f=""+(u<0?0|-u:u);return n+p+"e"+(u<0?"-":"+")+(1===f.length?"0"+f:f)}function Mx(e,t,_,r){var a=t.setScale__I__ju_Formatter$Decimal(_),n=a.ju_Formatter$Decimal__f_negative?"-":"",i=a.ju_Formatter$Decimal__f_unscaledValue,s=i.length,o=1+_|0,c=s>=o?i:""+Xf().java$util$Formatter$$strOfZeros__I__T(o-s|0)+i,l=c.length-_|0;l>c.length&&jl(c,l),l<0&&jl(c,-1);var p=n+CS(c.substring(0,l));return 0!==_||r?((l<0||l>c.length)&&jl(c,l),p+"."+CS(c.substring(l))):p}function wx(e,t,_,r,a,n){if(a<0||a>=n.length)var i=n;else a>n.length&&jl(n,a),a<0&&jl(n,-1),i=CS(n.substring(0,a));Ax(e,_,r,function(e,t,_,r){return 0!=(256&_)?CS(r.toUpperCase()):r}(0,0,_,i))}function Ox(e,t,_,r){Ax(e,t,_,Tx(0,t,r!=r?"NaN":r>0?0!=(4&t)?"+Infinity":0!=(8&t)?" Infinity":"Infinity":0!=(64&t)?"(Infinity)":"-Infinity"))}function Cx(e,t,_,r,a,n){if(a.length>=r&&0==(110&_))yx(e,Tx(0,_,a));else if(0==(126&_))Ax(e,_,r,Tx(0,_,a));else{if(45!==jl(a,0))if(0!=(4&_))var i="+",s=a;else 0!=(8&_)?(i=" ",s=a):(i="",s=a);else 0!=(64&_)?(a.length<1&&jl(a,1),i="(",s=CS(a.substring(1))+")"):(a.length<1&&jl(a,1),i="-",s=CS(a.substring(1)));var o=CS(i),c=CS(s);Rx(e,0,_,r,""+o+n,Tx(0,_,0!=(32&_)?function(e,t,_){for(var r=_.length,a=0;;){if(a!==r)var n=jl(_,a),i=n>=48&&n<=57;else i=!1;if(!i)break;a=1+a|0}if((a=-3+a|0)<=0)return _;var s=a;(s<0||s>_.length)&&jl(_,s);for(var o=CS(_.substring(s));a>3;){var c=-3+a|0,l=a;c<0&&jl(_,c),l>_.length&&jl(_,l),l<c&&jl(_,-1),o=CS(_.substring(c,l))+","+o,a=c}var p=a;return p>_.length&&jl(_,p),p<0&&jl(_,-1),CS(_.substring(0,p))+","+o}(0,0,c):c))}}function Tx(e,t,_){return 0!=(256&t)?CS(_.toUpperCase()):_}function Ax(e,t,_,r){var a=r.length;a>=_?yx(e,r):0!=(1&t)?gx(e,r,Dx(0," ",_-a|0)):gx(e,Dx(0," ",_-a|0),r)}function Rx(e,t,_,r,a,n){var i=a.length+n.length|0;i>=r?gx(e,a,n):0!=(16&_)?vx(e,a,Dx(0,"0",r-i|0),n):0!=(1&_)?vx(e,a,n,Dx(0," ",r-i|0)):vx(e,Dx(0," ",r-i|0),a,n)}function Dx(e,t,_){for(var r="",a=0;a!==_;)r=""+r+t,a=1+a|0;return r}function Ex(e,t){throw new qM(CS(String.fromCharCode(t)))}function Bx(e,t){throw new rw(CS(String.fromCharCode(t)))}function Vx(e,t){throw new XM(t)}function qx(e,t){throw new YM(t)}function Hx(e,t){throw new FM(0===t?"Illegal format argument index = 0":"Format argument index: (not representable as int)")}function Px(e,t){throw new tw(t)}function jx(e,t){throw new KM(t)}function Fx(e,t){return"%"+t[0]}function zx(){this.ju_Formatter__f_java$util$Formatter$$dest=null,this.ju_Formatter__f_formatterLocaleInfo=null,this.ju_Formatter__f_stringOutput=null,this.ju_Formatter__f_java$util$Formatter$$closed=!1}zx.prototype=new sp,zx.prototype.constructor=zx,zx.prototype,zx.prototype.format__T__AO__ju_Formatter=function(e,t){return function(e,t,_,r){if(e.ju_Formatter__f_java$util$Formatter$$closed)throw new DS;for(var a=0,n=0,i=_.length,s=0;s!==i;){var o=s,c=_p(_.indexOf("%",o));if(c<0){var l=s;return(l<0||l>_.length)&&jl(_,l),yx(e,CS(_.substring(l))),e}var p=s;p<0&&jl(_,p),c>_.length&&jl(_,c),c<p&&jl(_,-1),yx(e,CS(_.substring(p,c)));var u=1+c|0,f=Xf().ju_Formatter$__f_java$util$Formatter$$FormatSpecifier;f.lastIndex=u;var h=f.exec(_);null!==h&&_p(h.index)===u||Bx(0,u===i?37:jl(_,u));var d=jl(_,-1+(s=_p(f.lastIndex))|0),m=xx(0,CS(h[2]),d),y=bx(0,h[3]),g=bx(0,h[4]);if(-2===y&&qx(0,-2147483648),-2===g&&Vx(0,-2147483648),110===d)-1!==g&&Vx(0,g),-1!==y&&qx(0,y),0!==m&&e.java$util$Formatter$$throwIllegalFormatFlagsException__I__E(m),yx(e,"\n");else if(37===d)-1!==g&&Vx(0,g),17!=(17&m)&&12!=(12&m)||e.java$util$Formatter$$throwIllegalFormatFlagsException__I__E(m),0!=(1&m)&&-1===y&&Px(0,Fx(0,h)),0!=(-2&m)&&e.java$util$Formatter$$throwFormatFlagsConversionMismatchException__C__I__I__E(37,m,-2),Ax(e,m,y,"%");else{var v=0!=(256&m)?65535&(32+d|0):d,$=Xf().ju_Formatter$__f_java$util$Formatter$$ConversionsIllegalFlags.get(-97+v|0);if(-1!==$&&0==(256&m&$)||Bx(0,d),0!=(17&m)&&-1===y&&Px(0,Fx(0,h)),17!=(17&m)&&12!=(12&m)||e.java$util$Formatter$$throwIllegalFormatFlagsException__I__E(m),-1!==g&&0!=(512&$)&&Vx(0,g),0!=(m&$)&&e.java$util$Formatter$$throwFormatFlagsConversionMismatchException__C__I__I__E(v,m,$),0!=(128&m))var x=n;else{var b=bx(0,h[1]);-1===b?x=a=1+a|0:(b<=0&&Hx(0,b),x=b)}(x<=0||x>r.u.length)&&jx(0,Fx(0,h)),n=x;var I=r.get(-1+x|0);null===I&&98!==v&&115!==v?wx(e,jy(),m,y,g,"null"):Ix(e,t,I,v,m,y,g)}}return e}(this,this.ju_Formatter__f_formatterLocaleInfo,e,t)},zx.prototype.toString__T=function(){if(this.ju_Formatter__f_java$util$Formatter$$closed)throw new DS;return null===this.ju_Formatter__f_java$util$Formatter$$dest?this.ju_Formatter__f_stringOutput:this.ju_Formatter__f_java$util$Formatter$$dest.toString__T()},zx.prototype.java$util$Formatter$$throwIllegalFormatFlagsException__I__E=function(e){throw new UM(Lx(0,e))},zx.prototype.java$util$Formatter$$throwFormatFlagsConversionMismatchException__C__I__I__E=function(e,t,_){throw new PM(Lx(0,t&_),e)},zx.prototype.java$util$Formatter$$throwIllegalFormatConversionException__C__O__E=function(e,t){throw new NM(e,Rl(t))};var kx=(new gp).initClass({ju_Formatter:0},!1,"java.util.Formatter",{ju_Formatter:1,O:1,Ljava_io_Closeable:1,jl_AutoCloseable:1,Ljava_io_Flushable:1});function Gx(){}zx.prototype.$classData=kx,Gx.prototype=new jh,Gx.prototype.constructor=Gx,Gx.prototype,Gx.prototype.copy__O__I__O__I__I__V=function(e,t,_,r,a){var n,i,s,o,c,l,p=Rl(e);p.isArray__Z()&&Rl(_).isAssignableFrom__jl_Class__Z(p)?(i=t,s=_,o=r,c=a,(l=(n=e)&&n.$classData)===(s&&s.$classData)?l&&l.isArrayClass?n.copyTo(i,s,o,c):Ol(null):n instanceof op&&s instanceof op?kl(n,i,s,o,c):Ol(null)):function(e,t,_,r,a,n){for(var i=_,s=a,o=_+n|0;i<o;)rm().array_update__O__I__O__V(r,s,rm().array_apply__O__I__O(t,i)),i=1+i|0,s=1+s|0}(0,e,t,_,r,a)};var Nx,Wx=(new gp).initClass({s_Array$:0},!1,"scala.Array$",{s_Array$:1,s_FallbackArrayBuilding:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function Ux(){return Nx||(Nx=new Gx),Nx}function Zx(){}function Xx(){}function Jx(){}function Yx(){}function Qx(){}function Kx(){}function eb(e){this.sc_GenMap$$anon$1__f_thatMap$1=null,this.sc_GenMap$$anon$1__f_thatMap$1=e}Gx.prototype.$classData=Wx,Zx.prototype=new sp,Zx.prototype.constructor=Zx,Xx.prototype=Zx.prototype,Zx.prototype.apply$mcDI$sp__I__D=function(e){return np(e)},Zx.prototype.toString__T=function(){return"<function1>"},Jx.prototype=new sp,Jx.prototype.constructor=Jx,Yx.prototype=Jx.prototype,Jx.prototype.apply$mcDI$sp__I__D=function(e){return np(e)},Jx.prototype.toString__T=function(){return"<function1>"},Qx.prototype=new sp,Qx.prototype.constructor=Qx,Kx.prototype=Qx.prototype,Qx.prototype.isEmpty__Z=function(){return!this.hasNext__Z()},Qx.prototype.isTraversableAgain__Z=function(){return!1},Qx.prototype.drop__I__sc_Iterator=function(e){return Yv(this,e)},Qx.prototype.foreach__F1__V=function(e){Qv(this,e)},Qx.prototype.toStream__sci_Stream=function(){return e$(this)},Qx.prototype.toString__T=function(){return"<iterator>"},Qx.prototype.size__I=function(){return Ky(this)},Qx.prototype.$div$colon__O__F2__O=function(e,t){return eg(this,e,t)},Qx.prototype.foldLeft__O__F2__O=function(e,t){return eg(this,e,t)},Qx.prototype.toList__sci_List=function(){return CE(tg(this,eT().scg_GenTraversableFactory__f_ReusableCBFInstance))},Qx.prototype.toVector__sci_Vector=function(){return rB(tg(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},Qx.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},Qx.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},Qx.prototype.seq__sc_TraversableOnce=function(){return this},eb.prototype=new lv,eb.prototype.constructor=eb,eb.prototype,eb.prototype.toString__T=function(){return"<function0>"},eb.prototype.apply__T2__Z=function(e){var t=this.sc_GenMap$$anon$1__f_thatMap$1.getOrElse__O__F0__O(e._1__O(),this);return t!==this&&Qd().equals__O__O__Z(t,e._2__O())},eb.prototype.apply__O=function(){return this},eb.prototype.apply__O__O=function(e){return this.apply__T2__Z(JS(e))};var tb=(new gp).initClass({sc_GenMap$$anon$1:0},!1,"scala.collection.GenMap$$anon$1",{sc_GenMap$$anon$1:1,sr_AbstractFunction1:1,O:1,F1:1,F0:1});function _b(){}function rb(){}function ab(){this.sci_Map$__f_ReusableCBF=null,this.sci_Map$__f_scala$collection$immutable$Map$$Sentinel=null,nb=this,this.sci_Map$__f_ReusableCBF=new ng(this),this.sci_Map$__f_scala$collection$immutable$Map$$Sentinel=new ip}eb.prototype.$classData=tb,_b.prototype=new og,_b.prototype.constructor=_b,rb.prototype=_b.prototype,ab.prototype=new f$,ab.prototype.constructor=ab,ab.prototype,ab.prototype.newBuilder__scm_Builder=function(){return new ML},ab.prototype.scala$collection$immutable$Map$$isHashMapCBF__scg_CanBuildFrom__Z=function(e){return e===Tw().sci_HashMap$__f_ReusableCBF},ab.prototype.scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z=function(e){return e===sb().sci_Map$__f_ReusableCBF},ab.prototype.empty__sc_GenMap=function(){return KD()};var nb,ib=(new gp).initClass({sci_Map$:0},!1,"scala.collection.immutable.Map$",{sci_Map$:1,scg_ImmutableMapFactory:1,scg_MapFactory:1,scg_GenMapFactory:1,O:1});function sb(){return nb||(nb=new ab),nb}function ob(e,t){this.scm_DefaultEntry__f_key=null,this.scm_DefaultEntry__f_value=null,this.scm_DefaultEntry__f_next=null,this.scm_DefaultEntry__f_key=e,this.scm_DefaultEntry__f_value=t}function cb(e){return e instanceof ob||null===e?e:Sl(e,"scala.collection.mutable.DefaultEntry")}ab.prototype.$classData=ib,ob.prototype=new sp,ob.prototype.constructor=ob,ob.prototype,ob.prototype.toString__T=function(){return this.chainString__T()},ob.prototype.chainString__T=function(){var e=this.scm_DefaultEntry__f_key,t=this.scm_DefaultEntry__f_value;if(null!==this.scm_DefaultEntry__f_next)var _=" -> "+this.scm_DefaultEntry__f_next.chainString__T();else _="";return"(kv: "+e+", "+t+")"+_};var lb=(new gp).initClass({scm_DefaultEntry:0},!1,"scala.collection.mutable.DefaultEntry",{scm_DefaultEntry:1,O:1,scm_HashEntry:1,s_Serializable:1,Ljava_io_Serializable:1});function pb(e){this.scm_GrowingBuilder__f_elems=null,this.scm_GrowingBuilder__f_elems=e}ob.prototype.$classData=lb,pb.prototype=new sp,pb.prototype.constructor=pb,pb.prototype,pb.prototype.sizeHint__I__V=function(e){},pb.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},pb.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},pb.prototype.$plus$eq__O__scm_GrowingBuilder=function(e){return this.scm_GrowingBuilder__f_elems.$plus$eq__O__scg_Growable(e),this},pb.prototype.result__O=function(){return this.scm_GrowingBuilder__f_elems},pb.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_GrowingBuilder(e)},pb.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_GrowingBuilder(e)};var ub=(new gp).initClass({scm_GrowingBuilder:0},!1,"scala.collection.mutable.GrowingBuilder",{scm_GrowingBuilder:1,O:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function fb(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.scm_ReusableBuilder)}(e)||null===e?e:Sl(e,"scala.collection.mutable.ReusableBuilder")}function hb(){db=this,new Yw((NC||(NC=new GC),NC))}pb.prototype.$classData=ub,hb.prototype=new sp,hb.prototype.constructor=hb,hb.prototype;var db,mb=(new gp).initClass({s_math_Ordering$:0},!1,"scala.math.Ordering$",{s_math_Ordering$:1,O:1,s_math_LowPriorityOrderingImplicits:1,s_Serializable:1,Ljava_io_Serializable:1});function yb(e){this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$self=null,this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry=null,this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$self=e,this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry=e.next()}hb.prototype.$classData=mb,yb.prototype=new sp,yb.prototype.constructor=yb,yb.prototype,yb.prototype.isEmpty__Z=function(){return Ql(this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry.done)},yb.prototype.isTraversableAgain__Z=function(){return!1},yb.prototype.drop__I__sc_Iterator=function(e){return Yv(this,e)},yb.prototype.foreach__F1__V=function(e){Qv(this,e)},yb.prototype.toStream__sci_Stream=function(){return e$(this)},yb.prototype.toString__T=function(){return"<iterator>"},yb.prototype.size__I=function(){return Ky(this)},yb.prototype.$div$colon__O__F2__O=function(e,t){return eg(this,e,t)},yb.prototype.foldLeft__O__F2__O=function(e,t){return eg(this,e,t)},yb.prototype.toList__sci_List=function(){return CE(tg(this,eT().scg_GenTraversableFactory__f_ReusableCBFInstance))},yb.prototype.toVector__sci_Vector=function(){return rB(tg(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},yb.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},yb.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},yb.prototype.hasNext__Z=function(){return!Ql(this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry.done)},yb.prototype.next__O=function(){var e=this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry.value;return this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$lastEntry=this.sjs_js_Iterator$WrappedIterator__f_scala$scalajs$js$Iterator$WrappedIterator$$self.next(),e},yb.prototype.seq__sc_TraversableOnce=function(){return this};var gb=(new gp).initClass({sjs_js_Iterator$WrappedIterator:0},!1,"scala.scalajs.js.Iterator$WrappedIterator",{sjs_js_Iterator$WrappedIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});yb.prototype.$classData=gb;var vb,$b=Symbol("col");function xb(){return vb||(vb=class extends Object{constructor(e){var t;t=cO(e),super(),this[$b]=null,this[$b]=t}[Symbol.iterator](){return function(e){var t=cO(e[$b]).iterator__sc_Iterator();return new(bb||(bb=class extends Object{constructor(e){var t;t=t$(e),super(),this[Ib]=null,this[Ib]=t}next(){return function(e){return t$(e[Ib]).hasNext__Z()?(()=>{var t;t=e;var _={done:!1,value:null};return _.value=t$(t[Ib]).next__O(),_})():{done:!0,value:void 0}}(this)}}),bb)(t)}(this)}}),vb}var bb,Ib=Symbol("it");function Lb(e,t,_,r,a,n){e.Lcfx70_cfpl_core_BCone__f_d1=t,e.Lcfx70_cfpl_core_BCone__f_d2=_,e.Lcfx70_cfpl_core_BCone__f_h=r,e.Lcfx70_cfpl_core_BCone__f_dd=a;var i=Wp(),s=bV(new IV,[0,0,0]);e.Lcfx70_cfpl_core_BCone__f_bpts=i.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq(t/2,pf(new uf,s),-n/2,n/2);var o=Wp(),c=[a,0,r],l=bV(new IV,c);return e.Lcfx70_cfpl_core_BCone__f_tpts=o.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq(_/2,pf(new uf,l),-n/2,n/2),e}function Sb(){this.Lcfx70_cfpl_core_BCone__f_d1=0,this.Lcfx70_cfpl_core_BCone__f_d2=0,this.Lcfx70_cfpl_core_BCone__f_h=0,this.Lcfx70_cfpl_core_BCone__f_dd=0,this.Lcfx70_cfpl_core_BCone__f_bpts=null,this.Lcfx70_cfpl_core_BCone__f_tpts=null}function Mb(){}function wb(e){return e instanceof Sb||null===e?e:Sl(e,"cfx70.cfpl.core.BCone")}Sb.prototype=new Pp,Sb.prototype.constructor=Sb,Mb.prototype=Sb.prototype,Sb.prototype.bpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BCone__f_bpts},Sb.prototype.bpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BCone__f_bpts=e},Sb.prototype.tpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BCone__f_tpts},Sb.prototype.tpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BCone__f_tpts=e},Sb.prototype.pts__sc_Seq=function(){return Wp().shell__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BCone__f_bpts,this.Lcfx70_cfpl_core_BCone__f_tpts)},Sb.prototype.normals__sc_Seq=function(){return Wp().shellNormals__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BCone__f_bpts,this.Lcfx70_cfpl_core_BCone__f_tpts)},Sb.prototype.cut__Lcfx70_cfpl_core_LineIntersectable__Lcfx70_cfpl_core_BCone=function(e){var t=this.Lcfx70_cfpl_core_BCone__f_tpts.length__I(),_=t<=0;if(_)var r=0;else{var a=t>>31;r=(0===a?(-2147483648^t)>-1:a>0)?-1:t}var n=-1+t|0;IO(),IO(),oA();var i=new IM;if(r<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(0,t,1,!1),!_)for(var s=0;;){var o=s,c=e.intersect__Lcfx70_cfpl_core_Line3__s_Option(new Mv(ff(this.Lcfx70_cfpl_core_BCone__f_tpts.apply__I__O(o)),ff(this.Lcfx70_cfpl_core_BCone__f_bpts.apply__I__O(o))));if(c instanceof GS)var l=ff(NS(c).s_Some__f_value);else{if(kS()!==c)throw new yI(c);l=ff(this.Lcfx70_cfpl_core_BCone__f_bpts.apply__I__O(o))}if(i.$plus$eq__O__sci_VectorBuilder(l),s===n)break;s=1+s|0}var p=i.result__sci_Vector();return this.Lcfx70_cfpl_core_BCone__f_bpts=p,this},Sb.prototype.apex__Lcfx70_vecquat_Vec=function(){var e=[-this.Lcfx70_cfpl_core_BCone__f_d1/2,0,0],t=bV(new IV,e),_=pf(new uf,t),r=[this.Lcfx70_cfpl_core_BCone__f_dd-this.Lcfx70_cfpl_core_BCone__f_d2/2,0,this.Lcfx70_cfpl_core_BCone__f_h],a=bV(new IV,r),n=new Mv(_,pf(new uf,a)),i=[this.Lcfx70_cfpl_core_BCone__f_d1/2,0,0],s=bV(new IV,i),o=pf(new uf,s),c=[this.Lcfx70_cfpl_core_BCone__f_dd+this.Lcfx70_cfpl_core_BCone__f_d2/2,0,this.Lcfx70_cfpl_core_BCone__f_h],l=bV(new IV,c),p=new Mv(o,pf(new uf,l));return ff(n.intersect__Lcfx70_cfpl_core_Line3__s_Option(p).get__O())},Sb.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){var t,_=((t=(hu||(hu=new fu),hu).apply__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec__Lcfx70_cfpl_core_Plane3(e.Lcfx70_cfpl_core_Line3__f_p1,e.Lcfx70_cfpl_core_Line3__f_p2,this.apex__Lcfx70_vecquat_Vec()).intersectXY__s_Option().get__O())instanceof Mv||null===t?t:Sl(t,"cfx70.cfpl.core.Line3")).intersectXYCircle__D__s_Option(this.Lcfx70_cfpl_core_BCone__f_d1/2);if(_ instanceof GS){var r=JS(NS(_).s_Some__f_value);if(null!==r){var a=ff(r._1__O()),n=ff(r._2__O()),i=e.Lcfx70_cfpl_core_Line3__f_p1.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(a).norm__D()<e.Lcfx70_cfpl_core_Line3__f_p1.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(n).norm__D()?a:n,s=np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))/(this.Lcfx70_cfpl_core_BCone__f_d1/2),o=np(i.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))/(this.Lcfx70_cfpl_core_BCone__f_d1/2),c=[this.Lcfx70_cfpl_core_BCone__f_dd+this.Lcfx70_cfpl_core_BCone__f_d2/2*s,this.Lcfx70_cfpl_core_BCone__f_d2/2*o,this.Lcfx70_cfpl_core_BCone__f_h],l=bV(new IV,c),p=new Mv(i,pf(new uf,l)),u=e.intersect__Lcfx70_cfpl_core_Line3__s_Option(p);if(u instanceof GS)return new GS(ff(NS(u).s_Some__f_value));if(kS()===u)return kS();throw new yI(u)}}if(kS()===_)return kS();throw new yI(_)},Sb.prototype.tophalf__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BCone__f_bpts.apply__I__O(0)),ff(this.Lcfx70_cfpl_core_BCone__f_bpts.apply__I__O(Wp().Lcfx70_cfpl_core_BGeometry$__f_segments/2|0)),ff(this.Lcfx70_cfpl_core_BCone__f_tpts.apply__I__O(Wp().Lcfx70_cfpl_core_BGeometry$__f_segments/2|0)),ff(this.Lcfx70_cfpl_core_BCone__f_tpts.apply__I__O(0))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))};var Ob=(new gp).initClass({Lcfx70_cfpl_core_BCone:0},!1,"cfx70.cfpl.core.BCone",{Lcfx70_cfpl_core_BCone:1,Lcfx70_cfpl_core_BGeometry:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1,Lcfx70_cfpl_core_MoveTopBottom:1});function Cb(e,t,_,r,a,n,i,s){var o=Wp(),c=bV(new IV,[0,0,0]);e.Lcfx70_cfpl_core_BPyramid__f_bpts=o.rectPts__D__D__Lcfx70_vecquat_Vec__sc_Seq(t,_,pf(new uf,c));var l=Wp(),p=[i,s,n],u=bV(new IV,p);return e.Lcfx70_cfpl_core_BPyramid__f_tpts=l.rectPts__D__D__Lcfx70_vecquat_Vec__sc_Seq(r,a,pf(new uf,u)),e}function Tb(){this.Lcfx70_cfpl_core_BPyramid__f_bpts=null,this.Lcfx70_cfpl_core_BPyramid__f_tpts=null}function Ab(){}Sb.prototype.$classData=Ob,Tb.prototype=new Pp,Tb.prototype.constructor=Tb,Ab.prototype=Tb.prototype,Tb.prototype.bpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BPyramid__f_bpts},Tb.prototype.bpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BPyramid__f_bpts=e},Tb.prototype.tpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BPyramid__f_tpts},Tb.prototype.tpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BPyramid__f_tpts=e},Tb.prototype.pts__sc_Seq=function(){return Wp().shell__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BPyramid__f_bpts,this.Lcfx70_cfpl_core_BPyramid__f_tpts)},Tb.prototype.normals__sc_Seq=function(){return Wp().shellNormals__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BPyramid__f_bpts,this.Lcfx70_cfpl_core_BPyramid__f_tpts)},Tb.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){return kS()},Tb.prototype.bottom__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(3)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(3)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(2)),ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(2))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))},Tb.prototype.top__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(1)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(1)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(0)),ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(0))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))},Tb.prototype.right__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(0)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(0)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(3)),ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(3))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))},Tb.prototype.left__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(2)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(2)),ff(this.Lcfx70_cfpl_core_BPyramid__f_tpts.apply__I__O(1)),ff(this.Lcfx70_cfpl_core_BPyramid__f_bpts.apply__I__O(1))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))},Tb.prototype.hside__sc_Seq__D=function(e){var t=ff(e.apply__I__O(1)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(0))),_=ff(e.apply__I__O(3)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(0)));if(t.dotProd__Lcfx70_vecquat_Vec__D(_)<gf().Lcfx70_vecquat_package$__f_epsilon){var r=t.norm__D();return np(Math.sqrt(r))}var a=t.project__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(_),n=t.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(a).norm__D();return np(Math.sqrt(n))},Tb.prototype.aside__sc_Seq__D=function(e){var t=ff(e.apply__I__O(3)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(0))).norm__D(),_=np(Math.sqrt(t)),r=ff(e.apply__I__O(2)).$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(ff(e.apply__I__O(1))).norm__D();return(_+np(Math.sqrt(r)))/2*this.hside__sc_Seq__D(e)},Tb.prototype.area__D=function(){return this.aside__sc_Seq__D(this.top__sc_Seq())+this.aside__sc_Seq__D(this.bottom__sc_Seq())+this.aside__sc_Seq__D(this.left__sc_Seq())+this.aside__sc_Seq__D(this.right__sc_Seq())};var Rb=(new gp).initClass({Lcfx70_cfpl_core_BPyramid:0},!1,"cfx70.cfpl.core.BPyramid",{Lcfx70_cfpl_core_BPyramid:1,Lcfx70_cfpl_core_BGeometry:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1,Lcfx70_cfpl_core_MoveTopBottom:1});function Db(e,t,_,r,a,n){this.Lcfx70_cfpl_core_BRCRed__f_d=0,this.Lcfx70_cfpl_core_BRCRed__f_da=0,this.Lcfx70_cfpl_core_BRCRed__f_db=0,this.Lcfx70_cfpl_core_BRCRed__f_bpts=null,this.Lcfx70_cfpl_core_BRCRed__f_tpts=null,this.Lcfx70_cfpl_core_BRCRed__f_d=_,this.Lcfx70_cfpl_core_BRCRed__f_da=a,this.Lcfx70_cfpl_core_BRCRed__f_db=n;var i=Wp(),s=bV(new IV,[0,0,0]);this.Lcfx70_cfpl_core_BRCRed__f_bpts=i.rectPts__D__D__Lcfx70_vecquat_Vec__sc_Seq(e,t,pf(new uf,s));var o=Wp(),c=[a,n,r],l=bV(new IV,c);this.Lcfx70_cfpl_core_BRCRed__f_tpts=o.roundPts__D__Lcfx70_vecquat_Vec__D__D__sc_Seq(_/2,pf(new uf,l),(Wp(),0),(Wp(),6.283185307179586))}Tb.prototype.$classData=Rb,Db.prototype=new Pp,Db.prototype.constructor=Db,Db.prototype,Db.prototype.bpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BRCRed__f_bpts},Db.prototype.bpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BRCRed__f_bpts=e},Db.prototype.tpts__sc_Seq=function(){return this.Lcfx70_cfpl_core_BRCRed__f_tpts},Db.prototype.tpts_$eq__sc_Seq__V=function(e){this.Lcfx70_cfpl_core_BRCRed__f_tpts=e},Db.prototype.pts__sc_Seq=function(){return Wp().fan__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BRCRed__f_bpts,this.Lcfx70_cfpl_core_BRCRed__f_tpts)},Db.prototype.normals__sc_Seq=function(){return Wp().fanNormals__sc_Seq__sc_Seq__sc_Seq(this.Lcfx70_cfpl_core_BRCRed__f_bpts,this.Lcfx70_cfpl_core_BRCRed__f_tpts)},Db.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){return kS()},Db.prototype.tophalf__sc_Seq=function(){var e=fw(),t=[ff(this.Lcfx70_cfpl_core_BRCRed__f_bpts.apply__I__O(3)),ff(this.Lcfx70_cfpl_core_BRCRed__f_tpts.apply__I__O(0)),ff(this.Lcfx70_cfpl_core_BRCRed__f_tpts.apply__I__O((Wp().Lcfx70_cfpl_core_BGeometry$__f_segments/2|0)-1|0)),ff(this.Lcfx70_cfpl_core_BRCRed__f_bpts.apply__I__O(2))];return wR(e.apply__sc_Seq__sc_GenTraversable(bV(new IV,t)))};var Eb=(new gp).initClass({Lcfx70_cfpl_core_BRCRed:0},!1,"cfx70.cfpl.core.BRCRed",{Lcfx70_cfpl_core_BRCRed:1,Lcfx70_cfpl_core_BGeometry:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1,Lcfx70_cfpl_core_MoveTopBottom:1});function Bb(){}function Vb(){}Db.prototype.$classData=Eb,Bb.prototype=new nx,Bb.prototype.constructor=Bb,Vb.prototype=Bb.prototype;class qb extends px{constructor(e){super(),Ey(this,e,0,0,!0)}}var Hb=(new gp).initClass({jl_ArithmeticException:0},!1,"java.lang.ArithmeticException",{jl_ArithmeticException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});qb.prototype.$classData=Hb;class Pb extends px{constructor(e){super(),Ey(this,e,0,0,!0)}}var jb=(new gp).initClass({jl_ArrayStoreException:0},!1,"java.lang.ArrayStoreException",{jl_ArrayStoreException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});Pb.prototype.$classData=jb;var Fb=(new gp).initClass({jl_Byte:0},!1,"java.lang.Byte",{jl_Byte:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1},void 0,void 0,(e=>Ul(e)));class zb extends px{constructor(e){super(),Ey(this,e,0,0,!0)}}function kb(e){return e instanceof zb||null===e?e:Sl(e,"java.lang.ClassCastException")}var Gb=(new gp).initClass({jl_ClassCastException:0},!1,"java.lang.ClassCastException",{jl_ClassCastException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function Nb(e,t){return Ey(e,t,0,0,!0),e}function Wb(e){return Ey(e,null,0,0,!0),e}zb.prototype.$classData=Gb;class Ub extends px{}var Zb=(new gp).initClass({jl_IllegalArgumentException:0},!1,"java.lang.IllegalArgumentException",{jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});Ub.prototype.$classData=Zb;class Xb extends px{}var Jb=(new gp).initClass({jl_IllegalStateException:0},!1,"java.lang.IllegalStateException",{jl_IllegalStateException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function Yb(e,t){return Ey(e,t,0,0,!0),e}Xb.prototype.$classData=Jb;class Qb extends px{}var Kb=(new gp).initClass({jl_IndexOutOfBoundsException:0},!1,"java.lang.IndexOutOfBoundsException",{jl_IndexOutOfBoundsException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function eI(){}Qb.prototype.$classData=Kb,eI.prototype=new nx,eI.prototype.constructor=eI,eI.prototype;var tI=(new gp).initClass({jl_JSConsoleBasedPrintStream$DummyOutputStream:0},!1,"java.lang.JSConsoleBasedPrintStream$DummyOutputStream",{jl_JSConsoleBasedPrintStream$DummyOutputStream:1,Ljava_io_OutputStream:1,O:1,Ljava_io_Closeable:1,jl_AutoCloseable:1,Ljava_io_Flushable:1});eI.prototype.$classData=tI;class _I extends px{constructor(){super(),Ey(this,null,0,0,!0)}}var rI=(new gp).initClass({jl_NegativeArraySizeException:0},!1,"java.lang.NegativeArraySizeException",{jl_NegativeArraySizeException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});_I.prototype.$classData=rI;class aI extends px{constructor(){super(),Ey(this,null,0,0,!0)}}var nI=(new gp).initClass({jl_NullPointerException:0},!1,"java.lang.NullPointerException",{jl_NullPointerException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});aI.prototype.$classData=nI;var iI=(new gp).initClass({jl_Short:0},!1,"java.lang.Short",{jl_Short:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1},void 0,void 0,(e=>Zl(e)));class sI extends px{constructor(e){super(),Ey(this,e,0,0,!0)}}var oI=(new gp).initClass({jl_UnsupportedOperationException:0},!1,"java.lang.UnsupportedOperationException",{jl_UnsupportedOperationException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function cI(e,t){return Ey(e,t,0,0,!0),e}sI.prototype.$classData=oI;class lI extends px{}var pI=(new gp).initClass({ju_NoSuchElementException:0},!1,"java.util.NoSuchElementException",{ju_NoSuchElementException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});lI.prototype.$classData=pI;class uI extends mx{constructor(e){super(),Ey(this,null===e?null:e.toString__T(),0,0,!0)}}var fI=(new gp).initClass({Lorg_scalajs_linker_runtime_UndefinedBehaviorError:0},!1,"org.scalajs.linker.runtime.UndefinedBehaviorError",{Lorg_scalajs_linker_runtime_UndefinedBehaviorError:1,jl_VirtualMachineError:1,jl_Error:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function hI(){this.s_Enumeration$Value__f_scala$Enumeration$$outerEnum=null}function dI(){}function mI(e){return"of class "+Rl(e.s_MatchError__f_obj).getName__T()}uI.prototype.$classData=fI,hI.prototype=new sp,hI.prototype.constructor=hI,dI.prototype=hI.prototype,hI.prototype.equals__O__Z=function(e){if(e instanceof hI){var t=(_=e)instanceof hI||null===_?_:Sl(_,"scala.Enumeration$Value");return this.s_Enumeration$Value__f_scala$Enumeration$$outerEnum===t.s_Enumeration$Value__f_scala$Enumeration$$outerEnum&&this.s_Enumeration$Val__f_i===t.s_Enumeration$Val__f_i}return!1;var _},hI.prototype.hashCode__I=function(){return this.s_Enumeration$Val__f_i};class yI extends px{constructor(e){super(),this.s_MatchError__f_objString=null,this.s_MatchError__f_obj=null,this.s_MatchError__f_bitmap$0=!1,this.s_MatchError__f_obj=e,Ey(this,null,0,0,!0)}getMessage__T(){return this.s_MatchError__f_bitmap$0?this.s_MatchError__f_objString:function(e){return e.s_MatchError__f_bitmap$0||(e.s_MatchError__f_objString=null===e.s_MatchError__f_obj?"null":function(e){try{return Vl(e.s_MatchError__f_obj)+" ("+mI(e)+")"}catch(t){return"an instance "+mI(e)}}(e),e.s_MatchError__f_bitmap$0=!0),e.s_MatchError__f_objString}(this)}}var gI=(new gp).initClass({s_MatchError:0},!1,"scala.MatchError",{s_MatchError:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function vI(){}function $I(){}function xI(){}yI.prototype.$classData=gI,vI.prototype=new sp,vI.prototype.constructor=vI,$I.prototype=vI.prototype,xI.prototype=new Yx,xI.prototype.constructor=xI,xI.prototype,xI.prototype.apply__O__O=function(e){return e};var bI=(new gp).initClass({s_Predef$$anon$2:0},!1,"scala.Predef$$anon$2",{s_Predef$$anon$2:1,s_Predef$$less$colon$less:1,O:1,F1:1,s_Serializable:1,Ljava_io_Serializable:1});function II(){}xI.prototype.$classData=bI,II.prototype=new Xx,II.prototype.constructor=II,II.prototype,II.prototype.apply__O__O=function(e){return e};var LI=(new gp).initClass({s_Predef$$anon$3:0},!1,"scala.Predef$$anon$3",{s_Predef$$anon$3:1,s_Predef$$eq$colon$eq:1,O:1,F1:1,s_Serializable:1,Ljava_io_Serializable:1});function SI(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}II.prototype.$classData=LI,SI.prototype=new fg,SI.prototype.constructor=SI,SI.prototype,SI.prototype.newBuilder__scm_Builder=function(){return LL(),new dV};var MI,wI=(new gp).initClass({sc_Iterable$:0},!1,"scala.collection.Iterable$",{sc_Iterable$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function OI(){return MI||(MI=new SI),MI}function CI(e,t){if(this.sc_Iterator$$anon$10__f_$outer=null,this.sc_Iterator$$anon$10__f_f$3=null,null===e)throw null;this.sc_Iterator$$anon$10__f_$outer=e,this.sc_Iterator$$anon$10__f_f$3=t}SI.prototype.$classData=wI,CI.prototype=new Kx,CI.prototype.constructor=CI,CI.prototype,CI.prototype.hasNext__Z=function(){return this.sc_Iterator$$anon$10__f_$outer.hasNext__Z()},CI.prototype.next__O=function(){return this.sc_Iterator$$anon$10__f_f$3.apply__O__O(this.sc_Iterator$$anon$10__f_$outer.next__O())};var TI=(new gp).initClass({sc_Iterator$$anon$10:0},!1,"scala.collection.Iterator$$anon$10",{sc_Iterator$$anon$10:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function AI(){}CI.prototype.$classData=TI,AI.prototype=new Kx,AI.prototype.constructor=AI,AI.prototype,AI.prototype.hasNext__Z=function(){return!1},AI.prototype.next__E=function(){throw cI(new lI,"next on empty iterator")},AI.prototype.next__O=function(){this.next__E()};var RI=(new gp).initClass({sc_Iterator$$anon$2:0},!1,"scala.collection.Iterator$$anon$2",{sc_Iterator$$anon$2:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function DI(e){this.sc_Iterator$$anon$3__f_hasnext=!1,this.sc_Iterator$$anon$3__f_elem$1=null,this.sc_Iterator$$anon$3__f_elem$1=e,this.sc_Iterator$$anon$3__f_hasnext=!0}AI.prototype.$classData=RI,DI.prototype=new Kx,DI.prototype.constructor=DI,DI.prototype,DI.prototype.hasNext__Z=function(){return this.sc_Iterator$$anon$3__f_hasnext},DI.prototype.next__O=function(){return this.sc_Iterator$$anon$3__f_hasnext?(this.sc_Iterator$$anon$3__f_hasnext=!1,this.sc_Iterator$$anon$3__f_elem$1):Yh().sc_Iterator$__f_empty.next__O()};var EI=(new gp).initClass({sc_Iterator$$anon$3:0},!1,"scala.collection.Iterator$$anon$3",{sc_Iterator$$anon$3:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function BI(e){var t=e.sc_Iterator$GroupedIterator__f_step-e.sc_Iterator$GroupedIterator__f_size|0;return t>0?t:0}function VI(e,t){var _,r,a,n,i=new H$,s=new V$,o=e.sc_Iterator$GroupedIterator__f_buffer.scm_ArrayBuffer__f_size0,c=function(e,t){for(var _=SV(new MV),r=0;r<t&&e.sc_Iterator$GroupedIterator__f_self.hasNext__Z();)_.$plus$eq__O__scm_ArrayBuffer(e.sc_Iterator$GroupedIterator__f_self.next__O()),r=1+r|0;return _}(e,t),l=t-c.length__I()|0;if(l>0)var p=!e.sc_Iterator$GroupedIterator__f_pad.isEmpty__Z();else p=!1;if(p)var u=function(e,t){eT();for(var _,r=new dV,a=0;a<t;){var n=(_=e.sc_Iterator$GroupedIterator__f_pad.get__O(),function(e){return!!(e&&e.$classData&&e.$classData.ancestors.F0)}(_)||null===_?_:Sl(_,"scala.Function0")).apply__O();r.$plus$eq__O__scm_ListBuffer(n),a=1+a|0}return r.toList__sci_List()}(e,l),f=fw(),h=wR(c.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(u,f.scg_GenTraversableFactory__f_ReusableCBFInstance));else h=c;if(h.isEmpty__Z())return!1;if(e.sc_Iterator$GroupedIterator__f__partial){var d=PI(0,i,h),m=e.sc_Iterator$GroupedIterator__f_size;return jI(e,d<m?d:m,o,h,i)}if(r=t,a=i,n=h,(_=s).sr_LazyBoolean__f__initialized?_.sr_LazyBoolean__f__value:function(e,t,_,r,a){if(null===t)throw new aI;return t.sr_LazyBoolean__f__initialized?t.sr_LazyBoolean__f__value:t.initialize__Z__Z(PI(0,r,a)<_)}(0,_,r,a,n))return!1;if(HI(0,o))return jI(e,PI(0,i,h),o,h,i);var y=e.sc_Iterator$GroupedIterator__f_step,g=e.sc_Iterator$GroupedIterator__f_size;return jI(e,y<g?y:g,o,h,i)}function qI(e){return!!e.sc_Iterator$GroupedIterator__f_self.hasNext__Z()&&(GA(e.sc_Iterator$GroupedIterator__f_buffer)?VI(e,e.sc_Iterator$GroupedIterator__f_size):VI(e,e.sc_Iterator$GroupedIterator__f_step))}function HI(e,t){return 0===t}function PI(e,t,_){return t.sr_LazyInt__f__initialized?t.sr_LazyInt__f__value:function(e,t,_){if(null===t)throw new aI;return t.sr_LazyInt__f__initialized?t.sr_LazyInt__f__value:t.initialize__I__I(_.length__I())}(0,t,_)}function jI(e,t,_,r,a){if(t>0&&(HI(0,_)||PI(0,a,r)>BI(e))){if(!HI(0,_)){var n=e.sc_Iterator$GroupedIterator__f_buffer,i=e.sc_Iterator$GroupedIterator__f_step,s=i<_?i:_;n.remove__I__I__V(0,s)}if(HI(0,_))var o=PI(0,a,r);else{var c=PI(0,a,r)-BI(e)|0;o=t<c?t:c}return e.sc_Iterator$GroupedIterator__f_buffer.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuffer(ag(r.takeRight__I__O(o))),e.sc_Iterator$GroupedIterator__f_filled=!0,!0}return!1}function FI(e,t,_,r){if(this.sc_Iterator$GroupedIterator__f_self=null,this.sc_Iterator$GroupedIterator__f_size=0,this.sc_Iterator$GroupedIterator__f_step=0,this.sc_Iterator$GroupedIterator__f_buffer=null,this.sc_Iterator$GroupedIterator__f_filled=!1,this.sc_Iterator$GroupedIterator__f__partial=!1,this.sc_Iterator$GroupedIterator__f_pad=null,this.sc_Iterator$GroupedIterator__f_self=t,this.sc_Iterator$GroupedIterator__f_size=_,this.sc_Iterator$GroupedIterator__f_step=r,null===e)throw null;if(!(_>=1&&r>=1)){var a=this.sc_Iterator$GroupedIterator__f_size,n=this.sc_Iterator$GroupedIterator__f_step,i=new bR("size=%d and step=%d, but both must be positive"),s=[a,n],o=i.sci_StringOps__f_repr;fw(),aO();var c=[];_p(s.length);for(var l=0,p=_p(s.length);l<p;){var u=$R(0,s[l]);c.push(u),l=1+l|0}MA();for(var f=new op(_p(c.length)),h=f.u.length,d=0,m=0,y=_p(c.length),g=y<h?y:h,v=f.u.length,$=g<v?g:v;d<$;){var x=m,b=d;f.set(x,c[b]),d=1+d|0,m=1+m|0}throw Nb(new Ub,"requirement failed: "+Dy().format__T__AO__T(o,f))}this.sc_Iterator$GroupedIterator__f_buffer=wV(hT().apply__sc_Seq__sc_GenTraversable(CB())),this.sc_Iterator$GroupedIterator__f_filled=!1,this.sc_Iterator$GroupedIterator__f__partial=!0,this.sc_Iterator$GroupedIterator__f_pad=kS()}DI.prototype.$classData=EI,FI.prototype=new Kx,FI.prototype.constructor=FI,FI.prototype,FI.prototype.hasNext__Z=function(){return this.sc_Iterator$GroupedIterator__f_filled||qI(this)},FI.prototype.next__sci_List=function(){if(this.sc_Iterator$GroupedIterator__f_filled||qI(this),!this.sc_Iterator$GroupedIterator__f_filled)throw cI(new lI,"next on empty iterator");return this.sc_Iterator$GroupedIterator__f_filled=!1,rR(this.sc_Iterator$GroupedIterator__f_buffer)},FI.prototype.next__O=function(){return this.next__sci_List()};var zI=(new gp).initClass({sc_Iterator$GroupedIterator:0},!1,"scala.collection.Iterator$GroupedIterator",{sc_Iterator$GroupedIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function kI(e){this.sc_LinearSeqLike$$anon$1__f_these=null,this.sc_LinearSeqLike$$anon$1__f_these=e}FI.prototype.$classData=zI,kI.prototype=new Kx,kI.prototype.constructor=kI,kI.prototype,kI.prototype.hasNext__Z=function(){return!this.sc_LinearSeqLike$$anon$1__f_these.isEmpty__Z()},kI.prototype.next__O=function(){if(this.hasNext__Z()){var e=this.sc_LinearSeqLike$$anon$1__f_these.head__O();return this.sc_LinearSeqLike$$anon$1__f_these=kA(this.sc_LinearSeqLike$$anon$1__f_these.tail__O()),e}return Yh().sc_Iterator$__f_empty.next__O()},kI.prototype.toList__sci_List=function(){var e=this.sc_LinearSeqLike$$anon$1__f_these.toList__sci_List();return this.sc_LinearSeqLike$$anon$1__f_these=kA(this.sc_LinearSeqLike$$anon$1__f_these.take__I__O(0)),e};var GI=(new gp).initClass({sc_LinearSeqLike$$anon$1:0},!1,"scala.collection.LinearSeqLike$$anon$1",{sc_LinearSeqLike$$anon$1:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function NI(){WI=this,new cg(this)}kI.prototype.$classData=GI,NI.prototype=new rb,NI.prototype.constructor=NI,NI.prototype,NI.prototype.newBuilder__scm_Builder=function(){return $M(),new CL},NI.prototype.empty__sc_GenTraversable=function(){return $M(),_D()};var WI,UI=(new gp).initClass({sc_Set$:0},!1,"scala.collection.Set$",{sc_Set$:1,scg_SetFactory:1,scg_GenSetFactory:1,scg_GenericCompanion:1,O:1,scg_GenericSeqCompanion:1});function ZI(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this),XI=this,new ym}NI.prototype.$classData=UI,ZI.prototype=new fg,ZI.prototype.constructor=ZI,ZI.prototype,ZI.prototype.newBuilder__scm_Builder=function(){return EL||(EL=new DL),new dV};var XI,JI=(new gp).initClass({sc_Traversable$:0},!1,"scala.collection.Traversable$",{sc_Traversable$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function YI(){}function QI(){}function KI(e,t){return t instanceof IB&&-1===t.size__I()}function eL(e,t){if(KI(0,t))return t;for(var _=new(SE.getArrayOf().constr)(32),r=0,a=0;r<32;)0!=(t.sci_HashMap$HashTrieMap__f_bitmap0&1<<r)&&(_.set(r,t.sci_HashMap$HashTrieMap__f_elems0.get(a)),a=1+a|0),r=1+r|0;return new IB(-1,_,-1)}function tL(e,t){return t instanceof mB||t instanceof vB}function _L(e,t){if(t instanceof IB){var _=LB(t);if(KI(0,_)){for(var r=0,a=0,n=0;r<32;)null!==_.sci_HashMap$HashTrieMap__f_elems0.get(r)&&_.sci_HashMap$HashTrieMap__f_elems0.set(r,_L(e,_.sci_HashMap$HashTrieMap__f_elems0.get(r))),null!==_.sci_HashMap$HashTrieMap__f_elems0.get(r)&&(a|=1<<r,n=n+_.sci_HashMap$HashTrieMap__f_elems0.get(r).size__I()|0),r=1+r|0;var i=a,s=by().bitCount__I__I(i);switch(s){case 0:return null;case 1:var o=_.sci_HashMap$HashTrieMap__f_elems0;if(0===a)var c=32;else{var l=a&(0|-a);c=31-_p(Math.clz32(l))|0}if(tL(0,o.get(c))){var p=_.sci_HashMap$HashTrieMap__f_elems0;if(0===a)var u=32;else{var f=a&(0|-a);u=31-_p(Math.clz32(f))|0}return p.get(u)}}if(32===s)var h=_.sci_HashMap$HashTrieMap__f_elems0;else{var d=new(SE.getArrayOf().constr)(s),m=0;for(r=0;r<32;)null!==_.sci_HashMap$HashTrieMap__f_elems0.get(r)&&(d.set(m,_.sci_HashMap$HashTrieMap__f_elems0.get(r)),m=1+m|0),r=1+r|0;Uv().assert__Z__V(m===s),h=d}return _.sci_HashMap$HashTrieMap__f_size0=n,_.sci_HashMap$HashTrieMap__f_elems0=h,_.sci_HashMap$HashTrieMap__f_bitmap0=a,_}}return t}function rL(e,t,_){if(-1===t.sci_HashMap$HashTrieMap__f_bitmap0)return _;if(0==(t.sci_HashMap$HashTrieMap__f_bitmap0&1<<_))return-1;var r=((1<<_)-1|0)&t.sci_HashMap$HashTrieMap__f_bitmap0;return by().bitCount__I__I(r)}function aL(e,t,_){return KI(0,t)||-1===t.sci_HashMap$HashTrieMap__f_bitmap0?_:rL(0,t,_)}function nL(e,t,_,r,a){for(;;){var n=!1,i=null,s=t;if(s instanceof mB){var o=yB(s);return o.sci_HashMap$HashMap1__f_hash===r?o.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(_._1__O(),r,a,_._2__O(),_,null):e.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap(o,new mB(_._1__O(),r,_._2__O(),_),a)}if(s instanceof vB){var c=$B(s);return c.sci_HashMap$HashMapCollision1__f_hash===r?c.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(_._1__O(),r,a,_._2__O(),_,null):e.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap(c,new mB(_._1__O(),r,_._2__O(),_),a)}if(s instanceof IB&&(n=!0,KI(0,i=LB(s)))){var l=31&(r>>>a|0),p=i.sci_HashMap$HashTrieMap__f_elems0.get(l);return i.sci_HashMap$HashTrieMap__f_elems0.set(l,null===p?new mB(_._1__O(),r,_._2__O(),_):nL(e,p,_,r,5+a|0)),i}if(n){var u=31&(r>>>a|0),f=rL(0,i,u);if(-1===f){t=eL(0,i);continue}var h=i.sci_HashMap$HashTrieMap__f_elems0.get(f),d=null===h?new mB(_._1__O(),r,_._2__O(),_):nL(e,h,_,r,5+a|0);if(d===h)return i;var m=eL(0,i);return m.sci_HashMap$HashTrieMap__f_elems0.set(u,d),m}if(s===dB())return t.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(_._1__O(),r,a,_._2__O(),_,null);throw new yI(s)}}function iL(e,t,_,r){if(t instanceof mB){var a=yB(t);return sL(e,a,a.sci_HashMap$HashMap1__f_hash,_,r)}if(t instanceof vB){var n=$B(t);return sL(e,n,n.sci_HashMap$HashMapCollision1__f_hash,_,r)}if(t instanceof IB)return function(e,t,_,r){if(t===_)return t;if(_ instanceof mB)return oL(e,yB(_).sci_HashMap$HashMap1__f_hash,_,r,t);if(_ instanceof vB)return oL(e,$B(_).sci_HashMap$HashMapCollision1__f_hash,_,r,t);if(_ instanceof IB){for(var a=LB(_),n=t,i=a.sci_HashMap$HashTrieMap__f_bitmap0,s=0;0!==i;){if(0===i)var o=32;else{var c=i&(0|-i);o=31-_p(Math.clz32(c))|0}var l=aL(0,n,o),p=a.sci_HashMap$HashTrieMap__f_elems0.get(s);if(-1===l)(n=eL(0,n)).sci_HashMap$HashTrieMap__f_elems0.set(o,p);else{var u=n.sci_HashMap$HashTrieMap__f_elems0.get(l);if(u!==p)if(null===u)Uv().assert__Z__V(KI(0,n)),n.sci_HashMap$HashTrieMap__f_elems0.set(o,p);else{var f=iL(e,u,p,5+r|0);f!==u&&(n=eL(0,n)).sci_HashMap$HashTrieMap__f_elems0.set(o,f)}}i^=1<<o,s=1+s|0}return n}if(pR(_))return t;throw new yI(_)}(e,LB(t),_,r);if(t===dB())return t;throw new yI(t)}function sL(e,t,_,r,a){if(Uv().assert__Z__V(tL(0,t)),t===r)return t;if(r instanceof mB){var n=yB(r);return _===n.sci_HashMap$HashMap1__f_hash?t.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(n,a,Tw().sci_HashMap$__f__concatMerger):e.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap(t,n,a)}if(r instanceof vB){var i=$B(r);return _===i.sci_HashMap$HashMapCollision1__f_hash?t.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(i,a,Tw().sci_HashMap$__f__concatMerger):e.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap(t,i,a)}if(r instanceof IB){var s=LB(r),o=31&(_>>>a|0),c=rL(0,s,o);if(-1===c){var l=eL(0,s);return l.sci_HashMap$HashTrieMap__f_elems0.set(o,t),l}var p=sL(e,t,_,s.sci_HashMap$HashTrieMap__f_elems0.get(c),5+a|0);if(p===r)return r;var u=eL(0,s);return u.sci_HashMap$HashTrieMap__f_elems0.set(o,p),u}if(pR(r))return t;throw new yI(r)}function oL(e,t,_,r,a){Uv().assert__Z__V(tL(0,_));var n=31&(t>>>r|0),i=aL(0,a,n);if(-1===i){var s=eL(0,a);return s.sci_HashMap$HashTrieMap__f_elems0.set(n,_),s}var o=a.sci_HashMap$HashTrieMap__f_elems0.get(i);if(o===_)return a;if(null===o)return Uv().assert__Z__V(KI(0,a)),a.sci_HashMap$HashTrieMap__f_elems0.set(i,_),a;var c=iL(e,o,_,5+r|0);if(c===o)return a;var l=eL(0,a);return l.sci_HashMap$HashTrieMap__f_elems0.set(n,c),l}function cL(){this.sci_HashMap$HashMapBuilder__f_rootNode=null,this.sci_HashMap$HashMapBuilder__f_rootNode=(Tw(),dB())}ZI.prototype.$classData=JI,YI.prototype=new rb,YI.prototype.constructor=YI,QI.prototype=YI.prototype,YI.prototype.newBuilder__scm_Builder=function(){return new _S(this.emptyInstance__sci_Set())},YI.prototype.empty__sc_GenTraversable=function(){return this.emptyInstance__sci_Set()},cL.prototype=new sp,cL.prototype.constructor=cL,cL.prototype,cL.prototype.sizeHint__I__V=function(e){},cL.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},cL.prototype.result__sci_HashMap=function(){Tw();var e=_L(this,this.sci_HashMap$HashMapBuilder__f_rootNode);return this.sci_HashMap$HashMapBuilder__f_rootNode=null===e?dB():e,this.sci_HashMap$HashMapBuilder__f_rootNode},cL.prototype.$plus$eq__T2__sci_HashMap$HashMapBuilder=function(e){var t=e._1__O(),_=Tw().scala$collection$immutable$HashMap$$computeHashImpl__O__I(t);return this.sci_HashMap$HashMapBuilder__f_rootNode=nL(this,this.sci_HashMap$HashMapBuilder__f_rootNode,e,_,0),this},cL.prototype.$plus$plus$eq__sc_TraversableOnce__sci_HashMap$HashMapBuilder=function(e){if(e instanceof bE){var t=LE(e);return this.sci_HashMap$HashMapBuilder__f_rootNode===dB()?pR(t)||(this.sci_HashMap$HashMapBuilder__f_rootNode=t):this.sci_HashMap$HashMapBuilder__f_rootNode=iL(this,this.sci_HashMap$HashMapBuilder__f_rootNode,t,0),this}return(_=gg(this,e))instanceof cL||null===_?_:Sl(_,"scala.collection.immutable.HashMap$HashMapBuilder");var _},cL.prototype.leafHash__sci_HashMap__I=function(e){if(e instanceof mB)return yB(e).sci_HashMap$HashMap1__f_hash;if(e instanceof vB)return $B(e).sci_HashMap$HashMapCollision1__f_hash;throw Nb(new Ub,Rl(e).toString__T())},cL.prototype.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap=function(e,t,_){var r=new(SE.getArrayOf().constr)(32),a=31&(this.leafHash__sci_HashMap__I(e)>>>_|0),n=31&(this.leafHash__sci_HashMap__I(t)>>>_|0);return a===n?r.set(a,this.makeMutableTrie__sci_HashMap__sci_HashMap__I__sci_HashMap$HashTrieMap(e,t,5+_|0)):(r.set(a,e),r.set(n,t)),new IB(-1,r,-1)},cL.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__sci_HashMap$HashMapBuilder(e)},cL.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(e))},cL.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__T2__sci_HashMap$HashMapBuilder(JS(e))},cL.prototype.result__O=function(){return this.result__sci_HashMap()};var lL=(new gp).initClass({sci_HashMap$HashMapBuilder:0},!1,"scala.collection.immutable.HashMap$HashMapBuilder",{sci_HashMap$HashMapBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function pL(e,t){return t instanceof DD&&-1===t.size__I()}function uL(e,t){if(pL(0,t))return t;for(var _=new(gD.getArrayOf().constr)(32),r=0,a=0;r<32;)0!=(t.sci_HashSet$HashTrieSet__f_bitmap&1<<r)&&(_.set(r,t.sci_HashSet$HashTrieSet__f_elems.get(a)),a=1+a|0),r=1+r|0;return new DD(-1,_,-1)}function fL(e,t){if(t instanceof DD){var _=ED(t);if(pL(0,_)){for(var r=0,a=0,n=0;r<32;)null!==_.sci_HashSet$HashTrieSet__f_elems.get(r)&&_.sci_HashSet$HashTrieSet__f_elems.set(r,fL(e,_.sci_HashSet$HashTrieSet__f_elems.get(r))),null!==_.sci_HashSet$HashTrieSet__f_elems.get(r)&&(a|=1<<r,n=n+_.sci_HashSet$HashTrieSet__f_elems.get(r).size__I()|0),r=1+r|0;var i=a,s=by().bitCount__I__I(i);switch(s){case 0:return null;case 1:var o=_.sci_HashSet$HashTrieSet__f_elems;if(0===a)var c=32;else{var l=a&(0|-a);c=31-_p(Math.clz32(l))|0}if(o.get(c)instanceof qD){var p=_.sci_HashSet$HashTrieSet__f_elems;if(0===a)var u=32;else{var f=a&(0|-a);u=31-_p(Math.clz32(f))|0}return p.get(u)}}if(32===s)var h=_.sci_HashSet$HashTrieSet__f_elems;else{var d=new(gD.getArrayOf().constr)(s),m=0;for(r=0;r<32;)null!==_.sci_HashSet$HashTrieSet__f_elems.get(r)&&(d.set(m,_.sci_HashSet$HashTrieSet__f_elems.get(r)),m=1+m|0),r=1+r|0;Uv().assert__Z__V(m===s),h=d}return _.sci_HashSet$HashTrieSet__f_size0=n,_.sci_HashSet$HashTrieSet__f_elems=h,_.sci_HashSet$HashTrieSet__f_bitmap=a,_}}return t}function hL(e,t,_,r,a){for(;;){var n=!1,i=null,s=t;if(s instanceof qD){var o=PD(s);return o.sci_HashSet$LeafHashSet__f_hash===r?o.updated0__O__I__I__sci_HashSet(_,r,a):e.makeMutableTrie__sci_HashSet$LeafHashSet__O__I__I__sci_HashSet$HashTrieSet(o,_,r,a)}if(s instanceof DD&&(n=!0,pL(0,i=ED(s)))){var c=31&(r>>>a|0),l=i.sci_HashSet$HashTrieSet__f_elems.get(c);return i.sci_HashSet$HashTrieSet__f_elems.set(c,null===l?new jD(_,r):hL(e,l,_,r,5+a|0)),i}if(n){var p=31&(r>>>a|0),u=dL(0,i,p);if(-1===u){t=uL(0,i);continue}var f=i.sci_HashSet$HashTrieSet__f_elems.get(u),h=null===f?new jD(_,r):hL(e,f,_,r,5+a|0);if(h===f)return i;var d=uL(0,i);return d.sci_HashSet$HashTrieSet__f_elems.set(p,h),d}if(lR(s))return t.updated0__O__I__I__sci_HashSet(_,r,a);throw new yI(s)}}function dL(e,t,_){if(-1===t.sci_HashSet$HashTrieSet__f_bitmap)return _;if(0==(t.sci_HashSet$HashTrieSet__f_bitmap&1<<_))return-1;var r=((1<<_)-1|0)&t.sci_HashSet$HashTrieSet__f_bitmap;return by().bitCount__I__I(r)}function mL(e,t,_){return pL(0,t)||-1===t.sci_HashSet$HashTrieSet__f_bitmap?_:dL(0,t,_)}function yL(e,t,_,r){if(t instanceof qD)return gL(e,PD(t),_,r);if(t instanceof DD)return function(e,t,_,r){if(t===_)return t;if(_ instanceof qD){var a=31&(PD(_).sci_HashSet$LeafHashSet__f_hash>>>r|0),n=mL(0,t,a);if(-1===n){var i=uL(0,t);return i.sci_HashSet$HashTrieSet__f_elems.set(a,_),i}var s=t.sci_HashSet$HashTrieSet__f_elems.get(n);if(s===_)return t;if(null===s)return Uv().assert__Z__V(pL(0,t)),t.sci_HashSet$HashTrieSet__f_elems.set(n,_),t;var o=yL(e,s,_,5+r|0);if(o===s)return t;var c=uL(0,t);return c.sci_HashSet$HashTrieSet__f_elems.set(a,o),c}if(_ instanceof DD){for(var l=ED(_),p=t,u=l.sci_HashSet$HashTrieSet__f_bitmap,f=0;0!==u;){var h=l.sci_HashSet$HashTrieSet__f_elems.get(f);if(0===u)var d=32;else{var m=u&(0|-u);d=31-_p(Math.clz32(m))|0}var y=mL(0,p,d);if(-1===y)(p=uL(0,p)).sci_HashSet$HashTrieSet__f_elems.set(d,h);else{var g=p.sci_HashSet$HashTrieSet__f_elems.get(y);if(g!==h)if(null===g)Uv().assert__Z__V(pL(0,p)),p.sci_HashSet$HashTrieSet__f_elems.set(d,h);else{var v=yL(e,g,h,5+r|0);v!==g&&(p=uL(0,p)).sci_HashSet$HashTrieSet__f_elems.set(d,v)}}u^=1<<d,f=1+f|0}return p}if(lR(_))return t;throw new yI(_)}(e,ED(t),_,r);if(lR(t))return t;throw new yI(t)}function gL(e,t,_,r){if(t===_)return t;if(_ instanceof qD){var a=PD(_);return t.sci_HashSet$LeafHashSet__f_hash===a.sci_HashSet$LeafHashSet__f_hash?t.union0__sci_HashSet__I__sci_HashSet(a,r):e.makeMutableTrie__sci_HashSet$LeafHashSet__sci_HashSet$LeafHashSet__I__sci_HashSet$HashTrieSet(t,a,r)}if(_ instanceof DD){var n=ED(_),i=31&(t.sci_HashSet$LeafHashSet__f_hash>>>r|0),s=dL(0,n,i);if(-1===s){var o=uL(0,n);return o.sci_HashSet$HashTrieSet__f_elems.set(i,t),o}var c=gL(e,t,n.sci_HashSet$HashTrieSet__f_elems.get(s),5+r|0);if(c===_)return _;var l=uL(0,n);return l.sci_HashSet$HashTrieSet__f_elems.set(i,c),l}if(lR(_))return t;throw new yI(_)}function vL(){this.sci_HashSet$HashSetBuilder__f_rootNode=null,this.sci_HashSet$HashSetBuilder__f_rootNode=(vO(),AD())}cL.prototype.$classData=lL,vL.prototype=new sp,vL.prototype.constructor=vL,vL.prototype,vL.prototype.sizeHint__I__V=function(e){},vL.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},vL.prototype.result__sci_HashSet=function(){vO();var e=fL(this,this.sci_HashSet$HashSetBuilder__f_rootNode);return this.sci_HashSet$HashSetBuilder__f_rootNode=null===e?AD():e,this.sci_HashSet$HashSetBuilder__f_rootNode},vL.prototype.$plus$eq__O__sci_HashSet$HashSetBuilder=function(e){var t=vO().computeHash__O__I(e);return this.sci_HashSet$HashSetBuilder__f_rootNode=hL(this,this.sci_HashSet$HashSetBuilder__f_rootNode,e,t,0),this},vL.prototype.$plus$plus$eq__sc_TraversableOnce__sci_HashSet$HashSetBuilder=function(e){if(e instanceof dD){var t=yD(e);return lR(this.sci_HashSet$HashSetBuilder__f_rootNode)?lR(t)||(this.sci_HashSet$HashSetBuilder__f_rootNode=t):this.sci_HashSet$HashSetBuilder__f_rootNode=yL(this,this.sci_HashSet$HashSetBuilder__f_rootNode,t,0),this}return(_=gg(this,e))instanceof vL||null===_?_:Sl(_,"scala.collection.immutable.HashSet$HashSetBuilder");var _},vL.prototype.makeMutableTrie__sci_HashSet$LeafHashSet__sci_HashSet$LeafHashSet__I__sci_HashSet$HashTrieSet=function(e,t,_){var r=new(gD.getArrayOf().constr)(32),a=31&(e.sci_HashSet$LeafHashSet__f_hash>>>_|0),n=31&(t.sci_HashSet$LeafHashSet__f_hash>>>_|0);return a===n?r.set(a,this.makeMutableTrie__sci_HashSet$LeafHashSet__sci_HashSet$LeafHashSet__I__sci_HashSet$HashTrieSet(e,t,5+_|0)):(r.set(a,e),r.set(n,t)),new DD(-1,r,-1)},vL.prototype.makeMutableTrie__sci_HashSet$LeafHashSet__O__I__I__sci_HashSet$HashTrieSet=function(e,t,_,r){return this.makeMutableTrie__sci_HashSet$LeafHashSet__sci_HashSet$LeafHashSet__I__sci_HashSet$HashTrieSet(e,new jD(t,_),r)},vL.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__sci_HashSet$HashSetBuilder(e)},vL.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__sci_HashSet$HashSetBuilder(e)},vL.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__sci_HashSet$HashSetBuilder(e)},vL.prototype.result__O=function(){return this.result__sci_HashSet()};var $L=(new gp).initClass({sci_HashSet$HashSetBuilder:0},!1,"scala.collection.immutable.HashSet$HashSetBuilder",{sci_HashSet$HashSetBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function xL(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}vL.prototype.$classData=$L,xL.prototype=new fg,xL.prototype.constructor=xL,xL.prototype,xL.prototype.newBuilder__scm_Builder=function(){return new dV};var bL,IL=(new gp).initClass({sci_Iterable$:0},!1,"scala.collection.immutable.Iterable$",{sci_Iterable$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function LL(){return bL||(bL=new xL),bL}function SL(e){e.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder=!0,null===e.sci_Map$MapBuilderImpl__f_hashMapBuilder&&(e.sci_Map$MapBuilderImpl__f_hashMapBuilder=new cL),e.sci_Map$MapBuilderImpl__f_hashMapBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashMap$HashMapBuilder(e.sci_Map$MapBuilderImpl__f_elems)}function ML(){this.sci_Map$MapBuilderImpl__f_elems=null,this.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder=!1,this.sci_Map$MapBuilderImpl__f_hashMapBuilder=null,this.sci_Map$MapBuilderImpl__f_elems=(sb(),KD()),this.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder=!1}xL.prototype.$classData=IL,ML.prototype=new sp,ML.prototype.constructor=ML,ML.prototype,ML.prototype.sizeHint__I__V=function(e){},ML.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},ML.prototype.result__sci_Map=function(){return this.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder?this.sci_Map$MapBuilderImpl__f_hashMapBuilder.result__sci_HashMap():this.sci_Map$MapBuilderImpl__f_elems},ML.prototype.$plus$eq__T2__sci_Map$MapBuilderImpl=function(e){if(this.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)this.sci_Map$MapBuilderImpl__f_hashMapBuilder.$plus$eq__T2__sci_HashMap$HashMapBuilder(e);else if(this.sci_Map$MapBuilderImpl__f_elems.size__I()<4)this.sci_Map$MapBuilderImpl__f_elems=this.sci_Map$MapBuilderImpl__f_elems.$plus__T2__sci_Map(e);else{var t=e._1__O(),_=e._2__O(),r=this.sci_Map$MapBuilderImpl__f_elems.getOrElse__O__F0__O(t,new F$((()=>sb().sci_Map$__f_scala$collection$immutable$Map$$Sentinel)));Qd().equals__O__O__Z(sb().sci_Map$__f_scala$collection$immutable$Map$$Sentinel,r)?(SL(this),this.sci_Map$MapBuilderImpl__f_hashMapBuilder.$plus$eq__T2__sci_HashMap$HashMapBuilder(e)):Object.is(r,_)||(this.sci_Map$MapBuilderImpl__f_elems=this.sci_Map$MapBuilderImpl__f_elems.$plus__T2__sci_Map(e))}return this},ML.prototype.$plus$plus$eq__sc_TraversableOnce__sci_Map$MapBuilderImpl=function(e){e:if(this.sci_Map$MapBuilderImpl__f_switchedToHashMapBuilder)this.sci_Map$MapBuilderImpl__f_hashMapBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashMap$HashMapBuilder(e);else{if(OR(e)){var t=OR(_=e)||null===_?_:Sl(_,"scala.collection.Map");if(t.size__I()>4){SL(this),this.sci_Map$MapBuilderImpl__f_hashMapBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashMap$HashMapBuilder(t);break e}}fb(gg(this,e))}var _;return this},ML.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__sci_Map$MapBuilderImpl(e)},ML.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(e))},ML.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__T2__sci_Map$MapBuilderImpl(JS(e))},ML.prototype.result__O=function(){return this.result__sci_Map()};var wL=(new gp).initClass({sci_Map$MapBuilderImpl:0},!1,"scala.collection.immutable.Map$MapBuilderImpl",{sci_Map$MapBuilderImpl:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function OL(e){e.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder=!0,null===e.sci_Set$SetBuilderImpl__f_hashSetBuilder&&(e.sci_Set$SetBuilderImpl__f_hashSetBuilder=new vL),e.sci_Set$SetBuilderImpl__f_hashSetBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashSet$HashSetBuilder(e.sci_Set$SetBuilderImpl__f_elems)}function CL(){this.sci_Set$SetBuilderImpl__f_elems=null,this.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder=!1,this.sci_Set$SetBuilderImpl__f_hashSetBuilder=null,this.sci_Set$SetBuilderImpl__f_elems=($M(),_D()),this.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder=!1}ML.prototype.$classData=wL,CL.prototype=new sp,CL.prototype.constructor=CL,CL.prototype,CL.prototype.sizeHint__I__V=function(e){},CL.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},CL.prototype.result__sci_Set=function(){return this.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder?this.sci_Set$SetBuilderImpl__f_hashSetBuilder.result__sci_HashSet():this.sci_Set$SetBuilderImpl__f_elems},CL.prototype.$plus$eq__O__sci_Set$SetBuilderImpl=function(e){return this.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder?this.sci_Set$SetBuilderImpl__f_hashSetBuilder.$plus$eq__O__sci_HashSet$HashSetBuilder(e):this.sci_Set$SetBuilderImpl__f_elems.size__I()<4?this.sci_Set$SetBuilderImpl__f_elems=FR(this.sci_Set$SetBuilderImpl__f_elems.$plus__O__sc_Set(e)):this.sci_Set$SetBuilderImpl__f_elems.contains__O__Z(e)||(OL(this),this.sci_Set$SetBuilderImpl__f_hashSetBuilder.$plus$eq__O__sci_HashSet$HashSetBuilder(e)),this},CL.prototype.$plus$plus$eq__sc_TraversableOnce__sci_Set$SetBuilderImpl=function(e){e:if(this.sci_Set$SetBuilderImpl__f_switchedToHashSetBuilder)this.sci_Set$SetBuilderImpl__f_hashSetBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashSet$HashSetBuilder(e);else{if(CR(e)){var t=TR(e);if(t.size__I()>4){OL(this),this.sci_Set$SetBuilderImpl__f_hashSetBuilder.$plus$plus$eq__sc_TraversableOnce__sci_HashSet$HashSetBuilder(t);break e}}fb(gg(this,e))}return this},CL.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__sci_Set$SetBuilderImpl(e)},CL.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__sci_Set$SetBuilderImpl(e)},CL.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__sci_Set$SetBuilderImpl(e)},CL.prototype.result__O=function(){return this.result__sci_Set()};var TL=(new gp).initClass({sci_Set$SetBuilderImpl:0},!1,"scala.collection.immutable.Set$SetBuilderImpl",{sci_Set$SetBuilderImpl:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function AL(e){this.sci_StreamIterator__f_these=null,this.sci_StreamIterator__f_these=new id(this,new F$((()=>e)))}CL.prototype.$classData=TL,AL.prototype=new Kx,AL.prototype.constructor=AL,AL.prototype,AL.prototype.hasNext__Z=function(){return!this.sci_StreamIterator__f_these.v__sci_Stream().isEmpty__Z()},AL.prototype.next__O=function(){if(this.hasNext__Z()){var e=this.sci_StreamIterator__f_these.v__sci_Stream(),t=e.head__O();return this.sci_StreamIterator__f_these=new id(this,new F$((()=>xE(e.tail__O())))),t}return Yh().sc_Iterator$__f_empty.next__O()},AL.prototype.toStream__sci_Stream=function(){var e=this.sci_StreamIterator__f_these.v__sci_Stream();return this.sci_StreamIterator__f_these=new id(this,new F$((()=>(lT(),NE())))),e},AL.prototype.toList__sci_List=function(){return CE(vw(this.toStream__sci_Stream(),eT().scg_GenTraversableFactory__f_ReusableCBFInstance))};var RL=(new gp).initClass({sci_StreamIterator:0},!1,"scala.collection.immutable.StreamIterator",{sci_StreamIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function DL(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}AL.prototype.$classData=RL,DL.prototype=new fg,DL.prototype.constructor=DL,DL.prototype,DL.prototype.newBuilder__scm_Builder=function(){return new dV};var EL,BL=(new gp).initClass({sci_Traversable$:0},!1,"scala.collection.immutable.Traversable$",{sci_Traversable$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function VL(e,t){if(t instanceof IB)var _=LB(t).sci_HashMap$HashTrieMap__f_elems0;else{if(!(t instanceof DD))throw new yI(t);_=ED(t).sci_HashSet$HashTrieSet__f_elems}return function(e,t){return!!(e&&e.$classData&&e.$classData.arrayDepth===t&&e.$classData.arrayBase.ancestors.sci_Iterable)}(r=_,1)||null===r?r:Ml(r,"Lscala.collection.immutable.Iterable;",1);var r}function qL(e,t){return t instanceof IB||t instanceof DD}function HL(e,t){return e.sci_TrieIterator__f_elems=t,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=0,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack=e.initArrayStack__AAsci_Iterable(),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack=e.initPosStack__AI(),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=e.sci_TrieIterator__f_elems,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=null,e}function PL(){this.sci_TrieIterator__f_elems=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=null}function jL(){}function FL(e){if(this.sci_Vector$$anon$1__f_i=0,this.sci_Vector$$anon$1__f_$outer=null,null===e)throw null;this.sci_Vector$$anon$1__f_$outer=e,this.sci_Vector$$anon$1__f_i=e.length__I()}DL.prototype.$classData=BL,PL.prototype=new Kx,PL.prototype.constructor=PL,jL.prototype=PL.prototype,PL.prototype.initArrayStack__AAsci_Iterable=function(){return new(xR.getArrayOf().getArrayOf().constr)(6)},PL.prototype.initPosStack__AI=function(){return new hp(6)},PL.prototype.hasNext__Z=function(){return null!==this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter||this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth>=0},PL.prototype.next__O=function(){if(null!==this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter){var e=this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter.next__O();return this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter.hasNext__Z()||(this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=null),e}return function(e,t,_){for(;;){_===(-1+t.u.length|0)?(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=-1+e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth|0,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth>=0?(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack.get(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack.get(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack.set(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth,null)):(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=null,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0)):e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=1+e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD|0;var r=t.get(_);if((a=r)instanceof mB||a instanceof jD)return e.getElem__O__O(r);if(!qL(0,r))return e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=r.iterator__sc_Iterator(),e.next__O();e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth>=0&&(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack.set(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack.set(e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD)),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=1+e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth|0,e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=VL(0,r),e.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0,t=VL(0,r),_=0}var a}(this,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD)},FL.prototype=new Kx,FL.prototype.constructor=FL,FL.prototype,FL.prototype.hasNext__Z=function(){return this.sci_Vector$$anon$1__f_i>0},FL.prototype.next__O=function(){return this.sci_Vector$$anon$1__f_i>0?(this.sci_Vector$$anon$1__f_i=-1+this.sci_Vector$$anon$1__f_i|0,this.sci_Vector$$anon$1__f_$outer.apply__I__O(this.sci_Vector$$anon$1__f_i)):Yh().sc_Iterator$__f_empty.next__O()};var zL=(new gp).initClass({sci_Vector$$anon$1:0},!1,"scala.collection.immutable.Vector$$anon$1",{sci_Vector$$anon$1:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function kL(e,t){this.scm_Builder$$anon$1__f_self=null,this.scm_Builder$$anon$1__f_f$1=null,this.scm_Builder$$anon$1__f_f$1=t,this.scm_Builder$$anon$1__f_self=e}FL.prototype.$classData=zL,kL.prototype=new sp,kL.prototype.constructor=kL,kL.prototype,kL.prototype.hashCode__I=function(){return this.scm_Builder$$anon$1__f_self.hashCode__I()},kL.prototype.equals__O__Z=function(e){return function(e,t){return null!==t&&(t===e||t===e.scm_Builder$$anon$1__f_self||El(t,e.scm_Builder$$anon$1__f_self))}(this,e)},kL.prototype.toString__T=function(){return""+this.scm_Builder$$anon$1__f_self},kL.prototype.$plus$eq__O__scm_Builder$$anon$1=function(e){return this.scm_Builder$$anon$1__f_self.$plus$eq__O__scm_Builder(e),this},kL.prototype.$plus$plus$eq__sc_TraversableOnce__scm_Builder$$anon$1=function(e){return this.scm_Builder$$anon$1__f_self.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e),this},kL.prototype.sizeHint__I__V=function(e){this.scm_Builder$$anon$1__f_self.sizeHint__I__V(e)},kL.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){this.scm_Builder$$anon$1__f_self.sizeHintBounded__I__sc_TraversableLike__V(e,t)},kL.prototype.result__O=function(){return this.scm_Builder$$anon$1__f_f$1.apply__O__O(this.scm_Builder$$anon$1__f_self.result__O())},kL.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_Builder$$anon$1(e)},kL.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_Builder$$anon$1(e)},kL.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_Builder$$anon$1(e)};var GL=(new gp).initClass({scm_Builder$$anon$1:0},!1,"scala.collection.mutable.Builder$$anon$1",{scm_Builder$$anon$1:1,O:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Proxy:1});function NL(e){this.scm_HashTable$$anon$1__f_iterTable=null,this.scm_HashTable$$anon$1__f_idx=0,this.scm_HashTable$$anon$1__f_es=null,this.scm_HashTable$$anon$1__f_iterTable=e.scm_HashMap__f_table,this.scm_HashTable$$anon$1__f_idx=Dg(e),this.scm_HashTable$$anon$1__f_es=this.scm_HashTable$$anon$1__f_iterTable.get(this.scm_HashTable$$anon$1__f_idx)}kL.prototype.$classData=GL,NL.prototype=new Kx,NL.prototype.constructor=NL,NL.prototype,NL.prototype.hasNext__Z=function(){return null!==this.scm_HashTable$$anon$1__f_es},NL.prototype.next__scm_HashEntry=function(){var e=this.scm_HashTable$$anon$1__f_es,t=this.scm_HashTable$$anon$1__f_es;for(this.scm_HashTable$$anon$1__f_es=t.scm_DefaultEntry__f_next;null===this.scm_HashTable$$anon$1__f_es&&this.scm_HashTable$$anon$1__f_idx>0;)this.scm_HashTable$$anon$1__f_idx=-1+this.scm_HashTable$$anon$1__f_idx|0,this.scm_HashTable$$anon$1__f_es=this.scm_HashTable$$anon$1__f_iterTable.get(this.scm_HashTable$$anon$1__f_idx);return e},NL.prototype.next__O=function(){return this.next__scm_HashEntry()};var WL=(new gp).initClass({scm_HashTable$$anon$1:0},!1,"scala.collection.mutable.HashTable$$anon$1",{scm_HashTable$$anon$1:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function UL(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}NL.prototype.$classData=WL,UL.prototype=new fg,UL.prototype.constructor=UL,UL.prototype,UL.prototype.newBuilder__scm_Builder=function(){return SV(new MV)};var ZL,XL=(new gp).initClass({scm_Iterable$:0},!1,"scala.collection.mutable.Iterable$",{scm_Iterable$:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function JL(){this.scm_LazyBuilder__f_parts=null}function YL(){}function QL(e){this.scm_ListBuffer$$anon$1__f_cursor=null,this.scm_ListBuffer$$anon$1__f_cursor=e.isEmpty__Z()?CB():e.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start}UL.prototype.$classData=XL,JL.prototype=new sp,JL.prototype.constructor=JL,YL.prototype=JL.prototype,JL.prototype.sizeHint__I__V=function(e){},JL.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},JL.prototype.$plus$eq__O__scm_LazyBuilder=function(e){var t=this.scm_LazyBuilder__f_parts;eT();for(var _=[e],r=-1+_p(_.length)|0,a=CB();r>=0;)a=new cB(_[r],a),r=-1+r|0;return t.$plus$eq__O__scm_ListBuffer(a),this},JL.prototype.$plus$plus$eq__sc_TraversableOnce__scm_LazyBuilder=function(e){return this.scm_LazyBuilder__f_parts.$plus$eq__O__scm_ListBuffer(e),this},JL.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_LazyBuilder(e)},JL.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_LazyBuilder(e)},JL.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_LazyBuilder(e)},QL.prototype=new Kx,QL.prototype.constructor=QL,QL.prototype,QL.prototype.hasNext__Z=function(){return this.scm_ListBuffer$$anon$1__f_cursor!==CB()},QL.prototype.next__O=function(){if(this.hasNext__Z()){var e=this.scm_ListBuffer$$anon$1__f_cursor.head__O();return this.scm_ListBuffer$$anon$1__f_cursor=CE(this.scm_ListBuffer$$anon$1__f_cursor.tail__O()),e}throw cI(new lI,"next on empty Iterator")};var KL=(new gp).initClass({scm_ListBuffer$$anon$1:0},!1,"scala.collection.mutable.ListBuffer$$anon$1",{scm_ListBuffer$$anon$1:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function eS(e){this.scm_MapBuilder__f_elems=null,this.scm_MapBuilder__f_elems=e}QL.prototype.$classData=KL,eS.prototype=new sp,eS.prototype.constructor=eS,eS.prototype,eS.prototype.sizeHint__I__V=function(e){},eS.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},eS.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},eS.prototype.$plus$eq__T2__scm_MapBuilder=function(e){return this.scm_MapBuilder__f_elems=this.scm_MapBuilder__f_elems.$plus__T2__sc_GenMap(e),this},eS.prototype.result__O=function(){return this.scm_MapBuilder__f_elems},eS.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__T2__scm_MapBuilder(JS(e))},eS.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__T2__scm_MapBuilder(JS(e))};var tS=(new gp).initClass({scm_MapBuilder:0},!1,"scala.collection.mutable.MapBuilder",{scm_MapBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function _S(e){this.scm_SetBuilder__f_elems=null,this.scm_SetBuilder__f_elems=e}eS.prototype.$classData=tS,_S.prototype=new sp,_S.prototype.constructor=_S,_S.prototype,_S.prototype.sizeHint__I__V=function(e){},_S.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},_S.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},_S.prototype.$plus$eq__O__scm_SetBuilder=function(e){return this.scm_SetBuilder__f_elems=this.scm_SetBuilder__f_elems.$plus__O__sc_Set(e),this},_S.prototype.result__O=function(){return this.scm_SetBuilder__f_elems},_S.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_SetBuilder(e)},_S.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_SetBuilder(e)};var rS=(new gp).initClass({scm_SetBuilder:0},!1,"scala.collection.mutable.SetBuilder",{scm_SetBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function aS(e,t){if(0===t){var _=e.scm_WrappedArrayBuilder__f_tag;return Ed().make__O__scm_WrappedArray(function(e){var t=e.runtimeClass__jl_Class()===Cp.getClassOf()?Vf.getClassOf():e.runtimeClass__jl_Class();return jf().newInstance__jl_Class__I__O(t,0)}(_))}var r=e.scm_WrappedArrayBuilder__f_tag.runtimeClass__jl_Class();if(r.isPrimitive__Z()){if(r===Ep.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var a=new hp(t);else{var n=Lp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);a=Gf().copyOf__AI__I__AI(n,t)}return new tV(a)}if(r===qp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var i=new yp(t);else{var s=wp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);i=Gf().copyOf__AD__I__AD(s,t)}return new XB(i)}if(r===Bp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var o=new dp(t);else{var c=Sp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);o=Gf().copyOf__AJ__I__AJ(c,t)}return new aV(o)}if(r===Vp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var l=new mp(t);else{var p=Mp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);l=Gf().copyOf__AF__I__AF(p,t)}return new QB(l)}if(r===Ap.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var u=new pp(t);else{var f=xp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);u=Gf().copyOf__AC__I__AC(f,t)}return new WB(u)}if(r===Rp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var h=new up(t);else{var d=bp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);h=Gf().copyOf__AB__I__AB(d,t)}return new kB(h)}if(r===Dp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var m=new fp(t);else{var y=Ip(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);m=Gf().copyOf__AS__I__AS(y,t)}return new cV(m)}if(r===Tp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var g=new lp(t);else{var v=$p(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);g=Gf().copyOf__AZ__I__AZ(v,t)}return new jB(g)}if(r===Cp.getClassOf()){if(null===e.scm_WrappedArrayBuilder__f_elems)var $=new(Vf.getArrayOf().constr)(t);else{var x=vp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);$=Bf(Gf().copyOf__AO__I__AO(x,t),1)}return new uV($)}throw new yI(r)}if(null===e.scm_WrappedArrayBuilder__f_elems)var b=new op(t);else{var I=vp(e.scm_WrappedArrayBuilder__f_elems.array__O(),1);b=Gf().copyOf__AO__I__AO(I,t)}return new sV(b)}function nS(e,t){e.scm_WrappedArrayBuilder__f_elems=aS(e,t),e.scm_WrappedArrayBuilder__f_capacity=t}function iS(e){this.scm_WrappedArrayBuilder__f_tag=null,this.scm_WrappedArrayBuilder__f_elems=null,this.scm_WrappedArrayBuilder__f_capacity=0,this.scm_WrappedArrayBuilder__f_size=0,this.scm_WrappedArrayBuilder__f_tag=e,this.scm_WrappedArrayBuilder__f_capacity=0,this.scm_WrappedArrayBuilder__f_size=0}_S.prototype.$classData=rS,iS.prototype=new sp,iS.prototype.constructor=iS,iS.prototype,iS.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},iS.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},iS.prototype.sizeHint__I__V=function(e){this.scm_WrappedArrayBuilder__f_capacity<e&&nS(this,e)},iS.prototype.$plus$eq__O__scm_WrappedArrayBuilder=function(e){return function(e,t){if(e.scm_WrappedArrayBuilder__f_capacity<t){for(var _=0===e.scm_WrappedArrayBuilder__f_capacity?16:e.scm_WrappedArrayBuilder__f_capacity<<1;_<t;)_<<=1;nS(e,_)}}(this,1+this.scm_WrappedArrayBuilder__f_size|0),this.scm_WrappedArrayBuilder__f_elems.update__I__O__V(this.scm_WrappedArrayBuilder__f_size,e),this.scm_WrappedArrayBuilder__f_size=1+this.scm_WrappedArrayBuilder__f_size|0,this},iS.prototype.result__scm_WrappedArray=function(){return 0!==this.scm_WrappedArrayBuilder__f_capacity&&this.scm_WrappedArrayBuilder__f_capacity===this.scm_WrappedArrayBuilder__f_size?(this.scm_WrappedArrayBuilder__f_capacity=0,this.scm_WrappedArrayBuilder__f_elems):aS(this,this.scm_WrappedArrayBuilder__f_size)},iS.prototype.result__O=function(){return this.result__scm_WrappedArray()},iS.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_WrappedArrayBuilder(e)},iS.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_WrappedArrayBuilder(e)};var sS=(new gp).initClass({scm_WrappedArrayBuilder:0},!1,"scala.collection.mutable.WrappedArrayBuilder",{scm_WrappedArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function oS(e){this.sr_ScalaRunTime$$anon$1__f_c=0,this.sr_ScalaRunTime$$anon$1__f_cmax=0,this.sr_ScalaRunTime$$anon$1__f_x$2=null,this.sr_ScalaRunTime$$anon$1__f_x$2=e,this.sr_ScalaRunTime$$anon$1__f_c=0,this.sr_ScalaRunTime$$anon$1__f_cmax=e.productArity__I()}iS.prototype.$classData=sS,oS.prototype=new Kx,oS.prototype.constructor=oS,oS.prototype,oS.prototype.hasNext__Z=function(){return this.sr_ScalaRunTime$$anon$1__f_c<this.sr_ScalaRunTime$$anon$1__f_cmax},oS.prototype.next__O=function(){var e=this.sr_ScalaRunTime$$anon$1__f_x$2.productElement__I__O(this.sr_ScalaRunTime$$anon$1__f_c);return this.sr_ScalaRunTime$$anon$1__f_c=1+this.sr_ScalaRunTime$$anon$1__f_c|0,e};var cS=(new gp).initClass({sr_ScalaRunTime$$anon$1:0},!1,"scala.runtime.ScalaRunTime$$anon$1",{sr_ScalaRunTime$$anon$1:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});oS.prototype.$classData=cS;class lS extends By{constructor(){super(),Ey(this,null,0,0,!0)}fillInStackTrace__jl_Throwable(){return e=this,(Z$||(Z$=new U$),Z$).s_util_control_NoStackTrace$__f__noSuppression?By.prototype.fillInStackTrace__jl_Throwable.call(e):Vy(e);var e}}var pS=(new gp).initClass({s_util_control_BreakControl:0},!1,"scala.util.control.BreakControl",{s_util_control_BreakControl:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1,s_util_control_ControlThrowable:1,s_util_control_NoStackTrace:1});function uS(e,t,_){this.Lcfx70_cfpl_core_BPyramid__f_bpts=null,this.Lcfx70_cfpl_core_BPyramid__f_tpts=null,Cb(this,e,t,e,t,_,0,0)}lS.prototype.$classData=pS,uS.prototype=new Ab,uS.prototype.constructor=uS,uS.prototype;var fS=(new gp).initClass({Lcfx70_cfpl_core_BBox:0},!1,"cfx70.cfpl.core.BBox",{Lcfx70_cfpl_core_BBox:1,Lcfx70_cfpl_core_BPyramid:1,Lcfx70_cfpl_core_BGeometry:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1,Lcfx70_cfpl_core_MoveTopBottom:1});function hS(e,t,_,r){this.Lcfx70_cfpl_core_BCone__f_d1=0,this.Lcfx70_cfpl_core_BCone__f_d2=0,this.Lcfx70_cfpl_core_BCone__f_h=0,this.Lcfx70_cfpl_core_BCone__f_dd=0,this.Lcfx70_cfpl_core_BCone__f_bpts=null,this.Lcfx70_cfpl_core_BCone__f_tpts=null,Lb(this,e,e,t,_,r)}function dS(e){return e instanceof hS||null===e?e:Sl(e,"cfx70.cfpl.core.BCylinder")}uS.prototype.$classData=fS,hS.prototype=new Mb,hS.prototype.constructor=hS,hS.prototype,hS.prototype.apex__Lcfx70_vecquat_Vec=function(){throw Bv(new Vv,"Cylinder hasn't apex")},hS.prototype.intersect__Lcfx70_cfpl_core_Line3__s_Option=function(e){var t=e.intersectXYCircle__D__s_Option(this.Lcfx70_cfpl_core_BCone__f_d1/2);if(t instanceof GS){var _=JS(NS(t).s_Some__f_value);if(null!==_){var r=ff(_._1__O()),a=ff(_._2__O()),n=e.Lcfx70_cfpl_core_Line3__f_p1.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(r).norm__D()<e.Lcfx70_cfpl_core_Line3__f_p1.$minus__Lcfx70_vecquat_Vec__Lcfx70_vecquat_Vec(a).norm__D()?r:a,i=np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(0))/(this.Lcfx70_cfpl_core_BCone__f_d1/2),s=np(n.Lcfx70_vecquat_Vec__f_crds.apply__I__O(1))/(this.Lcfx70_cfpl_core_BCone__f_d1/2),o=[this.Lcfx70_cfpl_core_BCone__f_dd+this.Lcfx70_cfpl_core_BCone__f_d2/2*i,this.Lcfx70_cfpl_core_BCone__f_d2/2*s,this.Lcfx70_cfpl_core_BCone__f_h],c=bV(new IV,o),l=new Mv(n,pf(new uf,c)),p=e.intersect__Lcfx70_cfpl_core_Line3__s_Option(l);if(p instanceof GS)return new GS(ff(NS(p).s_Some__f_value));if(kS()===p)return kS();throw new yI(p)}}if(kS()===t)return kS();throw new yI(t)};var mS=(new gp).initClass({Lcfx70_cfpl_core_BCylinder:0},!1,"cfx70.cfpl.core.BCylinder",{Lcfx70_cfpl_core_BCylinder:1,Lcfx70_cfpl_core_BCone:1,Lcfx70_cfpl_core_BGeometry:1,O:1,Lcfx70_cfpl_core_LineIntersectable:1,Lcfx70_cfpl_core_WireframeHelper:1,Lcfx70_cfpl_core_MoveTopBottom:1});hS.prototype.$classData=mS;class yS extends Qb{constructor(e){super(),Ey(this,e,0,0,!0)}}var gS=(new gp).initClass({jl_ArrayIndexOutOfBoundsException:0},!1,"java.lang.ArrayIndexOutOfBoundsException",{jl_ArrayIndexOutOfBoundsException:1,jl_IndexOutOfBoundsException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function vS(e){return Lf().numberHashCode__D__I(e)}yS.prototype.$classData=gS;var $S=(new gp).initClass({jl_Double:0},!1,"java.lang.Double",{jl_Double:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1,jl_constant_ConstantDesc:1},void 0,void 0,(e=>"number"==typeof e)),xS=(new gp).initClass({jl_Float:0},!1,"java.lang.Float",{jl_Float:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1,jl_constant_ConstantDesc:1},void 0,void 0,(e=>Jl(e))),bS=(new gp).initClass({jl_Integer:0},!1,"java.lang.Integer",{jl_Integer:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1,jl_constant_ConstantDesc:1},void 0,void 0,(e=>Xl(e))),IS=(new gp).initClass({jl_Long:0},!1,"java.lang.Long",{jl_Long:1,jl_Number:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_constant_Constable:1,jl_constant_ConstantDesc:1},void 0,void 0,(e=>e instanceof Oh));class LS extends Ub{constructor(e){super(),Ey(this,e,0,0,!0)}}var SS=(new gp).initClass({jl_NumberFormatException:0},!1,"java.lang.NumberFormatException",{jl_NumberFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function MS(e,t){return jl(e,t),_p(e.codePointAt(t))}function wS(e){for(var t=0,_=1,r=-1+e.length|0;r>=0;){var a=r;t=t+Math.imul(jl(e,a),_)|0,_=Math.imul(31,_),r=-1+r|0}return t}function OS(e,t){var _=(fy||(fy=new uy),fy).toString__I__T(t);return _p(e.indexOf(_))}function CS(e){return"string"==typeof e||null===e?e:Sl(e,"java.lang.String")}LS.prototype.$classData=SS;var TS=(new gp).initClass({T:0},!1,"java.lang.String",{T:1,O:1,Ljava_io_Serializable:1,jl_Comparable:1,jl_CharSequence:1,jl_constant_Constable:1,jl_constant_ConstantDesc:1},void 0,void 0,(e=>"string"==typeof e));class AS extends Qb{constructor(e){super(),Ey(this,"String index out of range: "+e,0,0,!0)}}var RS=(new gp).initClass({jl_StringIndexOutOfBoundsException:0},!1,"java.lang.StringIndexOutOfBoundsException",{jl_StringIndexOutOfBoundsException:1,jl_IndexOutOfBoundsException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});AS.prototype.$classData=RS;class DS extends Xb{constructor(){super(),Ey(this,null,0,0,!0)}}var ES=(new gp).initClass({ju_FormatterClosedException:0},!1,"java.util.FormatterClosedException",{ju_FormatterClosedException:1,jl_IllegalStateException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});DS.prototype.$classData=ES;class BS extends Ub{}class VS extends Ub{constructor(e,t,_){super(),this.ju_regex_PatternSyntaxException__f_desc=null,this.ju_regex_PatternSyntaxException__f_regex=null,this.ju_regex_PatternSyntaxException__f_index=0,this.ju_regex_PatternSyntaxException__f_desc=e,this.ju_regex_PatternSyntaxException__f_regex=t,this.ju_regex_PatternSyntaxException__f_index=_,Ey(this,null,0,0,!0)}getMessage__T(){var e=this.ju_regex_PatternSyntaxException__f_index,t=this.ju_regex_PatternSyntaxException__f_regex,_=e<0?"":" near index "+e,r=this.ju_regex_PatternSyntaxException__f_desc+_+"\n"+t;return e>=0&&null!==t&&e<t.length?r+"\n"+function(e,t){if(t<0)throw Wb(new Ub);return CS(e.repeat(t))}(" ",e)+"^":r}}var qS=(new gp).initClass({ju_regex_PatternSyntaxException:0},!1,"java.util.regex.PatternSyntaxException",{ju_regex_PatternSyntaxException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function HS(e,t,_){if(this.s_Enumeration$Value__f_scala$Enumeration$$outerEnum=null,this.s_Enumeration$Val__f_i=0,this.s_Enumeration$Val__f_name=null,this.s_Enumeration$Val__f_i=t,this.s_Enumeration$Val__f_name=_,function(e,t){if(null===t)throw null;e.s_Enumeration$Value__f_scala$Enumeration$$outerEnum=t}(this,e),e.s_Enumeration__f_scala$Enumeration$$vmap.contains__O__Z(t))throw new ix("assertion failed: Duplicate id: "+this.s_Enumeration$Val__f_i);e.s_Enumeration__f_scala$Enumeration$$vmap.put__O__O__s_Option(t,this),e.s_Enumeration__f_nextId=1+t|0,e.s_Enumeration__f_nextId>e.s_Enumeration__f_scala$Enumeration$$topId&&(e.s_Enumeration__f_scala$Enumeration$$topId=e.s_Enumeration__f_nextId),t<e.s_Enumeration__f_scala$Enumeration$$bottomId&&(e.s_Enumeration__f_scala$Enumeration$$bottomId=t)}VS.prototype.$classData=qS,HS.prototype=new dI,HS.prototype.constructor=HS,HS.prototype,HS.prototype.toString__T=function(){return null!==this.s_Enumeration$Val__f_name?this.s_Enumeration$Val__f_name:"<Unknown name for enum field #"+this.s_Enumeration$Val__f_i+" of class "+Rl(this)+">"};var PS=(new gp).initClass({s_Enumeration$Val:0},!1,"scala.Enumeration$Val",{s_Enumeration$Val:1,s_Enumeration$Value:1,O:1,s_math_Ordered:1,jl_Comparable:1,s_Serializable:1,Ljava_io_Serializable:1});function jS(){}HS.prototype.$classData=PS,jS.prototype=new $I,jS.prototype.constructor=jS,jS.prototype,jS.prototype.isEmpty__Z=function(){return!0},jS.prototype.get__E=function(){throw cI(new lI,"None.get")},jS.prototype.productPrefix__T=function(){return"None"},jS.prototype.productArity__I=function(){return 0},jS.prototype.productElement__I__O=function(e){throw Yb(new Qb,""+e)},jS.prototype.productIterator__sc_Iterator=function(){return new oS(this)},jS.prototype.hashCode__I=function(){return 2433880},jS.prototype.toString__T=function(){return"None"},jS.prototype.get__O=function(){this.get__E()};var FS,zS=(new gp).initClass({s_None$:0},!1,"scala.None$",{s_None$:1,s_Option:1,O:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function kS(){return FS||(FS=new jS),FS}function GS(e){this.s_Some__f_value=null,this.s_Some__f_value=e}function NS(e){return e instanceof GS||null===e?e:Sl(e,"scala.Some")}jS.prototype.$classData=zS,GS.prototype=new $I,GS.prototype.constructor=GS,GS.prototype,GS.prototype.isEmpty__Z=function(){return!1},GS.prototype.get__O=function(){return this.s_Some__f_value},GS.prototype.productPrefix__T=function(){return"Some"},GS.prototype.productArity__I=function(){return 1},GS.prototype.productElement__I__O=function(e){if(0===e)return this.s_Some__f_value;throw Yb(new Qb,""+e)},GS.prototype.productIterator__sc_Iterator=function(){return new oS(this)},GS.prototype.hashCode__I=function(){return Sv().productHash__s_Product__I__I(this,-889275714)},GS.prototype.toString__T=function(){return rm()._toString__s_Product__T(this)},GS.prototype.equals__O__Z=function(e){if(this===e)return!0;if(e instanceof GS){var t=NS(e);return Qd().equals__O__O__Z(this.s_Some__f_value,t.s_Some__f_value)}return!1};var WS=(new gp).initClass({s_Some:0},!1,"scala.Some",{s_Some:1,s_Option:1,O:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function US(e,t,_){return e.T2__f__1=t,e.T2__f__2=_,e}function ZS(){this.T2__f__1=null,this.T2__f__2=null}function XS(){}function JS(e){return e instanceof ZS||null===e?e:Sl(e,"scala.Tuple2")}GS.prototype.$classData=WS,ZS.prototype=new sp,ZS.prototype.constructor=ZS,XS.prototype=ZS.prototype,ZS.prototype.productArity__I=function(){return 2},ZS.prototype.productElement__I__O=function(e){return function(e,t){switch(t){case 0:return e._1__O();case 1:return e._2__O();default:throw Yb(new Qb,""+t)}}(this,e)},ZS.prototype._1__O=function(){return this.T2__f__1},ZS.prototype._2__O=function(){return this.T2__f__2},ZS.prototype.toString__T=function(){return"("+this._1__O()+","+this._2__O()+")"},ZS.prototype.productPrefix__T=function(){return"Tuple2"},ZS.prototype.productIterator__sc_Iterator=function(){return new oS(this)},ZS.prototype.hashCode__I=function(){return Sv().productHash__s_Product__I__I(this,-889275714)},ZS.prototype.equals__O__Z=function(e){if(this===e)return!0;if(e instanceof ZS){var t=JS(e);return Qd().equals__O__O__Z(this._1__O(),t._1__O())&&Qd().equals__O__O__Z(this._2__O(),t._2__O())}return!1},ZS.prototype._1$mcI$sp__I=function(){return _p(this._1__O())},ZS.prototype._2$mcI$sp__I=function(){return _p(this._2__O())};var YS=(new gp).initClass({T2:0},!1,"scala.Tuple2",{T2:1,O:1,s_Product2:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function QS(e,t,_){this.T3__f__1=null,this.T3__f__2=null,this.T3__f__3=null,this.T3__f__1=e,this.T3__f__2=t,this.T3__f__3=_}ZS.prototype.$classData=YS,QS.prototype=new sp,QS.prototype.constructor=QS,QS.prototype,QS.prototype.productArity__I=function(){return 3},QS.prototype.productElement__I__O=function(e){return function(e,t){switch(t){case 0:return e.T3__f__1;case 1:return e.T3__f__2;case 2:return e.T3__f__3;default:throw Yb(new Qb,""+t)}}(this,e)},QS.prototype.toString__T=function(){return"("+this.T3__f__1+","+this.T3__f__2+","+this.T3__f__3+")"},QS.prototype.productPrefix__T=function(){return"Tuple3"},QS.prototype.productIterator__sc_Iterator=function(){return new oS(this)},QS.prototype.hashCode__I=function(){return Sv().productHash__s_Product__I__I(this,-889275714)},QS.prototype.equals__O__Z=function(e){if(this===e)return!0;if(e instanceof QS){var t=(_=e)instanceof QS||null===_?_:Sl(_,"scala.Tuple3");return Qd().equals__O__O__Z(this.T3__f__1,t.T3__f__1)&&Qd().equals__O__O__Z(this.T3__f__2,t.T3__f__2)&&Qd().equals__O__O__Z(this.T3__f__3,t.T3__f__3)}return!1;var _};var KS=(new gp).initClass({T3:0},!1,"scala.Tuple3",{T3:1,O:1,s_Product3:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function eM(e,t,_,r){this.T4__f__1=null,this.T4__f__2=null,this.T4__f__3=null,this.T4__f__4=null,this.T4__f__1=e,this.T4__f__2=t,this.T4__f__3=_,this.T4__f__4=r}QS.prototype.$classData=KS,eM.prototype=new sp,eM.prototype.constructor=eM,eM.prototype,eM.prototype.productArity__I=function(){return 4},eM.prototype.productElement__I__O=function(e){return function(e,t){switch(t){case 0:return e.T4__f__1;case 1:return e.T4__f__2;case 2:return e.T4__f__3;case 3:return e.T4__f__4;default:throw Yb(new Qb,""+t)}}(this,e)},eM.prototype.toString__T=function(){return"("+this.T4__f__1+","+this.T4__f__2+","+this.T4__f__3+","+this.T4__f__4+")"},eM.prototype.productPrefix__T=function(){return"Tuple4"},eM.prototype.productIterator__sc_Iterator=function(){return new oS(this)},eM.prototype.hashCode__I=function(){return Sv().productHash__s_Product__I__I(this,-889275714)},eM.prototype.equals__O__Z=function(e){if(this===e)return!0;if(e instanceof eM){var t=(_=e)instanceof eM||null===_?_:Sl(_,"scala.Tuple4");return Qd().equals__O__O__Z(this.T4__f__1,t.T4__f__1)&&Qd().equals__O__O__Z(this.T4__f__2,t.T4__f__2)&&Qd().equals__O__O__Z(this.T4__f__3,t.T4__f__3)&&Qd().equals__O__O__Z(this.T4__f__4,t.T4__f__4)}return!1;var _};var tM=(new gp).initClass({T4:0},!1,"scala.Tuple4",{T4:1,O:1,s_Product4:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function _M(e,t,_,r,a){this.T5__f__1=null,this.T5__f__2=null,this.T5__f__3=null,this.T5__f__4=null,this.T5__f__5=null,this.T5__f__1=e,this.T5__f__2=t,this.T5__f__3=_,this.T5__f__4=r,this.T5__f__5=a}eM.prototype.$classData=tM,_M.prototype=new sp,_M.prototype.constructor=_M,_M.prototype,_M.prototype.productArity__I=function(){return 5},_M.prototype.productElement__I__O=function(e){return function(e,t){switch(t){case 0:return e.T5__f__1;case 1:return e.T5__f__2;case 2:return e.T5__f__3;case 3:return e.T5__f__4;case 4:return e.T5__f__5;default:throw Yb(new Qb,""+t)}}(this,e)},_M.prototype.toString__T=function(){return"("+this.T5__f__1+","+this.T5__f__2+","+this.T5__f__3+","+this.T5__f__4+","+this.T5__f__5+")"},_M.prototype.productPrefix__T=function(){return"Tuple5"},_M.prototype.productIterator__sc_Iterator=function(){return new oS(this)},_M.prototype.hashCode__I=function(){return Sv().productHash__s_Product__I__I(this,-889275714)},_M.prototype.equals__O__Z=function(e){if(this===e)return!0;if(e instanceof _M){var t=(_=e)instanceof _M||null===_?_:Sl(_,"scala.Tuple5");return Qd().equals__O__O__Z(this.T5__f__1,t.T5__f__1)&&Qd().equals__O__O__Z(this.T5__f__2,t.T5__f__2)&&Qd().equals__O__O__Z(this.T5__f__3,t.T5__f__3)&&Qd().equals__O__O__Z(this.T5__f__4,t.T5__f__4)&&Qd().equals__O__O__Z(this.T5__f__5,t.T5__f__5)}return!1;var _};var rM=(new gp).initClass({T5:0},!1,"scala.Tuple5",{T5:1,O:1,s_Product5:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1});function aM(e,t){if(CA(t)){var _=TA(t);return(Xy||(Xy=new Zy),Xy).mapEquals__sc_GenMapLike__sc_GenMap__Z(e,_)}return!1}function nM(e,t){if(AA(t)){var _=RA(t);return _===e||e.sameElements__sc_GenIterable__Z(_)}return!1}function iM(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenTraversable)}(e)||null===e?e:Sl(e,"scala.collection.GenTraversable")}function sM(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null}function oM(){}function cM(e){this.sci_TrieIterator__f_elems=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=null,HL(this,e.sci_HashMap$HashTrieMap__f_elems0)}_M.prototype.$classData=rM,sM.prototype=new c$,sM.prototype.constructor=sM,oM.prototype=sM.prototype,cM.prototype=new jL,cM.prototype.constructor=cM,cM.prototype,cM.prototype.getElem__O__O=function(e){return yB(e).ensurePair__T2()};var lM=(new gp).initClass({sci_HashMap$HashTrieMap$$anon$7:0},!1,"scala.collection.immutable.HashMap$HashTrieMap$$anon$7",{sci_HashMap$HashTrieMap$$anon$7:1,sci_TrieIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function pM(e){this.sci_TrieIterator__f_elems=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$depth=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posStack=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$arrayD=null,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$posD=0,this.sci_TrieIterator__f_scala$collection$immutable$TrieIterator$$subIter=null,HL(this,e.sci_HashSet$HashTrieSet__f_elems)}cM.prototype.$classData=lM,pM.prototype=new jL,pM.prototype.constructor=pM,pM.prototype,pM.prototype.getElem__O__O=function(e){return FD(e).sci_HashSet$HashSet1__f_key};var uM=(new gp).initClass({sci_HashSet$HashTrieSet$$anon$1:0},!1,"scala.collection.immutable.HashSet$HashTrieSet$$anon$1",{sci_HashSet$HashTrieSet$$anon$1:1,sci_TrieIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1});function fM(){hM=this,new ng(this)}pM.prototype.$classData=uM,fM.prototype=new f$,fM.prototype.constructor=fM,fM.prototype,fM.prototype.empty__sc_GenMap=function(){return DE()};var hM,dM=(new gp).initClass({sci_ListMap$:0},!1,"scala.collection.immutable.ListMap$",{sci_ListMap$:1,scg_ImmutableMapFactory:1,scg_MapFactory:1,scg_GenMapFactory:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function mM(){return hM||(hM=new fM),hM}function yM(){this.sci_Set$__f_ReusableCBF=null,gM=this,this.sci_Set$__f_ReusableCBF=new cg(this)}fM.prototype.$classData=dM,yM.prototype=new QI,yM.prototype.constructor=yM,yM.prototype,yM.prototype.newBuilder__scm_Builder=function(){return new CL},yM.prototype.emptyInstance__sci_Set=function(){return _D()};var gM,vM=(new gp).initClass({sci_Set$:0},!1,"scala.collection.immutable.Set$",{sci_Set$:1,scg_ImmutableSetFactory:1,scg_SetFactory:1,scg_GenSetFactory:1,scg_GenericCompanion:1,O:1,scg_GenericSeqCompanion:1});function $M(){return gM||(gM=new yM),gM}function xM(){this.scm_LazyBuilder__f_parts=null,this.scm_LazyBuilder__f_parts=new dV}yM.prototype.$classData=vM,xM.prototype=new YL,xM.prototype.constructor=xM,xM.prototype,xM.prototype.result__sci_Stream=function(){return xE(this.scm_LazyBuilder__f_parts.toList__sci_List().toStream__sci_Stream().flatMap__F1__scg_CanBuildFrom__O(new k$((e=>ag(e).toStream__sci_Stream())),lT().sci_Stream$__f_ReusableCBF))},xM.prototype.result__O=function(){return this.result__sci_Stream()};var bM=(new gp).initClass({sci_Stream$StreamBuilder:0},!1,"scala.collection.immutable.Stream$StreamBuilder",{sci_Stream$StreamBuilder:1,scm_LazyBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1});function IM(){this.sci_VectorBuilder__f_blockIndex=0,this.sci_VectorBuilder__f_lo=0,this.sci_VectorBuilder__f_depth=0,this.sci_VectorBuilder__f_display0=null,this.sci_VectorBuilder__f_display1=null,this.sci_VectorBuilder__f_display2=null,this.sci_VectorBuilder__f_display3=null,this.sci_VectorBuilder__f_display4=null,this.sci_VectorBuilder__f_display5=null,this.sci_VectorBuilder__f_display0=new op(32),this.sci_VectorBuilder__f_depth=1,this.sci_VectorBuilder__f_blockIndex=0,this.sci_VectorBuilder__f_lo=0}function LM(e){return e instanceof IM||null===e?e:Sl(e,"scala.collection.immutable.VectorBuilder")}xM.prototype.$classData=bM,IM.prototype=new sp,IM.prototype.constructor=IM,IM.prototype,IM.prototype.sizeHint__I__V=function(e){},IM.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},IM.prototype.depth__I=function(){return this.sci_VectorBuilder__f_depth},IM.prototype.depth_$eq__I__V=function(e){this.sci_VectorBuilder__f_depth=e},IM.prototype.display0__AO=function(){return this.sci_VectorBuilder__f_display0},IM.prototype.display0_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display0=e},IM.prototype.display1__AO=function(){return this.sci_VectorBuilder__f_display1},IM.prototype.display1_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display1=e},IM.prototype.display2__AO=function(){return this.sci_VectorBuilder__f_display2},IM.prototype.display2_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display2=e},IM.prototype.display3__AO=function(){return this.sci_VectorBuilder__f_display3},IM.prototype.display3_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display3=e},IM.prototype.display4__AO=function(){return this.sci_VectorBuilder__f_display4},IM.prototype.display4_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display4=e},IM.prototype.display5__AO=function(){return this.sci_VectorBuilder__f_display5},IM.prototype.display5_$eq__AO__V=function(e){this.sci_VectorBuilder__f_display5=e},IM.prototype.$plus$eq__O__sci_VectorBuilder=function(e){if(this.sci_VectorBuilder__f_lo>=this.sci_VectorBuilder__f_display0.u.length){var t=32+this.sci_VectorBuilder__f_blockIndex|0;!function(e,t,_){if(_<1024)1===e.depth__I()&&(e.display1_$eq__AO__V(new op(32)),e.display1__AO().set(0,e.display0__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());else if(_<32768)2===e.depth__I()&&(e.display2_$eq__AO__V(new op(32)),e.display2__AO().set(0,e.display1__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO());else if(_<1048576)3===e.depth__I()&&(e.display3_$eq__AO__V(new op(32)),e.display3__AO().set(0,e.display2__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(new op(32)),e.display2_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO());else if(_<33554432)4===e.depth__I()&&(e.display4_$eq__AO__V(new op(32)),e.display4__AO().set(0,e.display3__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(new op(32)),e.display2_$eq__AO__V(new op(32)),e.display3_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display4__AO().set(31&(t>>>20|0),e.display3__AO());else{if(!(_<1073741824))throw Wb(new Ub);5===e.depth__I()&&(e.display5_$eq__AO__V(new op(32)),e.display5__AO().set(0,e.display4__AO()),e.depth_$eq__I__V(1+e.depth__I()|0)),e.display0_$eq__AO__V(new op(32)),e.display1_$eq__AO__V(new op(32)),e.display2_$eq__AO__V(new op(32)),e.display3_$eq__AO__V(new op(32)),e.display4_$eq__AO__V(new op(32)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display4__AO().set(31&(t>>>20|0),e.display3__AO()),e.display5__AO().set(31&(t>>>25|0),e.display4__AO())}}(this,t,this.sci_VectorBuilder__f_blockIndex^t),this.sci_VectorBuilder__f_blockIndex=t,this.sci_VectorBuilder__f_lo=0}return this.sci_VectorBuilder__f_display0.set(this.sci_VectorBuilder__f_lo,e),this.sci_VectorBuilder__f_lo=1+this.sci_VectorBuilder__f_lo|0,this},IM.prototype.result__sci_Vector=function(){var e=this.sci_VectorBuilder__f_blockIndex+this.sci_VectorBuilder__f_lo|0;if(0===e)return oA().sci_Vector$__f_NIL;var t=new _B(0,e,0);return ud(t,this,this.sci_VectorBuilder__f_depth),this.sci_VectorBuilder__f_depth>1&&fd(t,0,-1+e|0),t},IM.prototype.result__O=function(){return this.result__sci_Vector()},IM.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return LM(gg(this,e))},IM.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__sci_VectorBuilder(e)},IM.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__sci_VectorBuilder(e)};var SM=(new gp).initClass({sci_VectorBuilder:0},!1,"scala.collection.immutable.VectorBuilder",{sci_VectorBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,sci_VectorPointer:1});function MM(e,t){this.sci_VectorIterator__f_endIndex=0,this.sci_VectorIterator__f_blockIndex=0,this.sci_VectorIterator__f_lo=0,this.sci_VectorIterator__f_endLo=0,this.sci_VectorIterator__f__hasNext=!1,this.sci_VectorIterator__f_depth=0,this.sci_VectorIterator__f_display0=null,this.sci_VectorIterator__f_display1=null,this.sci_VectorIterator__f_display2=null,this.sci_VectorIterator__f_display3=null,this.sci_VectorIterator__f_display4=null,this.sci_VectorIterator__f_display5=null,this.sci_VectorIterator__f_endIndex=t,this.sci_VectorIterator__f_blockIndex=-32&e,this.sci_VectorIterator__f_lo=31&e;var _=t-this.sci_VectorIterator__f_blockIndex|0;this.sci_VectorIterator__f_endLo=_<32?_:32,this.sci_VectorIterator__f__hasNext=(this.sci_VectorIterator__f_blockIndex+this.sci_VectorIterator__f_lo|0)<t}IM.prototype.$classData=SM,MM.prototype=new Kx,MM.prototype.constructor=MM,MM.prototype,MM.prototype.depth__I=function(){return this.sci_VectorIterator__f_depth},MM.prototype.depth_$eq__I__V=function(e){this.sci_VectorIterator__f_depth=e},MM.prototype.display0__AO=function(){return this.sci_VectorIterator__f_display0},MM.prototype.display0_$eq__AO__V=function(e){this.sci_VectorIterator__f_display0=e},MM.prototype.display1__AO=function(){return this.sci_VectorIterator__f_display1},MM.prototype.display1_$eq__AO__V=function(e){this.sci_VectorIterator__f_display1=e},MM.prototype.display2__AO=function(){return this.sci_VectorIterator__f_display2},MM.prototype.display2_$eq__AO__V=function(e){this.sci_VectorIterator__f_display2=e},MM.prototype.display3__AO=function(){return this.sci_VectorIterator__f_display3},MM.prototype.display3_$eq__AO__V=function(e){this.sci_VectorIterator__f_display3=e},MM.prototype.display4__AO=function(){return this.sci_VectorIterator__f_display4},MM.prototype.display4_$eq__AO__V=function(e){this.sci_VectorIterator__f_display4=e},MM.prototype.display5__AO=function(){return this.sci_VectorIterator__f_display5},MM.prototype.display5_$eq__AO__V=function(e){this.sci_VectorIterator__f_display5=e},MM.prototype.hasNext__Z=function(){return this.sci_VectorIterator__f__hasNext},MM.prototype.next__O=function(){if(!this.sci_VectorIterator__f__hasNext)throw cI(new lI,"reached iterator end");var e=this.sci_VectorIterator__f_display0.get(this.sci_VectorIterator__f_lo);if(this.sci_VectorIterator__f_lo=1+this.sci_VectorIterator__f_lo|0,this.sci_VectorIterator__f_lo===this.sci_VectorIterator__f_endLo)if((this.sci_VectorIterator__f_blockIndex+this.sci_VectorIterator__f_lo|0)<this.sci_VectorIterator__f_endIndex){var t=32+this.sci_VectorIterator__f_blockIndex|0;!function(e,t,_){if(_<1024)e.display0_$eq__AO__V(vp(e.display1__AO().get(31&(t>>>5|0)),1));else if(_<32768)e.display1_$eq__AO__V(vp(e.display2__AO().get(31&(t>>>10|0)),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(0),1));else if(_<1048576)e.display2_$eq__AO__V(vp(e.display3__AO().get(31&(t>>>15|0)),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(0),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(0),1));else if(_<33554432)e.display3_$eq__AO__V(vp(e.display4__AO().get(31&(t>>>20|0)),1)),e.display2_$eq__AO__V(vp(e.display3__AO().get(0),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(0),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(0),1));else{if(!(_<1073741824))throw Wb(new Ub);e.display4_$eq__AO__V(vp(e.display5__AO().get(31&(t>>>25|0)),1)),e.display3_$eq__AO__V(vp(e.display4__AO().get(0),1)),e.display2_$eq__AO__V(vp(e.display3__AO().get(0),1)),e.display1_$eq__AO__V(vp(e.display2__AO().get(0),1)),e.display0_$eq__AO__V(vp(e.display1__AO().get(0),1))}}(this,t,this.sci_VectorIterator__f_blockIndex^t),this.sci_VectorIterator__f_blockIndex=t;var _=this.sci_VectorIterator__f_endIndex-this.sci_VectorIterator__f_blockIndex|0;this.sci_VectorIterator__f_endLo=_<32?_:32,this.sci_VectorIterator__f_lo=0}else this.sci_VectorIterator__f__hasNext=!1;return e};var wM=(new gp).initClass({sci_VectorIterator:0},!1,"scala.collection.immutable.VectorIterator",{sci_VectorIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sci_VectorPointer:1});function OM(){CM=this,new ng(this)}MM.prototype.$classData=wM,OM.prototype=new d$,OM.prototype.constructor=OM,OM.prototype,OM.prototype.empty__sc_GenMap=function(){return qB(new HB)};var CM,TM=(new gp).initClass({scm_HashMap$:0},!1,"scala.collection.mutable.HashMap$",{scm_HashMap$:1,scg_MutableMapFactory:1,scg_MapFactory:1,scg_GenMapFactory:1,O:1,s_Serializable:1,Ljava_io_Serializable:1});function AM(){return CM||(CM=new OM),CM}function RM(e,t){return t.isArray__Z()?"Array["+RM(e,t.getComponentType__jl_Class())+"]":t.getName__T()}function DM(e){return!!(e&&e.$classData&&e.$classData.ancestors.s_reflect_ClassTag)}function EM(){}function BM(){}function VM(e){return e instanceof EM||null===e?e:Sl(e,"java.io.PrintStream")}OM.prototype.$classData=TM,EM.prototype=new Vb,EM.prototype.constructor=EM,BM.prototype=EM.prototype,EM.prototype.append__jl_CharSequence__Ljava_io_PrintStream=function(e){return this.print__T__V(null===e?"null":Vl(e)),this},EM.prototype.append__jl_CharSequence__jl_Appendable=function(e){return this.append__jl_CharSequence__Ljava_io_PrintStream(e)};class qM extends BS{constructor(e){if(super(),this.ju_DuplicateFormatFlagsException__f_f=null,this.ju_DuplicateFormatFlagsException__f_f=e,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return"Flags = '"+this.ju_DuplicateFormatFlagsException__f_f+"'"}}var HM=(new gp).initClass({ju_DuplicateFormatFlagsException:0},!1,"java.util.DuplicateFormatFlagsException",{ju_DuplicateFormatFlagsException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});qM.prototype.$classData=HM;class PM extends BS{constructor(e,t){if(super(),this.ju_FormatFlagsConversionMismatchException__f_f=null,this.ju_FormatFlagsConversionMismatchException__f_c=0,this.ju_FormatFlagsConversionMismatchException__f_f=e,this.ju_FormatFlagsConversionMismatchException__f_c=t,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return"Conversion = "+Yl(this.ju_FormatFlagsConversionMismatchException__f_c)+", Flags = "+this.ju_FormatFlagsConversionMismatchException__f_f}}var jM=(new gp).initClass({ju_FormatFlagsConversionMismatchException:0},!1,"java.util.FormatFlagsConversionMismatchException",{ju_FormatFlagsConversionMismatchException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});PM.prototype.$classData=jM;class FM extends BS{constructor(e){super(),this.ju_IllegalFormatArgumentIndexException__f_msg=null,this.ju_IllegalFormatArgumentIndexException__f_msg=e,Ey(this,null,0,0,!0)}getMessage__T(){return this.ju_IllegalFormatArgumentIndexException__f_msg}}var zM=(new gp).initClass({ju_IllegalFormatArgumentIndexException:0},!1,"java.util.IllegalFormatArgumentIndexException",{ju_IllegalFormatArgumentIndexException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});FM.prototype.$classData=zM;class kM extends BS{constructor(e){super(),this.ju_IllegalFormatCodePointException__f_c=0,this.ju_IllegalFormatCodePointException__f_c=e,Ey(this,null,0,0,!0)}getMessage__T(){return"Code point = 0x"+CS(np(this.ju_IllegalFormatCodePointException__f_c>>>0).toString(16))}}var GM=(new gp).initClass({ju_IllegalFormatCodePointException:0},!1,"java.util.IllegalFormatCodePointException",{ju_IllegalFormatCodePointException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});kM.prototype.$classData=GM;class NM extends BS{constructor(e,t){if(super(),this.ju_IllegalFormatConversionException__f_c=0,this.ju_IllegalFormatConversionException__f_arg=null,this.ju_IllegalFormatConversionException__f_c=e,this.ju_IllegalFormatConversionException__f_arg=t,Ey(this,null,0,0,!0),null===t)throw new aI}getMessage__T(){var e=this.ju_IllegalFormatConversionException__f_c;return CS(String.fromCharCode(e))+" != "+this.ju_IllegalFormatConversionException__f_arg.getName__T()}}var WM=(new gp).initClass({ju_IllegalFormatConversionException:0},!1,"java.util.IllegalFormatConversionException",{ju_IllegalFormatConversionException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});NM.prototype.$classData=WM;class UM extends BS{constructor(e){if(super(),this.ju_IllegalFormatFlagsException__f_f=null,this.ju_IllegalFormatFlagsException__f_f=e,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return"Flags = '"+this.ju_IllegalFormatFlagsException__f_f+"'"}}var ZM=(new gp).initClass({ju_IllegalFormatFlagsException:0},!1,"java.util.IllegalFormatFlagsException",{ju_IllegalFormatFlagsException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});UM.prototype.$classData=ZM;class XM extends BS{constructor(e){super(),this.ju_IllegalFormatPrecisionException__f_p=0,this.ju_IllegalFormatPrecisionException__f_p=e,Ey(this,null,0,0,!0)}getMessage__T(){return""+this.ju_IllegalFormatPrecisionException__f_p}}var JM=(new gp).initClass({ju_IllegalFormatPrecisionException:0},!1,"java.util.IllegalFormatPrecisionException",{ju_IllegalFormatPrecisionException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});XM.prototype.$classData=JM;class YM extends BS{constructor(e){super(),this.ju_IllegalFormatWidthException__f_w=0,this.ju_IllegalFormatWidthException__f_w=e,Ey(this,null,0,0,!0)}getMessage__T(){return""+this.ju_IllegalFormatWidthException__f_w}}var QM=(new gp).initClass({ju_IllegalFormatWidthException:0},!1,"java.util.IllegalFormatWidthException",{ju_IllegalFormatWidthException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});YM.prototype.$classData=QM;class KM extends BS{constructor(e){if(super(),this.ju_MissingFormatArgumentException__f_s=null,this.ju_MissingFormatArgumentException__f_s=e,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return"Format specifier '"+this.ju_MissingFormatArgumentException__f_s+"'"}}var ew=(new gp).initClass({ju_MissingFormatArgumentException:0},!1,"java.util.MissingFormatArgumentException",{ju_MissingFormatArgumentException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});KM.prototype.$classData=ew;class tw extends BS{constructor(e){if(super(),this.ju_MissingFormatWidthException__f_s=null,this.ju_MissingFormatWidthException__f_s=e,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return this.ju_MissingFormatWidthException__f_s}}var _w=(new gp).initClass({ju_MissingFormatWidthException:0},!1,"java.util.MissingFormatWidthException",{ju_MissingFormatWidthException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});tw.prototype.$classData=_w;class rw extends BS{constructor(e){if(super(),this.ju_UnknownFormatConversionException__f_s=null,this.ju_UnknownFormatConversionException__f_s=e,Ey(this,null,0,0,!0),null===e)throw new aI}getMessage__T(){return"Conversion = '"+this.ju_UnknownFormatConversionException__f_s+"'"}}var aw=(new gp).initClass({ju_UnknownFormatConversionException:0},!1,"java.util.UnknownFormatConversionException",{ju_UnknownFormatConversionException:1,ju_IllegalFormatException:1,jl_IllegalArgumentException:1,jl_RuntimeException:1,jl_Exception:1,jl_Throwable:1,O:1,Ljava_io_Serializable:1});function nw(e,t){if(HA(t)){var _=PA(t);return(Xv||(Xv=new Zv),Xv).setEquals__sc_GenSetLike__sc_GenSet__Z(e,_)}return!1}function iw(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenSetLike)}function sw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}rw.prototype.$classData=aw,sw.prototype=new oM,sw.prototype.constructor=sw,sw.prototype,sw.prototype.newBuilder__scm_Builder=function(){return Ew(),new dV};var ow,cw=(new gp).initClass({sc_LinearSeq$:0},!1,"scala.collection.LinearSeq$",{sc_LinearSeq$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function lw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}sw.prototype.$classData=cw,lw.prototype=new oM,lw.prototype.constructor=lw,lw.prototype,lw.prototype.newBuilder__scm_Builder=function(){return Fw(),new dV};var pw,uw=(new gp).initClass({sc_Seq$:0},!1,"scala.collection.Seq$",{sc_Seq$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function fw(){return pw||(pw=new lw),pw}function hw(e,t,_){if(_===$M().sci_Set$__f_ReusableCBF){if(jR(e)){var r=FR(e);if(HA(t))return r.union__sc_GenSet__sc_Set(PA(t))}return bw(e,_,t)}if(_===vO().sci_HashSet$__f_ReusableCBF){if(e instanceof dD){var a=yD(e);if(HA(t))return a.union__sc_GenSet__sci_HashSet(PA(t))}return bw(e,_,t)}return bw(e,_,t)}function dw(e,t,_){var r=Iw(e,_);return e.foreach__F1__V(new k$((e=>r.$plus$eq__O__scm_Builder(t.apply__O__O(e))))),r.result__O()}function mw(e,t,_){var r=_.apply__O__scm_Builder(e.repr__O());return e.foreach__F1__V(new k$((e=>A$(r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(Uh(t.apply__O__O(e)).seq__sc_TraversableOnce()))))),r.result__O()}function yw(e){if(e.isEmpty__Z())throw new sI("empty.tail");return e.drop__I__O(1)}function gw(e){if(e.isEmpty__Z())throw new sI("empty.init");var t=new yv(e.head__O()),_=new fv(!1),r=e.newBuilder__scm_Builder();return C$(r,e,-1),e.foreach__F1__V(new k$((e=>{_.sr_BooleanRef__f_elem?r.$plus$eq__O__scm_Builder(t.sr_ObjectRef__f_elem):_.sr_BooleanRef__f_elem=!0,t.sr_ObjectRef__f_elem=e}))),r.result__O()}function vw(e,t){var _=t.apply__scm_Builder();return O$(_,e),_.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e.thisCollection__sc_Traversable()),_.result__O()}function $w(e){return e.mkString__T__T__T__T(e.stringPrefix__T()+"(",", ",")")}function xw(e){for(var t=Rl(e.repr__O()).getName__T(),_=-1+t.length|0;;){if(-1!==_)var r=36===jl(t,_);else r=!1;if(!r)break;_=-1+_|0}if(-1===_)var a=!0;else a=46===jl(t,_);if(a)return"";for(var n="";;){for(var i=1+_|0;;){if(-1!==_)var s=jl(t,_)<=57;else s=!1;if(s)var o=jl(t,_)>=48;else o=!1;if(!o)break;_=-1+_|0}for(var c=_;;){if(-1!==_)var l=36!==jl(t,_);else l=!1;if(l)var p=46!==jl(t,_);else p=!1;if(!p)break;_=-1+_|0}var u=1+_|0;if(_===c&&i!==t.length)return n;for(;;){if(-1!==_)var f=36===jl(t,_);else f=!1;if(!f)break;_=-1+_|0}if(-1===_)var h=!0;else h=46===jl(t,_);if(h||(m=void 0,!((m=jl(t,u))>90&&m<127||m<65))){u<0&&jl(t,u),i>t.length&&jl(t,i),i<u&&jl(t,-1);var d=CS(t.substring(u,i));if(n=""===n?d:d+"."+n,h)return n}}var m}function bw(e,t,_){var r=t.apply__O__scm_Builder(e.repr__O());return FA(_)&&C$(r,e,_.seq__sc_TraversableOnce().size__I()),r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e.thisCollection__sc_Traversable()),r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(_.seq__sc_TraversableOnce()),r.result__O()}function Iw(e,t){var _=t.apply__O__scm_Builder(e.repr__O());return O$(_,e),_}function Lw(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_TraversableLike)}(e)||null===e?e:Sl(e,"scala.collection.TraversableLike")}function Sw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null}function Mw(){}function ww(){this.sci_HashMap$__f__defaultMerger=null,this.sci_HashMap$__f__concatMerger=null,this.sci_HashMap$__f_ReusableCBF=null,Ow=this,this.sci_HashMap$__f__defaultMerger=new xg,this.sci_HashMap$__f__concatMerger=new Sg,this.sci_HashMap$__f_ReusableCBF=new ng(this)}lw.prototype.$classData=uw,Sw.prototype=new oM,Sw.prototype.constructor=Sw,Mw.prototype=Sw.prototype,ww.prototype=new f$,ww.prototype.constructor=ww,ww.prototype,ww.prototype.newBuilder__scm_Builder=function(){return new cL},ww.prototype.scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap=function(e,t,_,r,a,n){var i=31&(e>>>a|0),s=31&(_>>>a|0);if(i!==s){var o=1<<i|1<<s,c=new(SE.getArrayOf().constr)(2);return i<s?(c.set(0,t),c.set(1,r)):(c.set(0,r),c.set(1,t)),new IB(o,c,n)}var l=new(SE.getArrayOf().constr)(1),p=1<<i;return l.set(0,this.scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap(e,t,_,r,5+a|0,n)),new IB(p,l,n)},ww.prototype.scala$collection$immutable$HashMap$$computeHashImpl__O__I=function(e){return _=(t=sm().anyHash__O__I(e))+~(t<<9)|0,(_=(_^=_>>>14|0)+(_<<4)|0)^(_>>>10|0);var t,_},ww.prototype.empty__sc_GenMap=function(){return dB()};var Ow,Cw=(new gp).initClass({sci_HashMap$:0},!1,"scala.collection.immutable.HashMap$",{sci_HashMap$:1,scg_ImmutableMapFactory:1,scg_MapFactory:1,scg_GenMapFactory:1,O:1,scg_BitOperations$Int:1,s_Serializable:1,Ljava_io_Serializable:1});function Tw(){return Ow||(Ow=new ww),Ow}function Aw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}ww.prototype.$classData=Cw,Aw.prototype=new oM,Aw.prototype.constructor=Aw,Aw.prototype,Aw.prototype.newBuilder__scm_Builder=function(){return new dV};var Rw,Dw=(new gp).initClass({sci_LinearSeq$:0},!1,"scala.collection.immutable.LinearSeq$",{sci_LinearSeq$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function Ew(){return Rw||(Rw=new Aw),Rw}function Bw(e){return e.sci_Map$MapNIterator__f_current=0,e}function Vw(){this.sci_Map$MapNIterator__f_current=0}function qw(){}function Hw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}Aw.prototype.$classData=Dw,Vw.prototype=new Kx,Vw.prototype.constructor=Vw,qw.prototype=Vw.prototype,Vw.prototype.hasNext__Z=function(){return this.sci_Map$MapNIterator__f_current<this.size__I()},Vw.prototype.next__O=function(){if(this.hasNext__Z()){var e=this.sci_Map$MapNIterator__f_current,t=this.apply__I__T2(e);return this.sci_Map$MapNIterator__f_current=1+this.sci_Map$MapNIterator__f_current|0,t}return Yh().sc_Iterator$__f_empty.next__O()},Vw.prototype.drop__I__sc_Iterator=function(e){if(e>0){var t=this.sci_Map$MapNIterator__f_current+e|0,_=this.size__I();this.sci_Map$MapNIterator__f_current=t<_?t:_}return this},Hw.prototype=new oM,Hw.prototype.constructor=Hw,Hw.prototype,Hw.prototype.newBuilder__scm_Builder=function(){return new dV};var Pw,jw=(new gp).initClass({sci_Seq$:0},!1,"scala.collection.immutable.Seq$",{sci_Seq$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function Fw(){return Pw||(Pw=new Hw),Pw}function zw(e,t){return e.sci_Set$SetNIterator__f_current=0,e.sci_Set$SetNIterator__f_remainder=t,e}function kw(){this.sci_Set$SetNIterator__f_current=0,this.sci_Set$SetNIterator__f_remainder=0}function Gw(){}function Nw(){}function Ww(){}function Uw(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}Hw.prototype.$classData=jw,kw.prototype=new Kx,kw.prototype.constructor=kw,Gw.prototype=kw.prototype,kw.prototype.hasNext__Z=function(){return this.sci_Set$SetNIterator__f_remainder>0},kw.prototype.next__O=function(){if(this.hasNext__Z()){var e=this.apply__I__O(this.sci_Set$SetNIterator__f_current);return this.sci_Set$SetNIterator__f_current=1+this.sci_Set$SetNIterator__f_current|0,this.sci_Set$SetNIterator__f_remainder=-1+this.sci_Set$SetNIterator__f_remainder|0,e}return Yh().sc_Iterator$__f_empty.next__O()},kw.prototype.drop__I__sc_Iterator=function(e){if(e>0){this.sci_Set$SetNIterator__f_current=this.sci_Set$SetNIterator__f_current+e|0;var t=this.sci_Set$SetNIterator__f_remainder-e|0;this.sci_Set$SetNIterator__f_remainder=t<0?0:t}return this},Nw.prototype=new sp,Nw.prototype.constructor=Nw,Ww.prototype=Nw.prototype,Nw.prototype.sizeHint__I__V=function(e){},Nw.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},Nw.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},Uw.prototype=new oM,Uw.prototype.constructor=Uw,Uw.prototype,Uw.prototype.newBuilder__scm_Builder=function(){return SV(new MV)};var Zw,Xw=(new gp).initClass({scm_IndexedSeq$:0},!1,"scala.collection.mutable.IndexedSeq$",{scm_IndexedSeq$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function Jw(){return Zw||(Zw=new Uw),Zw}function Yw(e){this.s_math_Ordering$Reverse__f_outer=null,this.s_math_Ordering$Reverse__f_outer=e}Uw.prototype.$classData=Xw,Yw.prototype=new sp,Yw.prototype.constructor=Yw,Yw.prototype,Yw.prototype.equals__O__Z=function(e){if(null!==e&&this===e)return!0;if(e instanceof Yw){var t=function(e){return e instanceof Yw||null===e?e:Sl(e,"scala.math.Ordering$Reverse")}(e),_=this.s_math_Ordering$Reverse__f_outer,r=t.s_math_Ordering$Reverse__f_outer;return null===_?null===r:_.equals__O__Z(r)}return!1},Yw.prototype.hashCode__I=function(){return Math.imul(41,this.s_math_Ordering$Reverse__f_outer.hashCode__I())};var Qw=(new gp).initClass({s_math_Ordering$Reverse:0},!1,"scala.math.Ordering$Reverse",{s_math_Ordering$Reverse:1,O:1,s_math_Ordering:1,ju_Comparator:1,s_math_PartialOrdering:1,s_math_Equiv:1,s_Serializable:1,Ljava_io_Serializable:1});function Kw(e){this.s_reflect_ClassTag$GenericClassTag__f_runtimeClass=null,this.s_reflect_ClassTag$GenericClassTag__f_runtimeClass=e}Yw.prototype.$classData=Qw,Kw.prototype=new sp,Kw.prototype.constructor=Kw,Kw.prototype,Kw.prototype.newArray__I__O=function(e){return function(e,t){var _=e.runtimeClass__jl_Class();if(_===Rp.getClassOf())return new up(t);if(_===Dp.getClassOf())return new fp(t);if(_===Ap.getClassOf())return new pp(t);if(_===Ep.getClassOf())return new hp(t);if(_===Bp.getClassOf())return new dp(t);if(_===Vp.getClassOf())return new mp(t);if(_===qp.getClassOf())return new yp(t);if(_===Tp.getClassOf())return new lp(t);if(_===Cp.getClassOf())return new(Vf.getArrayOf().constr)(t);var r=e.runtimeClass__jl_Class();return jf().newInstance__jl_Class__I__O(r,t)}(this,e)},Kw.prototype.equals__O__Z=function(e){return function(e,t){var _;return!!DM(t)&&e.runtimeClass__jl_Class()===(_=t,DM(_)||null===_?_:Sl(_,"scala.reflect.ClassTag")).runtimeClass__jl_Class()}(this,e)},Kw.prototype.hashCode__I=function(){var e=this.s_reflect_ClassTag$GenericClassTag__f_runtimeClass;return sm().anyHash__O__I(e)},Kw.prototype.toString__T=function(){return RM(this,this.s_reflect_ClassTag$GenericClassTag__f_runtimeClass)},Kw.prototype.runtimeClass__jl_Class=function(){return this.s_reflect_ClassTag$GenericClassTag__f_runtimeClass};var eO=(new gp).initClass({s_reflect_ClassTag$GenericClassTag:0},!1,"scala.reflect.ClassTag$GenericClassTag",{s_reflect_ClassTag$GenericClassTag:1,O:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function tO(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}Kw.prototype.$classData=eO,tO.prototype=new oM,tO.prototype.constructor=tO,tO.prototype,tO.prototype.newBuilder__scm_Builder=function(){return bV(e=new IV,[]),e;var e};var _O,rO=(new gp).initClass({sjs_js_WrappedArray$:0},!1,"scala.scalajs.js.WrappedArray$",{sjs_js_WrappedArray$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function aO(){return _O||(_O=new tO),_O}function nO(e){this.jl_JSConsoleBasedPrintStream__f_isErr=!1,this.jl_JSConsoleBasedPrintStream__f_buffer=null,this.jl_JSConsoleBasedPrintStream__f_isErr=e,new eI,this.jl_JSConsoleBasedPrintStream__f_buffer=""}tO.prototype.$classData=rO,nO.prototype=new BM,nO.prototype.constructor=nO,nO.prototype,nO.prototype.print__T__V=function(e){this.java$lang$JSConsoleBasedPrintStream$$printString__T__V(null===e?"null":e)},nO.prototype.java$lang$JSConsoleBasedPrintStream$$printString__T__V=function(e){for(var t,_=e;""!==_;){var r=_p(_.indexOf("\n"));if(r<0)this.jl_JSConsoleBasedPrintStream__f_buffer=""+this.jl_JSConsoleBasedPrintStream__f_buffer+_,_="";else{var a=this.jl_JSConsoleBasedPrintStream__f_buffer,n=_;r>n.length&&jl(n,r),r<0&&jl(n,-1),this,t=""+a+CS(n.substring(0,r)),"undefined"!==CS(typeof console)&&(this.jl_JSConsoleBasedPrintStream__f_isErr&&Ql(!!console.error)?console.error(t):console.log(t)),this.jl_JSConsoleBasedPrintStream__f_buffer="";var i=_,s=1+r|0;(s<0||s>i.length)&&jl(i,s),_=CS(i.substring(s))}}};var iO=(new gp).initClass({jl_JSConsoleBasedPrintStream:0},!1,"java.lang.JSConsoleBasedPrintStream",{jl_JSConsoleBasedPrintStream:1,Ljava_io_PrintStream:1,Ljava_io_FilterOutputStream:1,Ljava_io_OutputStream:1,O:1,Ljava_io_Closeable:1,jl_AutoCloseable:1,Ljava_io_Flushable:1,jl_Appendable:1});function sO(e,t){this.T2__f__1=null,this.T2__f__2=null,this.T2$mcII$sp__f__1$mcI$sp=0,this.T2$mcII$sp__f__2$mcI$sp=0,this.T2$mcII$sp__f__1$mcI$sp=e,this.T2$mcII$sp__f__2$mcI$sp=t,US(this,null,null)}nO.prototype.$classData=iO,sO.prototype=new XS,sO.prototype.constructor=sO,sO.prototype,sO.prototype._1$mcI$sp__I=function(){return this.T2$mcII$sp__f__1$mcI$sp},sO.prototype._2$mcI$sp__I=function(){return this.T2$mcII$sp__f__2$mcI$sp},sO.prototype._2__O=function(){return this.T2$mcII$sp__f__2$mcI$sp},sO.prototype._1__O=function(){return this.T2$mcII$sp__f__1$mcI$sp};var oO=(new gp).initClass({T2$mcII$sp:0},!1,"scala.Tuple2$mcII$sp",{T2$mcII$sp:1,T2:1,O:1,s_Product2:1,s_Product:1,s_Equals:1,s_Serializable:1,Ljava_io_Serializable:1,s_Product2$mcII$sp:1});function cO(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenIterable)}(e)||null===e?e:Sl(e,"scala.collection.GenIterable")}function lO(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}sO.prototype.$classData=oO,lO.prototype=new Mw,lO.prototype.constructor=lO,lO.prototype,lO.prototype.newBuilder__scm_Builder=function(){return IO(),oA(),new IM};var pO,uO=(new gp).initClass({sc_IndexedSeq$:0},!1,"scala.collection.IndexedSeq$",{sc_IndexedSeq$:1,scg_IndexedSeqFactory:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function fO(){return pO||(pO=new lO),pO}function hO(e,t,_){if(this.sc_IndexedSeqLike$Elements__f_end=0,this.sc_IndexedSeqLike$Elements__f_index=0,this.sc_IndexedSeqLike$Elements__f_$outer=null,this.sc_IndexedSeqLike$Elements__f_end=_,null===e)throw null;this.sc_IndexedSeqLike$Elements__f_$outer=e,this.sc_IndexedSeqLike$Elements__f_index=t}lO.prototype.$classData=uO,hO.prototype=new Kx,hO.prototype.constructor=hO,hO.prototype,hO.prototype.hasNext__Z=function(){return this.sc_IndexedSeqLike$Elements__f_index<this.sc_IndexedSeqLike$Elements__f_end},hO.prototype.next__O=function(){this.sc_IndexedSeqLike$Elements__f_index>=this.sc_IndexedSeqLike$Elements__f_end&&Yh().sc_Iterator$__f_empty.next__O();var e=this.sc_IndexedSeqLike$Elements__f_$outer.apply__I__O(this.sc_IndexedSeqLike$Elements__f_index);return this.sc_IndexedSeqLike$Elements__f_index=1+this.sc_IndexedSeqLike$Elements__f_index|0,e},hO.prototype.drop__I__sc_Iterator=function(e){return e<=0?new hO(this.sc_IndexedSeqLike$Elements__f_$outer,this.sc_IndexedSeqLike$Elements__f_index,this.sc_IndexedSeqLike$Elements__f_end):(this.sc_IndexedSeqLike$Elements__f_index+e|0)>=this.sc_IndexedSeqLike$Elements__f_end?new hO(this.sc_IndexedSeqLike$Elements__f_$outer,this.sc_IndexedSeqLike$Elements__f_end,this.sc_IndexedSeqLike$Elements__f_end):new hO(this.sc_IndexedSeqLike$Elements__f_$outer,this.sc_IndexedSeqLike$Elements__f_index+e|0,this.sc_IndexedSeqLike$Elements__f_end)};var dO=(new gp).initClass({sc_IndexedSeqLike$Elements:0},!1,"scala.collection.IndexedSeqLike$Elements",{sc_IndexedSeqLike$Elements:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_BufferedIterator:1,s_Serializable:1,Ljava_io_Serializable:1});function mO(){this.sci_HashSet$__f_ReusableCBF=null,yO=this,this.sci_HashSet$__f_ReusableCBF=new cg(this)}hO.prototype.$classData=dO,mO.prototype=new QI,mO.prototype.constructor=mO,mO.prototype,mO.prototype.newBuilder__scm_Builder=function(){return new vL},mO.prototype.scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet=function(e,t,_,r,a,n){var i=31&(e>>>a|0),s=31&(_>>>a|0);if(i!==s){var o=1<<i|1<<s,c=new(gD.getArrayOf().constr)(2);return i<s?(c.set(0,t),c.set(1,r)):(c.set(0,r),c.set(1,t)),new DD(o,c,n)}var l=1<<i,p=this.scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(e,t,_,r,5+a|0,n),u=new(gD.getArrayOf().constr)(1);return u.set(0,p),new DD(l,u,n)},mO.prototype.improve__I__I=function(e){var t=e+~(e<<9)|0;return(t=(t^=t>>>14|0)+(t<<4)|0)^(t>>>10|0)},mO.prototype.computeHash__O__I=function(e){return this.improve__I__I(sm().anyHash__O__I(e))},mO.prototype.emptyInstance__sci_Set=function(){return AD()};var yO,gO=(new gp).initClass({sci_HashSet$:0},!1,"scala.collection.immutable.HashSet$",{sci_HashSet$:1,scg_ImmutableSetFactory:1,scg_SetFactory:1,scg_GenSetFactory:1,scg_GenericCompanion:1,O:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function vO(){return yO||(yO=new mO),yO}function $O(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}mO.prototype.$classData=gO,$O.prototype=new Mw,$O.prototype.constructor=$O,$O.prototype,$O.prototype.newBuilder__scm_Builder=function(){return oA(),new IM};var xO,bO=(new gp).initClass({sci_IndexedSeq$:0},!1,"scala.collection.immutable.IndexedSeq$",{sci_IndexedSeq$:1,scg_IndexedSeqFactory:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1});function IO(){return xO||(xO=new $O),xO}function LO(){SO=this,new cg(this)}$O.prototype.$classData=bO,LO.prototype=new QI,LO.prototype.constructor=LO,LO.prototype,LO.prototype.emptyInstance__sci_Set=function(){return bD()};var SO,MO=(new gp).initClass({sci_ListSet$:0},!1,"scala.collection.immutable.ListSet$",{sci_ListSet$:1,scg_ImmutableSetFactory:1,scg_SetFactory:1,scg_GenSetFactory:1,scg_GenericCompanion:1,O:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function wO(){return SO||(SO=new LO),SO}function OO(){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map2$Map2Iterator__f_$outer=null}function CO(){}function TO(){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map3$Map3Iterator__f_$outer=null}function AO(){}function RO(){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map4$Map4Iterator__f_$outer=null}function DO(){}function EO(e){if(this.sci_Set$SetNIterator__f_current=0,this.sci_Set$SetNIterator__f_remainder=0,this.sci_Set$Set2$$anon$1__f_$outer=null,null===e)throw null;this.sci_Set$Set2$$anon$1__f_$outer=e,zw(this,2)}LO.prototype.$classData=MO,OO.prototype=new qw,OO.prototype.constructor=OO,CO.prototype=OO.prototype,OO.prototype.size__I=function(){return 2},TO.prototype=new qw,TO.prototype.constructor=TO,AO.prototype=TO.prototype,TO.prototype.size__I=function(){return 3},RO.prototype=new qw,RO.prototype.constructor=RO,DO.prototype=RO.prototype,RO.prototype.size__I=function(){return 4},EO.prototype=new Gw,EO.prototype.constructor=EO,EO.prototype,EO.prototype.apply__I__O=function(e){return this.sci_Set$Set2$$anon$1__f_$outer.scala$collection$immutable$Set$Set2$$getElem__I__O(e)};var BO=(new gp).initClass({sci_Set$Set2$$anon$1:0},!1,"scala.collection.immutable.Set$Set2$$anon$1",{sci_Set$Set2$$anon$1:1,sci_Set$SetNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function VO(e){if(this.sci_Set$SetNIterator__f_current=0,this.sci_Set$SetNIterator__f_remainder=0,this.sci_Set$Set3$$anon$2__f_$outer=null,null===e)throw null;this.sci_Set$Set3$$anon$2__f_$outer=e,zw(this,3)}EO.prototype.$classData=BO,VO.prototype=new Gw,VO.prototype.constructor=VO,VO.prototype,VO.prototype.apply__I__O=function(e){return this.sci_Set$Set3$$anon$2__f_$outer.scala$collection$immutable$Set$Set3$$getElem__I__O(e)};var qO=(new gp).initClass({sci_Set$Set3$$anon$2:0},!1,"scala.collection.immutable.Set$Set3$$anon$2",{sci_Set$Set3$$anon$2:1,sci_Set$SetNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function HO(e){if(this.sci_Set$SetNIterator__f_current=0,this.sci_Set$SetNIterator__f_remainder=0,this.sci_Set$Set4$$anon$3__f_$outer=null,null===e)throw null;this.sci_Set$Set4$$anon$3__f_$outer=e,zw(this,4)}VO.prototype.$classData=qO,HO.prototype=new Gw,HO.prototype.constructor=HO,HO.prototype,HO.prototype.apply__I__O=function(e){return this.sci_Set$Set4$$anon$3__f_$outer.scala$collection$immutable$Set$Set4$$getElem__I__O(e)};var PO=(new gp).initClass({sci_Set$Set4$$anon$3:0},!1,"scala.collection.immutable.Set$Set4$$anon$3",{sci_Set$Set4$$anon$3:1,sci_Set$SetNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function jO(e){this.scm_ArrayBuilder$generic__f_elementClass=null,this.scm_ArrayBuilder$generic__f_isCharArrayBuilder=!1,this.scm_ArrayBuilder$generic__f_elems=null,this.scm_ArrayBuilder$generic__f_elementClass=e,this.scm_ArrayBuilder$generic__f_isCharArrayBuilder=e===Ap.getClassOf(),this.scm_ArrayBuilder$generic__f_elems=[]}HO.prototype.$classData=PO,jO.prototype=new Ww,jO.prototype.constructor=jO,jO.prototype,jO.prototype.$plus$eq__O__scm_ArrayBuilder$generic=function(e){var t=this.scm_ArrayBuilder$generic__f_isCharArrayBuilder?Kl(e):null===e?this.scm_ArrayBuilder$generic__f_elementClass.jl_Class__f_data.zero:e;return this.scm_ArrayBuilder$generic__f_elems.push(t),this},jO.prototype.result__O=function(){if(this.scm_ArrayBuilder$generic__f_elementClass===Cp.getClassOf())var e=Vf.getClassOf();else{if(this.scm_ArrayBuilder$generic__f_elementClass===Kd.getClassOf())var t=!0;else t=this.scm_ArrayBuilder$generic__f_elementClass===j$.getClassOf();e=t?Op.getClassOf():this.scm_ArrayBuilder$generic__f_elementClass}return e.jl_Class__f_data.getArrayOf().wrapArray(this.scm_ArrayBuilder$generic__f_elems)},jO.prototype.toString__T=function(){return"ArrayBuilder.generic"},jO.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_ArrayBuilder$generic(e)},jO.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_ArrayBuilder$generic(e)};var FO=(new gp).initClass({scm_ArrayBuilder$generic:0},!1,"scala.collection.mutable.ArrayBuilder$generic",{scm_ArrayBuilder$generic:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function zO(e,t){var _=new lp(t);return e.scm_ArrayBuilder$ofBoolean__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofBoolean__f_elems,0,_,0,e.scm_ArrayBuilder$ofBoolean__f_size),_}function kO(e,t){e.scm_ArrayBuilder$ofBoolean__f_elems=zO(e,t),e.scm_ArrayBuilder$ofBoolean__f_capacity=t}function GO(e,t){if(e.scm_ArrayBuilder$ofBoolean__f_capacity<t||0===e.scm_ArrayBuilder$ofBoolean__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofBoolean__f_capacity?16:e.scm_ArrayBuilder$ofBoolean__f_capacity<<1;_<t;)_<<=1;kO(e,_)}}function NO(){this.scm_ArrayBuilder$ofBoolean__f_elems=null,this.scm_ArrayBuilder$ofBoolean__f_capacity=0,this.scm_ArrayBuilder$ofBoolean__f_size=0,this.scm_ArrayBuilder$ofBoolean__f_capacity=0,this.scm_ArrayBuilder$ofBoolean__f_size=0}function WO(e){return e instanceof NO||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofBoolean")}jO.prototype.$classData=FO,NO.prototype=new Ww,NO.prototype.constructor=NO,NO.prototype,NO.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofBoolean__f_capacity<e&&kO(this,e)},NO.prototype.$plus$eq__Z__scm_ArrayBuilder$ofBoolean=function(e){return GO(this,1+this.scm_ArrayBuilder$ofBoolean__f_size|0),this.scm_ArrayBuilder$ofBoolean__f_elems.set(this.scm_ArrayBuilder$ofBoolean__f_size,e),this.scm_ArrayBuilder$ofBoolean__f_size=1+this.scm_ArrayBuilder$ofBoolean__f_size|0,this},NO.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofBoolean=function(e){if(e instanceof jB){var t=FB(e);return GO(this,this.scm_ArrayBuilder$ofBoolean__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofBoolean__f_array,0,this.scm_ArrayBuilder$ofBoolean__f_elems,this.scm_ArrayBuilder$ofBoolean__f_size,t.length__I()),this.scm_ArrayBuilder$ofBoolean__f_size=this.scm_ArrayBuilder$ofBoolean__f_size+t.length__I()|0,this}return WO(gg(this,e))},NO.prototype.result__AZ=function(){return 0!==this.scm_ArrayBuilder$ofBoolean__f_capacity&&this.scm_ArrayBuilder$ofBoolean__f_capacity===this.scm_ArrayBuilder$ofBoolean__f_size?(this.scm_ArrayBuilder$ofBoolean__f_capacity=0,this.scm_ArrayBuilder$ofBoolean__f_elems):zO(this,this.scm_ArrayBuilder$ofBoolean__f_size)},NO.prototype.equals__O__Z=function(e){if(e instanceof NO){var t=WO(e);return this.scm_ArrayBuilder$ofBoolean__f_size===t.scm_ArrayBuilder$ofBoolean__f_size&&this.scm_ArrayBuilder$ofBoolean__f_elems===t.scm_ArrayBuilder$ofBoolean__f_elems}return!1},NO.prototype.toString__T=function(){return"ArrayBuilder.ofBoolean"},NO.prototype.result__O=function(){return this.result__AZ()},NO.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofBoolean(e)},NO.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__Z__scm_ArrayBuilder$ofBoolean(Ql(e))},NO.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__Z__scm_ArrayBuilder$ofBoolean(Ql(e))};var UO=(new gp).initClass({scm_ArrayBuilder$ofBoolean:0},!1,"scala.collection.mutable.ArrayBuilder$ofBoolean",{scm_ArrayBuilder$ofBoolean:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function ZO(e,t){var _=new up(t);return e.scm_ArrayBuilder$ofByte__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofByte__f_elems,0,_,0,e.scm_ArrayBuilder$ofByte__f_size),_}function XO(e,t){e.scm_ArrayBuilder$ofByte__f_elems=ZO(e,t),e.scm_ArrayBuilder$ofByte__f_capacity=t}function JO(e,t){if(e.scm_ArrayBuilder$ofByte__f_capacity<t||0===e.scm_ArrayBuilder$ofByte__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofByte__f_capacity?16:e.scm_ArrayBuilder$ofByte__f_capacity<<1;_<t;)_<<=1;XO(e,_)}}function YO(){this.scm_ArrayBuilder$ofByte__f_elems=null,this.scm_ArrayBuilder$ofByte__f_capacity=0,this.scm_ArrayBuilder$ofByte__f_size=0,this.scm_ArrayBuilder$ofByte__f_capacity=0,this.scm_ArrayBuilder$ofByte__f_size=0}function QO(e){return e instanceof YO||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofByte")}NO.prototype.$classData=UO,YO.prototype=new Ww,YO.prototype.constructor=YO,YO.prototype,YO.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofByte__f_capacity<e&&XO(this,e)},YO.prototype.$plus$eq__B__scm_ArrayBuilder$ofByte=function(e){return JO(this,1+this.scm_ArrayBuilder$ofByte__f_size|0),this.scm_ArrayBuilder$ofByte__f_elems.set(this.scm_ArrayBuilder$ofByte__f_size,e),this.scm_ArrayBuilder$ofByte__f_size=1+this.scm_ArrayBuilder$ofByte__f_size|0,this},YO.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofByte=function(e){if(e instanceof kB){var t=GB(e);return JO(this,this.scm_ArrayBuilder$ofByte__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofByte__f_array,0,this.scm_ArrayBuilder$ofByte__f_elems,this.scm_ArrayBuilder$ofByte__f_size,t.length__I()),this.scm_ArrayBuilder$ofByte__f_size=this.scm_ArrayBuilder$ofByte__f_size+t.length__I()|0,this}return QO(gg(this,e))},YO.prototype.result__AB=function(){return 0!==this.scm_ArrayBuilder$ofByte__f_capacity&&this.scm_ArrayBuilder$ofByte__f_capacity===this.scm_ArrayBuilder$ofByte__f_size?(this.scm_ArrayBuilder$ofByte__f_capacity=0,this.scm_ArrayBuilder$ofByte__f_elems):ZO(this,this.scm_ArrayBuilder$ofByte__f_size)},YO.prototype.equals__O__Z=function(e){if(e instanceof YO){var t=QO(e);return this.scm_ArrayBuilder$ofByte__f_size===t.scm_ArrayBuilder$ofByte__f_size&&this.scm_ArrayBuilder$ofByte__f_elems===t.scm_ArrayBuilder$ofByte__f_elems}return!1},YO.prototype.toString__T=function(){return"ArrayBuilder.ofByte"},YO.prototype.result__O=function(){return this.result__AB()},YO.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofByte(e)},YO.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__B__scm_ArrayBuilder$ofByte(ep(e))},YO.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__B__scm_ArrayBuilder$ofByte(ep(e))};var KO=(new gp).initClass({scm_ArrayBuilder$ofByte:0},!1,"scala.collection.mutable.ArrayBuilder$ofByte",{scm_ArrayBuilder$ofByte:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function eC(e,t){var _=new pp(t);return e.scm_ArrayBuilder$ofChar__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofChar__f_elems,0,_,0,e.scm_ArrayBuilder$ofChar__f_size),_}function tC(e,t){e.scm_ArrayBuilder$ofChar__f_elems=eC(e,t),e.scm_ArrayBuilder$ofChar__f_capacity=t}function _C(e,t){if(e.scm_ArrayBuilder$ofChar__f_capacity<t||0===e.scm_ArrayBuilder$ofChar__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofChar__f_capacity?16:e.scm_ArrayBuilder$ofChar__f_capacity<<1;_<t;)_<<=1;tC(e,_)}}function rC(){this.scm_ArrayBuilder$ofChar__f_elems=null,this.scm_ArrayBuilder$ofChar__f_capacity=0,this.scm_ArrayBuilder$ofChar__f_size=0,this.scm_ArrayBuilder$ofChar__f_capacity=0,this.scm_ArrayBuilder$ofChar__f_size=0}function aC(e){return e instanceof rC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofChar")}YO.prototype.$classData=KO,rC.prototype=new Ww,rC.prototype.constructor=rC,rC.prototype,rC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofChar__f_capacity<e&&tC(this,e)},rC.prototype.$plus$eq__C__scm_ArrayBuilder$ofChar=function(e){return _C(this,1+this.scm_ArrayBuilder$ofChar__f_size|0),this.scm_ArrayBuilder$ofChar__f_elems.set(this.scm_ArrayBuilder$ofChar__f_size,e),this.scm_ArrayBuilder$ofChar__f_size=1+this.scm_ArrayBuilder$ofChar__f_size|0,this},rC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofChar=function(e){if(e instanceof WB){var t=UB(e);return _C(this,this.scm_ArrayBuilder$ofChar__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofChar__f_array,0,this.scm_ArrayBuilder$ofChar__f_elems,this.scm_ArrayBuilder$ofChar__f_size,t.length__I()),this.scm_ArrayBuilder$ofChar__f_size=this.scm_ArrayBuilder$ofChar__f_size+t.length__I()|0,this}return aC(gg(this,e))},rC.prototype.result__AC=function(){return 0!==this.scm_ArrayBuilder$ofChar__f_capacity&&this.scm_ArrayBuilder$ofChar__f_capacity===this.scm_ArrayBuilder$ofChar__f_size?(this.scm_ArrayBuilder$ofChar__f_capacity=0,this.scm_ArrayBuilder$ofChar__f_elems):eC(this,this.scm_ArrayBuilder$ofChar__f_size)},rC.prototype.equals__O__Z=function(e){if(e instanceof rC){var t=aC(e);return this.scm_ArrayBuilder$ofChar__f_size===t.scm_ArrayBuilder$ofChar__f_size&&this.scm_ArrayBuilder$ofChar__f_elems===t.scm_ArrayBuilder$ofChar__f_elems}return!1},rC.prototype.toString__T=function(){return"ArrayBuilder.ofChar"},rC.prototype.result__O=function(){return this.result__AC()},rC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofChar(e)},rC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__C__scm_ArrayBuilder$ofChar(Kl(e))},rC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__C__scm_ArrayBuilder$ofChar(Kl(e))};var nC=(new gp).initClass({scm_ArrayBuilder$ofChar:0},!1,"scala.collection.mutable.ArrayBuilder$ofChar",{scm_ArrayBuilder$ofChar:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function iC(e,t){var _=new yp(t);return e.scm_ArrayBuilder$ofDouble__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofDouble__f_elems,0,_,0,e.scm_ArrayBuilder$ofDouble__f_size),_}function sC(e,t){e.scm_ArrayBuilder$ofDouble__f_elems=iC(e,t),e.scm_ArrayBuilder$ofDouble__f_capacity=t}function oC(e,t){if(e.scm_ArrayBuilder$ofDouble__f_capacity<t||0===e.scm_ArrayBuilder$ofDouble__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofDouble__f_capacity?16:e.scm_ArrayBuilder$ofDouble__f_capacity<<1;_<t;)_<<=1;sC(e,_)}}function cC(){this.scm_ArrayBuilder$ofDouble__f_elems=null,this.scm_ArrayBuilder$ofDouble__f_capacity=0,this.scm_ArrayBuilder$ofDouble__f_size=0,this.scm_ArrayBuilder$ofDouble__f_capacity=0,this.scm_ArrayBuilder$ofDouble__f_size=0}function lC(e){return e instanceof cC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofDouble")}rC.prototype.$classData=nC,cC.prototype=new Ww,cC.prototype.constructor=cC,cC.prototype,cC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofDouble__f_capacity<e&&sC(this,e)},cC.prototype.$plus$eq__D__scm_ArrayBuilder$ofDouble=function(e){return oC(this,1+this.scm_ArrayBuilder$ofDouble__f_size|0),this.scm_ArrayBuilder$ofDouble__f_elems.set(this.scm_ArrayBuilder$ofDouble__f_size,e),this.scm_ArrayBuilder$ofDouble__f_size=1+this.scm_ArrayBuilder$ofDouble__f_size|0,this},cC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofDouble=function(e){if(e instanceof XB){var t=JB(e);return oC(this,this.scm_ArrayBuilder$ofDouble__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofDouble__f_array,0,this.scm_ArrayBuilder$ofDouble__f_elems,this.scm_ArrayBuilder$ofDouble__f_size,t.length__I()),this.scm_ArrayBuilder$ofDouble__f_size=this.scm_ArrayBuilder$ofDouble__f_size+t.length__I()|0,this}return lC(gg(this,e))},cC.prototype.result__AD=function(){return 0!==this.scm_ArrayBuilder$ofDouble__f_capacity&&this.scm_ArrayBuilder$ofDouble__f_capacity===this.scm_ArrayBuilder$ofDouble__f_size?(this.scm_ArrayBuilder$ofDouble__f_capacity=0,this.scm_ArrayBuilder$ofDouble__f_elems):iC(this,this.scm_ArrayBuilder$ofDouble__f_size)},cC.prototype.equals__O__Z=function(e){if(e instanceof cC){var t=lC(e);return this.scm_ArrayBuilder$ofDouble__f_size===t.scm_ArrayBuilder$ofDouble__f_size&&this.scm_ArrayBuilder$ofDouble__f_elems===t.scm_ArrayBuilder$ofDouble__f_elems}return!1},cC.prototype.toString__T=function(){return"ArrayBuilder.ofDouble"},cC.prototype.result__O=function(){return this.result__AD()},cC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofDouble(e)},cC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__D__scm_ArrayBuilder$ofDouble(np(e))},cC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__D__scm_ArrayBuilder$ofDouble(np(e))};var pC=(new gp).initClass({scm_ArrayBuilder$ofDouble:0},!1,"scala.collection.mutable.ArrayBuilder$ofDouble",{scm_ArrayBuilder$ofDouble:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function uC(e,t){var _=new mp(t);return e.scm_ArrayBuilder$ofFloat__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofFloat__f_elems,0,_,0,e.scm_ArrayBuilder$ofFloat__f_size),_}function fC(e,t){e.scm_ArrayBuilder$ofFloat__f_elems=uC(e,t),e.scm_ArrayBuilder$ofFloat__f_capacity=t}function hC(e,t){if(e.scm_ArrayBuilder$ofFloat__f_capacity<t||0===e.scm_ArrayBuilder$ofFloat__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofFloat__f_capacity?16:e.scm_ArrayBuilder$ofFloat__f_capacity<<1;_<t;)_<<=1;fC(e,_)}}function dC(){this.scm_ArrayBuilder$ofFloat__f_elems=null,this.scm_ArrayBuilder$ofFloat__f_capacity=0,this.scm_ArrayBuilder$ofFloat__f_size=0,this.scm_ArrayBuilder$ofFloat__f_capacity=0,this.scm_ArrayBuilder$ofFloat__f_size=0}function mC(e){return e instanceof dC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofFloat")}cC.prototype.$classData=pC,dC.prototype=new Ww,dC.prototype.constructor=dC,dC.prototype,dC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofFloat__f_capacity<e&&fC(this,e)},dC.prototype.$plus$eq__F__scm_ArrayBuilder$ofFloat=function(e){return hC(this,1+this.scm_ArrayBuilder$ofFloat__f_size|0),this.scm_ArrayBuilder$ofFloat__f_elems.set(this.scm_ArrayBuilder$ofFloat__f_size,e),this.scm_ArrayBuilder$ofFloat__f_size=1+this.scm_ArrayBuilder$ofFloat__f_size|0,this},dC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofFloat=function(e){if(e instanceof QB){var t=KB(e);return hC(this,this.scm_ArrayBuilder$ofFloat__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofFloat__f_array,0,this.scm_ArrayBuilder$ofFloat__f_elems,this.scm_ArrayBuilder$ofFloat__f_size,t.length__I()),this.scm_ArrayBuilder$ofFloat__f_size=this.scm_ArrayBuilder$ofFloat__f_size+t.length__I()|0,this}return mC(gg(this,e))},dC.prototype.result__AF=function(){return 0!==this.scm_ArrayBuilder$ofFloat__f_capacity&&this.scm_ArrayBuilder$ofFloat__f_capacity===this.scm_ArrayBuilder$ofFloat__f_size?(this.scm_ArrayBuilder$ofFloat__f_capacity=0,this.scm_ArrayBuilder$ofFloat__f_elems):uC(this,this.scm_ArrayBuilder$ofFloat__f_size)},dC.prototype.equals__O__Z=function(e){if(e instanceof dC){var t=mC(e);return this.scm_ArrayBuilder$ofFloat__f_size===t.scm_ArrayBuilder$ofFloat__f_size&&this.scm_ArrayBuilder$ofFloat__f_elems===t.scm_ArrayBuilder$ofFloat__f_elems}return!1},dC.prototype.toString__T=function(){return"ArrayBuilder.ofFloat"},dC.prototype.result__O=function(){return this.result__AF()},dC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofFloat(e)},dC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__F__scm_ArrayBuilder$ofFloat(ap(e))},dC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__F__scm_ArrayBuilder$ofFloat(ap(e))};var yC=(new gp).initClass({scm_ArrayBuilder$ofFloat:0},!1,"scala.collection.mutable.ArrayBuilder$ofFloat",{scm_ArrayBuilder$ofFloat:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function gC(e,t){var _=new hp(t);return e.scm_ArrayBuilder$ofInt__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofInt__f_elems,0,_,0,e.scm_ArrayBuilder$ofInt__f_size),_}function vC(e,t){e.scm_ArrayBuilder$ofInt__f_elems=gC(e,t),e.scm_ArrayBuilder$ofInt__f_capacity=t}function $C(e,t){if(e.scm_ArrayBuilder$ofInt__f_capacity<t||0===e.scm_ArrayBuilder$ofInt__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofInt__f_capacity?16:e.scm_ArrayBuilder$ofInt__f_capacity<<1;_<t;)_<<=1;vC(e,_)}}function xC(){this.scm_ArrayBuilder$ofInt__f_elems=null,this.scm_ArrayBuilder$ofInt__f_capacity=0,this.scm_ArrayBuilder$ofInt__f_size=0,this.scm_ArrayBuilder$ofInt__f_capacity=0,this.scm_ArrayBuilder$ofInt__f_size=0}function bC(e){return e instanceof xC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofInt")}dC.prototype.$classData=yC,xC.prototype=new Ww,xC.prototype.constructor=xC,xC.prototype,xC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofInt__f_capacity<e&&vC(this,e)},xC.prototype.$plus$eq__I__scm_ArrayBuilder$ofInt=function(e){return $C(this,1+this.scm_ArrayBuilder$ofInt__f_size|0),this.scm_ArrayBuilder$ofInt__f_elems.set(this.scm_ArrayBuilder$ofInt__f_size,e),this.scm_ArrayBuilder$ofInt__f_size=1+this.scm_ArrayBuilder$ofInt__f_size|0,this},xC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofInt=function(e){if(e instanceof tV){var t=_V(e);return $C(this,this.scm_ArrayBuilder$ofInt__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofInt__f_array,0,this.scm_ArrayBuilder$ofInt__f_elems,this.scm_ArrayBuilder$ofInt__f_size,t.length__I()),this.scm_ArrayBuilder$ofInt__f_size=this.scm_ArrayBuilder$ofInt__f_size+t.length__I()|0,this}return bC(gg(this,e))},xC.prototype.result__AI=function(){return 0!==this.scm_ArrayBuilder$ofInt__f_capacity&&this.scm_ArrayBuilder$ofInt__f_capacity===this.scm_ArrayBuilder$ofInt__f_size?(this.scm_ArrayBuilder$ofInt__f_capacity=0,this.scm_ArrayBuilder$ofInt__f_elems):gC(this,this.scm_ArrayBuilder$ofInt__f_size)},xC.prototype.equals__O__Z=function(e){if(e instanceof xC){var t=bC(e);return this.scm_ArrayBuilder$ofInt__f_size===t.scm_ArrayBuilder$ofInt__f_size&&this.scm_ArrayBuilder$ofInt__f_elems===t.scm_ArrayBuilder$ofInt__f_elems}return!1},xC.prototype.toString__T=function(){return"ArrayBuilder.ofInt"},xC.prototype.result__O=function(){return this.result__AI()},xC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofInt(e)},xC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__I__scm_ArrayBuilder$ofInt(_p(e))},xC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__I__scm_ArrayBuilder$ofInt(_p(e))};var IC=(new gp).initClass({scm_ArrayBuilder$ofInt:0},!1,"scala.collection.mutable.ArrayBuilder$ofInt",{scm_ArrayBuilder$ofInt:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function LC(e,t){var _=new dp(t);return e.scm_ArrayBuilder$ofLong__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofLong__f_elems,0,_,0,e.scm_ArrayBuilder$ofLong__f_size),_}function SC(e,t){e.scm_ArrayBuilder$ofLong__f_elems=LC(e,t),e.scm_ArrayBuilder$ofLong__f_capacity=t}function MC(e,t){if(e.scm_ArrayBuilder$ofLong__f_capacity<t||0===e.scm_ArrayBuilder$ofLong__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofLong__f_capacity?16:e.scm_ArrayBuilder$ofLong__f_capacity<<1;_<t;)_<<=1;SC(e,_)}}function wC(){this.scm_ArrayBuilder$ofLong__f_elems=null,this.scm_ArrayBuilder$ofLong__f_capacity=0,this.scm_ArrayBuilder$ofLong__f_size=0,this.scm_ArrayBuilder$ofLong__f_capacity=0,this.scm_ArrayBuilder$ofLong__f_size=0}function OC(e){return e instanceof wC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofLong")}xC.prototype.$classData=IC,wC.prototype=new Ww,wC.prototype.constructor=wC,wC.prototype,wC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofLong__f_capacity<e&&SC(this,e)},wC.prototype.$plus$eq__J__scm_ArrayBuilder$ofLong=function(e){return MC(this,1+this.scm_ArrayBuilder$ofLong__f_size|0),this.scm_ArrayBuilder$ofLong__f_elems.set(this.scm_ArrayBuilder$ofLong__f_size,e),this.scm_ArrayBuilder$ofLong__f_size=1+this.scm_ArrayBuilder$ofLong__f_size|0,this},wC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofLong=function(e){if(e instanceof aV){var t=nV(e);return MC(this,this.scm_ArrayBuilder$ofLong__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofLong__f_array,0,this.scm_ArrayBuilder$ofLong__f_elems,this.scm_ArrayBuilder$ofLong__f_size,t.length__I()),this.scm_ArrayBuilder$ofLong__f_size=this.scm_ArrayBuilder$ofLong__f_size+t.length__I()|0,this}return OC(gg(this,e))},wC.prototype.result__AJ=function(){return 0!==this.scm_ArrayBuilder$ofLong__f_capacity&&this.scm_ArrayBuilder$ofLong__f_capacity===this.scm_ArrayBuilder$ofLong__f_size?(this.scm_ArrayBuilder$ofLong__f_capacity=0,this.scm_ArrayBuilder$ofLong__f_elems):LC(this,this.scm_ArrayBuilder$ofLong__f_size)},wC.prototype.equals__O__Z=function(e){if(e instanceof wC){var t=OC(e);return this.scm_ArrayBuilder$ofLong__f_size===t.scm_ArrayBuilder$ofLong__f_size&&this.scm_ArrayBuilder$ofLong__f_elems===t.scm_ArrayBuilder$ofLong__f_elems}return!1},wC.prototype.toString__T=function(){return"ArrayBuilder.ofLong"},wC.prototype.result__O=function(){return this.result__AJ()},wC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofLong(e)},wC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__J__scm_ArrayBuilder$ofLong(rp(e))},wC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__J__scm_ArrayBuilder$ofLong(rp(e))};var CC=(new gp).initClass({scm_ArrayBuilder$ofLong:0},!1,"scala.collection.mutable.ArrayBuilder$ofLong",{scm_ArrayBuilder$ofLong:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function TC(e,t){var _=vp(e.scm_ArrayBuilder$ofRef__f_evidence$2.newArray__I__O(t),1);return e.scm_ArrayBuilder$ofRef__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofRef__f_elems,0,_,0,e.scm_ArrayBuilder$ofRef__f_size),_}function AC(e,t){e.scm_ArrayBuilder$ofRef__f_elems=TC(e,t),e.scm_ArrayBuilder$ofRef__f_capacity=t}function RC(e,t){if(e.scm_ArrayBuilder$ofRef__f_capacity<t||0===e.scm_ArrayBuilder$ofRef__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofRef__f_capacity?16:e.scm_ArrayBuilder$ofRef__f_capacity<<1;_<t;)_<<=1;AC(e,_)}}function DC(e){this.scm_ArrayBuilder$ofRef__f_evidence$2=null,this.scm_ArrayBuilder$ofRef__f_elems=null,this.scm_ArrayBuilder$ofRef__f_capacity=0,this.scm_ArrayBuilder$ofRef__f_size=0,this.scm_ArrayBuilder$ofRef__f_evidence$2=e,this.scm_ArrayBuilder$ofRef__f_capacity=0,this.scm_ArrayBuilder$ofRef__f_size=0}function EC(e){return e instanceof DC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofRef")}wC.prototype.$classData=CC,DC.prototype=new Ww,DC.prototype.constructor=DC,DC.prototype,DC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofRef__f_capacity<e&&AC(this,e)},DC.prototype.$plus$eq__O__scm_ArrayBuilder$ofRef=function(e){return RC(this,1+this.scm_ArrayBuilder$ofRef__f_size|0),this.scm_ArrayBuilder$ofRef__f_elems.set(this.scm_ArrayBuilder$ofRef__f_size,e),this.scm_ArrayBuilder$ofRef__f_size=1+this.scm_ArrayBuilder$ofRef__f_size|0,this},DC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofRef=function(e){if(e instanceof sV){var t=(_=e)instanceof sV||null===_?_:Sl(_,"scala.collection.mutable.WrappedArray$ofRef");return RC(this,this.scm_ArrayBuilder$ofRef__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofRef__f_array,0,this.scm_ArrayBuilder$ofRef__f_elems,this.scm_ArrayBuilder$ofRef__f_size,t.length__I()),this.scm_ArrayBuilder$ofRef__f_size=this.scm_ArrayBuilder$ofRef__f_size+t.length__I()|0,this}return EC(gg(this,e));var _},DC.prototype.result__AO=function(){return 0!==this.scm_ArrayBuilder$ofRef__f_capacity&&this.scm_ArrayBuilder$ofRef__f_capacity===this.scm_ArrayBuilder$ofRef__f_size?(this.scm_ArrayBuilder$ofRef__f_capacity=0,this.scm_ArrayBuilder$ofRef__f_elems):TC(this,this.scm_ArrayBuilder$ofRef__f_size)},DC.prototype.equals__O__Z=function(e){if(e instanceof DC){var t=EC(e);return this.scm_ArrayBuilder$ofRef__f_size===t.scm_ArrayBuilder$ofRef__f_size&&this.scm_ArrayBuilder$ofRef__f_elems===t.scm_ArrayBuilder$ofRef__f_elems}return!1},DC.prototype.toString__T=function(){return"ArrayBuilder.ofRef"},DC.prototype.result__O=function(){return this.result__AO()},DC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofRef(e)},DC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_ArrayBuilder$ofRef(e)},DC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_ArrayBuilder$ofRef(e)};var BC=(new gp).initClass({scm_ArrayBuilder$ofRef:0},!1,"scala.collection.mutable.ArrayBuilder$ofRef",{scm_ArrayBuilder$ofRef:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function VC(e,t){var _=new fp(t);return e.scm_ArrayBuilder$ofShort__f_size>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuilder$ofShort__f_elems,0,_,0,e.scm_ArrayBuilder$ofShort__f_size),_}function qC(e,t){e.scm_ArrayBuilder$ofShort__f_elems=VC(e,t),e.scm_ArrayBuilder$ofShort__f_capacity=t}function HC(e,t){if(e.scm_ArrayBuilder$ofShort__f_capacity<t||0===e.scm_ArrayBuilder$ofShort__f_capacity){for(var _=0===e.scm_ArrayBuilder$ofShort__f_capacity?16:e.scm_ArrayBuilder$ofShort__f_capacity<<1;_<t;)_<<=1;qC(e,_)}}function PC(){this.scm_ArrayBuilder$ofShort__f_elems=null,this.scm_ArrayBuilder$ofShort__f_capacity=0,this.scm_ArrayBuilder$ofShort__f_size=0,this.scm_ArrayBuilder$ofShort__f_capacity=0,this.scm_ArrayBuilder$ofShort__f_size=0}function jC(e){return e instanceof PC||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuilder$ofShort")}DC.prototype.$classData=BC,PC.prototype=new Ww,PC.prototype.constructor=PC,PC.prototype,PC.prototype.sizeHint__I__V=function(e){this.scm_ArrayBuilder$ofShort__f_capacity<e&&qC(this,e)},PC.prototype.$plus$eq__S__scm_ArrayBuilder$ofShort=function(e){return HC(this,1+this.scm_ArrayBuilder$ofShort__f_size|0),this.scm_ArrayBuilder$ofShort__f_elems.set(this.scm_ArrayBuilder$ofShort__f_size,e),this.scm_ArrayBuilder$ofShort__f_size=1+this.scm_ArrayBuilder$ofShort__f_size|0,this},PC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofShort=function(e){if(e instanceof cV){var t=lV(e);return HC(this,this.scm_ArrayBuilder$ofShort__f_size+t.length__I()|0),Ux().copy__O__I__O__I__I__V(t.scm_WrappedArray$ofShort__f_array,0,this.scm_ArrayBuilder$ofShort__f_elems,this.scm_ArrayBuilder$ofShort__f_size,t.length__I()),this.scm_ArrayBuilder$ofShort__f_size=this.scm_ArrayBuilder$ofShort__f_size+t.length__I()|0,this}return jC(gg(this,e))},PC.prototype.result__AS=function(){return 0!==this.scm_ArrayBuilder$ofShort__f_capacity&&this.scm_ArrayBuilder$ofShort__f_capacity===this.scm_ArrayBuilder$ofShort__f_size?(this.scm_ArrayBuilder$ofShort__f_capacity=0,this.scm_ArrayBuilder$ofShort__f_elems):VC(this,this.scm_ArrayBuilder$ofShort__f_size)},PC.prototype.equals__O__Z=function(e){if(e instanceof PC){var t=jC(e);return this.scm_ArrayBuilder$ofShort__f_size===t.scm_ArrayBuilder$ofShort__f_size&&this.scm_ArrayBuilder$ofShort__f_elems===t.scm_ArrayBuilder$ofShort__f_elems}return!1},PC.prototype.toString__T=function(){return"ArrayBuilder.ofShort"},PC.prototype.result__O=function(){return this.result__AS()},PC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofShort(e)},PC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__S__scm_ArrayBuilder$ofShort(tp(e))},PC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__S__scm_ArrayBuilder$ofShort(tp(e))};var FC=(new gp).initClass({scm_ArrayBuilder$ofShort:0},!1,"scala.collection.mutable.ArrayBuilder$ofShort",{scm_ArrayBuilder$ofShort:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function zC(){this.scm_ArrayBuilder$ofUnit__f_size=0,this.scm_ArrayBuilder$ofUnit__f_size=0}PC.prototype.$classData=FC,zC.prototype=new Ww,zC.prototype.constructor=zC,zC.prototype,zC.prototype.$plus$eq__jl_Void__scm_ArrayBuilder$ofUnit=function(e){return this.scm_ArrayBuilder$ofUnit__f_size=1+this.scm_ArrayBuilder$ofUnit__f_size|0,this},zC.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofUnit=function(e){return this.scm_ArrayBuilder$ofUnit__f_size=this.scm_ArrayBuilder$ofUnit__f_size+e.size__I()|0,this},zC.prototype.result__Ajl_Void=function(){for(var e=new(Vf.getArrayOf().constr)(this.scm_ArrayBuilder$ofUnit__f_size),t=0;t<this.scm_ArrayBuilder$ofUnit__f_size;)e.set(t,void 0),t=1+t|0;return e},zC.prototype.equals__O__Z=function(e){if(e instanceof zC){var t=(_=e)instanceof zC||null===_?_:Sl(_,"scala.collection.mutable.ArrayBuilder$ofUnit");return this.scm_ArrayBuilder$ofUnit__f_size===t.scm_ArrayBuilder$ofUnit__f_size}return!1;var _},zC.prototype.toString__T=function(){return"ArrayBuilder.ofUnit"},zC.prototype.result__O=function(){return this.result__Ajl_Void()},zC.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuilder$ofUnit(e)},zC.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__jl_Void__scm_ArrayBuilder$ofUnit(Df(e))},zC.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__jl_Void__scm_ArrayBuilder$ofUnit(Df(e))};var kC=(new gp).initClass({scm_ArrayBuilder$ofUnit:0},!1,"scala.collection.mutable.ArrayBuilder$ofUnit",{scm_ArrayBuilder$ofUnit:1,scm_ArrayBuilder:1,O:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function GC(){}zC.prototype.$classData=kC,GC.prototype=new sp,GC.prototype.constructor=GC,GC.prototype;var NC,WC=(new gp).initClass({s_math_Ordering$Int$:0},!1,"scala.math.Ordering$Int$",{s_math_Ordering$Int$:1,O:1,s_math_Ordering$IntOrdering:1,s_math_Ordering:1,ju_Comparator:1,s_math_PartialOrdering:1,s_math_Equiv:1,s_Serializable:1,Ljava_io_Serializable:1});function UC(){this.s_reflect_AnyValManifest__f_toString=null}function ZC(){}function XC(){}function JC(){}function YC(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this),QC=this,new Cg}GC.prototype.$classData=WC,UC.prototype=new sp,UC.prototype.constructor=UC,ZC.prototype=UC.prototype,UC.prototype.toString__T=function(){return this.s_reflect_AnyValManifest__f_toString},UC.prototype.equals__O__Z=function(e){return this===e},UC.prototype.hashCode__I=function(){return Wl(this)},XC.prototype=new sp,XC.prototype.constructor=XC,JC.prototype=XC.prototype,YC.prototype=new oM,YC.prototype.constructor=YC,YC.prototype,YC.prototype.newBuilder__scm_Builder=function(){return new dV},YC.prototype.empty__sc_GenTraversable=function(){return CB()};var QC,KC=(new gp).initClass({sci_List$:0},!1,"scala.collection.immutable.List$",{sci_List$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function eT(){return QC||(QC=new YC),QC}function tT(e){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map2$Map2Iterator__f_$outer=null,function(e,t){if(null===t)throw null;e.sci_Map$Map2$Map2Iterator__f_$outer=t,Bw(e)}(this,e)}YC.prototype.$classData=KC,tT.prototype=new CO,tT.prototype.constructor=tT,tT.prototype,tT.prototype.apply__I__T2=function(e){return US(new ZS,this.sci_Map$Map2$Map2Iterator__f_$outer.scala$collection$immutable$Map$Map2$$_getKey__I__O(e),this.sci_Map$Map2$Map2Iterator__f_$outer.scala$collection$immutable$Map$Map2$$_getValue__I__O(e))};var _T=(new gp).initClass({sci_Map$Map2$$anon$1:0},!1,"scala.collection.immutable.Map$Map2$$anon$1",{sci_Map$Map2$$anon$1:1,sci_Map$Map2$Map2Iterator:1,sci_Map$MapNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function rT(e){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map3$Map3Iterator__f_$outer=null,function(e,t){if(null===t)throw null;e.sci_Map$Map3$Map3Iterator__f_$outer=t,Bw(e)}(this,e)}tT.prototype.$classData=_T,rT.prototype=new AO,rT.prototype.constructor=rT,rT.prototype,rT.prototype.apply__I__T2=function(e){return US(new ZS,this.sci_Map$Map3$Map3Iterator__f_$outer.scala$collection$immutable$Map$Map3$$_getKey__I__O(e),this.sci_Map$Map3$Map3Iterator__f_$outer.scala$collection$immutable$Map$Map3$$_getValue__I__O(e))};var aT=(new gp).initClass({sci_Map$Map3$$anon$4:0},!1,"scala.collection.immutable.Map$Map3$$anon$4",{sci_Map$Map3$$anon$4:1,sci_Map$Map3$Map3Iterator:1,sci_Map$MapNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function nT(e){this.sci_Map$MapNIterator__f_current=0,this.sci_Map$Map4$Map4Iterator__f_$outer=null,function(e,t){if(null===t)throw null;e.sci_Map$Map4$Map4Iterator__f_$outer=t,Bw(e)}(this,e)}rT.prototype.$classData=aT,nT.prototype=new DO,nT.prototype.constructor=nT,nT.prototype,nT.prototype.apply__I__T2=function(e){return US(new ZS,this.sci_Map$Map4$Map4Iterator__f_$outer.scala$collection$immutable$Map$Map4$$_getKey__I__O(e),this.sci_Map$Map4$Map4Iterator__f_$outer.scala$collection$immutable$Map$Map4$$_getValue__I__O(e))};var iT=(new gp).initClass({sci_Map$Map4$$anon$7:0},!1,"scala.collection.immutable.Map$Map4$$anon$7",{sci_Map$Map4$$anon$7:1,sci_Map$Map4$Map4Iterator:1,sci_Map$MapNIterator:1,sc_AbstractIterator:1,O:1,sc_Iterator:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,s_Serializable:1,Ljava_io_Serializable:1});function sT(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,this.sci_Stream$__f_ReusableCBF=null,pg(this),oT=this,this.sci_Stream$__f_ReusableCBF=new M$}nT.prototype.$classData=iT,sT.prototype=new oM,sT.prototype.constructor=sT,sT.prototype,sT.prototype.newBuilder__scm_Builder=function(){return new xM},sT.prototype.empty__sc_GenTraversable=function(){return NE()};var oT,cT=(new gp).initClass({sci_Stream$:0},!1,"scala.collection.immutable.Stream$",{sci_Stream$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function lT(){return oT||(oT=new sT),oT}function pT(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}sT.prototype.$classData=cT,pT.prototype=new oM,pT.prototype.constructor=pT,pT.prototype,pT.prototype.newBuilder__scm_Builder=function(){return SV(new MV)};var uT,fT=(new gp).initClass({scm_ArrayBuffer$:0},!1,"scala.collection.mutable.ArrayBuffer$",{scm_ArrayBuffer$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function hT(){return uT||(uT=new pT),uT}function dT(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,pg(this)}pT.prototype.$classData=fT,dT.prototype=new oM,dT.prototype.constructor=dT,dT.prototype,dT.prototype.newBuilder__scm_Builder=function(){return new pb(new dV)};var mT,yT=(new gp).initClass({scm_ListBuffer$:0},!1,"scala.collection.mutable.ListBuffer$",{scm_ListBuffer$:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function gT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Boolean"}dT.prototype.$classData=yT,gT.prototype=new ZC,gT.prototype.constructor=gT,gT.prototype,gT.prototype.runtimeClass__jl_Class=function(){return Tp.getClassOf()},gT.prototype.newArray__I__O=function(e){return new lp(e)};var vT,$T=(new gp).initClass({s_reflect_ManifestFactory$BooleanManifest$:0},!1,"scala.reflect.ManifestFactory$BooleanManifest$",{s_reflect_ManifestFactory$BooleanManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function xT(){return vT||(vT=new gT),vT}function bT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Byte"}gT.prototype.$classData=$T,bT.prototype=new ZC,bT.prototype.constructor=bT,bT.prototype,bT.prototype.runtimeClass__jl_Class=function(){return Rp.getClassOf()},bT.prototype.newArray__I__O=function(e){return new up(e)};var IT,LT=(new gp).initClass({s_reflect_ManifestFactory$ByteManifest$:0},!1,"scala.reflect.ManifestFactory$ByteManifest$",{s_reflect_ManifestFactory$ByteManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function ST(){return IT||(IT=new bT),IT}function MT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Char"}bT.prototype.$classData=LT,MT.prototype=new ZC,MT.prototype.constructor=MT,MT.prototype,MT.prototype.runtimeClass__jl_Class=function(){return Ap.getClassOf()},MT.prototype.newArray__I__O=function(e){return new pp(e)};var wT,OT=(new gp).initClass({s_reflect_ManifestFactory$CharManifest$:0},!1,"scala.reflect.ManifestFactory$CharManifest$",{s_reflect_ManifestFactory$CharManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function CT(){return wT||(wT=new MT),wT}function TT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Double"}MT.prototype.$classData=OT,TT.prototype=new ZC,TT.prototype.constructor=TT,TT.prototype,TT.prototype.runtimeClass__jl_Class=function(){return qp.getClassOf()},TT.prototype.newArray__I__O=function(e){return new yp(e)};var AT,RT=(new gp).initClass({s_reflect_ManifestFactory$DoubleManifest$:0},!1,"scala.reflect.ManifestFactory$DoubleManifest$",{s_reflect_ManifestFactory$DoubleManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function DT(){return AT||(AT=new TT),AT}function ET(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Float"}TT.prototype.$classData=RT,ET.prototype=new ZC,ET.prototype.constructor=ET,ET.prototype,ET.prototype.runtimeClass__jl_Class=function(){return Vp.getClassOf()},ET.prototype.newArray__I__O=function(e){return new mp(e)};var BT,VT=(new gp).initClass({s_reflect_ManifestFactory$FloatManifest$:0},!1,"scala.reflect.ManifestFactory$FloatManifest$",{s_reflect_ManifestFactory$FloatManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function qT(){return BT||(BT=new ET),BT}function HT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Int"}ET.prototype.$classData=VT,HT.prototype=new ZC,HT.prototype.constructor=HT,HT.prototype,HT.prototype.runtimeClass__jl_Class=function(){return Ep.getClassOf()},HT.prototype.newArray__I__O=function(e){return new hp(e)};var PT,jT=(new gp).initClass({s_reflect_ManifestFactory$IntManifest$:0},!1,"scala.reflect.ManifestFactory$IntManifest$",{s_reflect_ManifestFactory$IntManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function FT(){return PT||(PT=new HT),PT}function zT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Long"}HT.prototype.$classData=jT,zT.prototype=new ZC,zT.prototype.constructor=zT,zT.prototype,zT.prototype.runtimeClass__jl_Class=function(){return Bp.getClassOf()},zT.prototype.newArray__I__O=function(e){return new dp(e)};var kT,GT=(new gp).initClass({s_reflect_ManifestFactory$LongManifest$:0},!1,"scala.reflect.ManifestFactory$LongManifest$",{s_reflect_ManifestFactory$LongManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function NT(){return kT||(kT=new zT),kT}function WT(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null}function UT(){}function ZT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Short"}zT.prototype.$classData=GT,WT.prototype=new JC,WT.prototype.constructor=WT,UT.prototype=WT.prototype,WT.prototype.toString__T=function(){return this.s_reflect_ManifestFactory$PhantomManifest__f_toString},WT.prototype.equals__O__Z=function(e){return this===e},WT.prototype.hashCode__I=function(){return Wl(this)},ZT.prototype=new ZC,ZT.prototype.constructor=ZT,ZT.prototype,ZT.prototype.runtimeClass__jl_Class=function(){return Dp.getClassOf()},ZT.prototype.newArray__I__O=function(e){return new fp(e)};var XT,JT=(new gp).initClass({s_reflect_ManifestFactory$ShortManifest$:0},!1,"scala.reflect.ManifestFactory$ShortManifest$",{s_reflect_ManifestFactory$ShortManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function YT(){return XT||(XT=new ZT),XT}function QT(){this.s_reflect_AnyValManifest__f_toString=null,this.s_reflect_AnyValManifest__f_toString="Unit"}ZT.prototype.$classData=JT,QT.prototype=new ZC,QT.prototype.constructor=QT,QT.prototype,QT.prototype.runtimeClass__jl_Class=function(){return Cp.getClassOf()},QT.prototype.newArray__I__O=function(e){return new(Vf.getArrayOf().constr)(e)};var KT,eA=(new gp).initClass({s_reflect_ManifestFactory$UnitManifest$:0},!1,"scala.reflect.ManifestFactory$UnitManifest$",{s_reflect_ManifestFactory$UnitManifest$:1,s_reflect_AnyValManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function tA(){return KT||(KT=new QT),KT}function _A(e,t){var _=e.newBuilder__scm_Builder();if(t<=0)return _.result__O();_.sizeHintBounded__I__sc_TraversableLike__V(t,e);for(var r=0,a=e.iterator__sc_Iterator();r<t&&a.hasNext__Z();)_.$plus$eq__O__scm_Builder(a.next__O()),r=1+r|0;return _.result__O()}function rA(e,t){var _=e.newBuilder__scm_Builder();C$(_,e,0|-(t<0?0:t));for(var r=0,a=e.iterator__sc_Iterator();r<t&&a.hasNext__Z();)a.next__O(),r=1+r|0;return A$(_.$plus$plus$eq__sc_TraversableOnce__scg_Growable(a)).result__O()}function aA(e,t){if(e===t)return!0;if(t instanceof _B){var _=rB(t);if(e instanceof _B){var r=rB(e);if(r===_)return!0;var a=r.length__I()===_.length__I();if(a)for(var n=_.length__I(),i=0;i<n&&a;)a=Qd().equals__O__O__Z(r.apply__I__O(i),_.apply__I__O(i)),i=1+i|0;return a}}if(HA(t)){var s=PA(t);if(iw(e)){var o=iw(p=e)||null===p?p:Sl(p,"scala.collection.GenSetLike");return o.size__I()===s.size__I()&&o.subsetOf__sc_GenSet__Z(s)}}for(var c=e.iterator__sc_Iterator(),l=t.iterator__sc_Iterator();c.hasNext__Z()&&l.hasNext__Z();)if(!Qd().equals__O__O__Z(c.next__O(),l.next__O()))return!1;return!c.hasNext__Z()&&!l.hasNext__Z();var p}function nA(){this.scg_GenTraversableFactory__f_ReusableCBFInstance=null,this.sci_Vector$__f_NIL=null,this.sci_Vector$__f_scala$collection$immutable$Vector$$emptyIterator=null,pg(this),iA=this,this.sci_Vector$__f_NIL=new _B(0,0,0),this.sci_Vector$__f_scala$collection$immutable$Vector$$emptyIterator=new MM(0,0)}QT.prototype.$classData=eA,nA.prototype=new Mw,nA.prototype.constructor=nA,nA.prototype,nA.prototype.newBuilder__scm_Builder=function(){return new IM},nA.prototype.empty__sc_GenTraversable=function(){return this.sci_Vector$__f_NIL};var iA,sA=(new gp).initClass({sci_Vector$:0},!1,"scala.collection.immutable.Vector$",{sci_Vector$:1,scg_IndexedSeqFactory:1,scg_SeqFactory:1,scg_GenSeqFactory:1,scg_GenTraversableFactory:1,scg_GenericCompanion:1,O:1,scg_TraversableFactory:1,scg_GenericSeqCompanion:1,s_Serializable:1,Ljava_io_Serializable:1});function oA(){return iA||(iA=new nA),iA}function cA(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null,this.s_reflect_ManifestFactory$PhantomManifest__f_toString="Any"}nA.prototype.$classData=sA,cA.prototype=new UT,cA.prototype.constructor=cA,cA.prototype,cA.prototype.runtimeClass__jl_Class=function(){return Op.getClassOf()},cA.prototype.newArray__I__O=function(e){return new op(e)};var lA,pA=(new gp).initClass({s_reflect_ManifestFactory$AnyManifest$:0},!1,"scala.reflect.ManifestFactory$AnyManifest$",{s_reflect_ManifestFactory$AnyManifest$:1,s_reflect_ManifestFactory$PhantomManifest:1,s_reflect_ManifestFactory$ClassTypeManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function uA(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null,this.s_reflect_ManifestFactory$PhantomManifest__f_toString="AnyVal"}cA.prototype.$classData=pA,uA.prototype=new UT,uA.prototype.constructor=uA,uA.prototype,uA.prototype.runtimeClass__jl_Class=function(){return Op.getClassOf()},uA.prototype.newArray__I__O=function(e){return new op(e)};var fA,hA=(new gp).initClass({s_reflect_ManifestFactory$AnyValManifest$:0},!1,"scala.reflect.ManifestFactory$AnyValManifest$",{s_reflect_ManifestFactory$AnyValManifest$:1,s_reflect_ManifestFactory$PhantomManifest:1,s_reflect_ManifestFactory$ClassTypeManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function dA(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null,this.s_reflect_ManifestFactory$PhantomManifest__f_toString="Nothing"}uA.prototype.$classData=hA,dA.prototype=new UT,dA.prototype.constructor=dA,dA.prototype,dA.prototype.runtimeClass__jl_Class=function(){return j$.getClassOf()},dA.prototype.newArray__I__O=function(e){return new op(e)};var mA,yA=(new gp).initClass({s_reflect_ManifestFactory$NothingManifest$:0},!1,"scala.reflect.ManifestFactory$NothingManifest$",{s_reflect_ManifestFactory$NothingManifest$:1,s_reflect_ManifestFactory$PhantomManifest:1,s_reflect_ManifestFactory$ClassTypeManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function gA(){return mA||(mA=new dA),mA}function vA(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null,this.s_reflect_ManifestFactory$PhantomManifest__f_toString="Null"}dA.prototype.$classData=yA,vA.prototype=new UT,vA.prototype.constructor=vA,vA.prototype,vA.prototype.runtimeClass__jl_Class=function(){return Kd.getClassOf()},vA.prototype.newArray__I__O=function(e){return new op(e)};var $A,xA=(new gp).initClass({s_reflect_ManifestFactory$NullManifest$:0},!1,"scala.reflect.ManifestFactory$NullManifest$",{s_reflect_ManifestFactory$NullManifest$:1,s_reflect_ManifestFactory$PhantomManifest:1,s_reflect_ManifestFactory$ClassTypeManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function bA(){return $A||($A=new vA),$A}function IA(){this.s_reflect_ManifestFactory$PhantomManifest__f_toString=null,this.s_reflect_ManifestFactory$PhantomManifest__f_toString="Object"}vA.prototype.$classData=xA,IA.prototype=new UT,IA.prototype.constructor=IA,IA.prototype,IA.prototype.runtimeClass__jl_Class=function(){return Op.getClassOf()},IA.prototype.newArray__I__O=function(e){return new op(e)};var LA,SA=(new gp).initClass({s_reflect_ManifestFactory$ObjectManifest$:0},!1,"scala.reflect.ManifestFactory$ObjectManifest$",{s_reflect_ManifestFactory$ObjectManifest$:1,s_reflect_ManifestFactory$PhantomManifest:1,s_reflect_ManifestFactory$ClassTypeManifest:1,O:1,s_reflect_Manifest:1,s_reflect_ClassTag:1,s_reflect_ClassManifestDeprecatedApis:1,s_reflect_OptManifest:1,s_Serializable:1,Ljava_io_Serializable:1,s_Equals:1});function MA(){return LA||(LA=new IA),LA}function wA(){}function OA(){}function CA(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenMap)}function TA(e){return CA(e)||null===e?e:Sl(e,"scala.collection.GenMap")}function AA(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenSeq)}function RA(e){return AA(e)||null===e?e:Sl(e,"scala.collection.GenSeq")}function DA(e){return 0===e.lengthCompare__I__I(0)}function EA(e,t,_){var r=_.apply__O__scm_Builder(e.repr__O());return r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e.thisCollection__sc_Seq()),r.$plus$eq__O__scm_Builder(t),r.result__O()}function BA(){}IA.prototype.$classData=SA,wA.prototype=new sp,wA.prototype.constructor=wA,OA.prototype=wA.prototype,wA.prototype.newBuilder__scm_Builder=function(){return this.companion__scg_GenericCompanion().newBuilder__scm_Builder()},wA.prototype.flatten__F1__sc_GenTraversable=function(e){return yg(this,e)},wA.prototype.repr__O=function(){return this},wA.prototype.isTraversableAgain__Z=function(){return!0},wA.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return hw(this,e,t)},wA.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){return dw(this,e,t)},wA.prototype.flatMap__F1__scg_CanBuildFrom__O=function(e,t){return mw(this,e,t)},wA.prototype.tail__O=function(){return yw(this)},wA.prototype.init__O=function(){return gw(this)},wA.prototype.stringPrefix__T=function(){return xw(this)},wA.prototype.$div$colon__O__F2__O=function(e,t){return this.foldLeft__O__F2__O(e,t)},wA.prototype.foldLeft__O__F2__O=function(e,t){return eg(this,e,t)},wA.prototype.toList__sci_List=function(){return CE(vw(this,eT().scg_GenTraversableFactory__f_ReusableCBFInstance))},wA.prototype.toVector__sci_Vector=function(){return rB(vw(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},wA.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},wA.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},wA.prototype.sizeHintIfCheap__I=function(){return-1},BA.prototype=new sp,BA.prototype.constructor=BA,BA.prototype,BA.prototype.fromInt__I__O=function(e){return e},BA.prototype.plus__O__O__O=function(e,t){return function(e,t,_){return t+_}(0,np(e),np(t))};var VA,qA=(new gp).initClass({s_math_Numeric$DoubleIsFractional$:0},!1,"scala.math.Numeric$DoubleIsFractional$",{s_math_Numeric$DoubleIsFractional$:1,O:1,s_math_Numeric$DoubleIsFractional:1,s_math_Numeric$DoubleIsConflicted:1,s_math_Numeric:1,s_math_Ordering:1,ju_Comparator:1,s_math_PartialOrdering:1,s_math_Equiv:1,s_Serializable:1,Ljava_io_Serializable:1,s_math_Fractional:1,s_math_Ordering$DoubleOrdering:1});function HA(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_GenSet)}function PA(e){return HA(e)||null===e?e:Sl(e,"scala.collection.GenSet")}function jA(e){return 0===e.length__I()?Yh().sc_Iterator$__f_empty:new hO(e,0,e.length__I())}function FA(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_IndexedSeqLike)}function zA(e){return e.isEmpty__Z()?Yh().sc_Iterator$__f_empty:new kI(e)}function kA(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_LinearSeqLike)}(e)||null===e?e:Sl(e,"scala.collection.LinearSeqLike")}function GA(e){return 0===e.length__I()}function NA(e,t){for(var _=0,r=e.length__I();_<r;)t.apply__O__O(e.apply__I__O(_)),_=1+_|0}function WA(e,t,_,r,a){for(;;){if(t===_)return r;var n=1+t|0,i=a.apply__O__O__O(r,e.apply__I__O(t));t=n,r=i}}function UA(e,t,_){var r=t>0?t:0,a=_>0?_:0,n=e.length__I(),i=a<n?a:n,s=i-r|0,o=s>0?s:0,c=e.newBuilder__scm_Builder();c.sizeHint__I__V(o);for(var l=r;l<i;)c.$plus$eq__O__scm_Builder(e.apply__I__O(l)),l=1+l|0;return c.result__O()}function ZA(e){return e.isEmpty__Z()?jA(e).next__O():e.apply__I__O(0)}function XA(e){return e.isEmpty__Z()?yw(e):e.slice__I__I__O(1,e.length__I())}function JA(e){return e.length__I()>0?e.apply__I__O(-1+e.length__I()|0):function(e){var t=new yv(e.head__O());return e.foreach__F1__V(new k$((e=>{t.sr_ObjectRef__f_elem=e}))),t.sr_ObjectRef__f_elem}(e)}function YA(e){return e.length__I()>0?e.slice__I__I__O(0,-1+e.length__I()|0):gw(e)}function QA(e,t){return e.slice__I__I__O(e.length__I()-(t>0?t:0)|0,e.length__I())}function KA(e,t){if(AR(t)){var _=AR(n=t)||null===n?n:Sl(n,"scala.collection.IndexedSeq"),r=e.length__I();if(r===_.length__I()){for(var a=0;a<r&&Qd().equals__O__O__Z(e.apply__I__O(a),_.apply__I__O(a));)a=1+a|0;return a===r}return!1}return aA(e,t);var n}function eR(e,t,_,r){for(var a=0,n=_,i=e.length__I(),s=i<r?i:r,o=rm().array_length__O__I(t)-_|0,c=s<o?s:o;a<c;)rm().array_update__O__I__O__V(t,n,e.apply__I__O(a)),a=1+a|0,n=1+n|0}function tR(e,t){return e.length__I()-t|0}function _R(e){var t=e.newBuilder__scm_Builder();t.sizeHint__I__V(e.length__I());for(var _=e.length__I();_>0;)_=-1+_|0,t.$plus$eq__O__scm_Builder(e.apply__I__O(_));return t.result__O()}function rR(e){for(var t=-1+e.length__I()|0,_=CB();t>=0;){var r=_;_=new cB(e.apply__I__O(t),r),t=-1+t|0}return _}function aR(e,t){var _=e.drop__I__sc_LinearSeqOptimized(t);if(t<0||_.isEmpty__Z())throw Yb(new Qb,""+t);return _.head__O()}function nR(e,t,_){for(var r=t,a=e;!a.isEmpty__Z();)r=_.apply__O__O__O(r,a.head__O()),a=cR(a.tail__O());return r}function iR(e){if(e.isEmpty__Z())throw function(e){return Ey(e,null,0,0,!0),e}(new lI);for(var t=e,_=cR(t.tail__O());!_.isEmpty__Z();)t=_,_=cR(_.tail__O());return t.head__O()}function sR(e,t){if(RR(t)){var _=DR(t);if(e===_)return!0;for(var r=e,a=_;!r.isEmpty__Z()&&!a.isEmpty__Z()&&Qd().equals__O__O__Z(r.head__O(),a.head__O());)r=cR(r.tail__O()),a=DR(a.tail__O());return r.isEmpty__Z()&&a.isEmpty__Z()}return aA(e,t)}function oR(e,t){return t<0?1:function(e,t,_,r){for(;;){if(t===r)return _.isEmpty__Z()?0:1;if(_.isEmpty__Z())return-1;var a=1+t|0,n=cR(_.tail__O());t=a,_=n}}(0,0,e,t)}function cR(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_LinearSeqOptimized)}(e)||null===e?e:Sl(e,"scala.collection.LinearSeqOptimized")}function lR(e){return 0===e.size__I()}function pR(e){return 0===e.size__I()}function uR(e,t,_){var r=e.get__O__s_Option(t);if(r instanceof GS)return NS(r).s_Some__f_value;if(kS()===r)return _.apply__O();throw new yI(r)}function fR(e,t){throw cI(new lI,"key not found: "+t)}function hR(e){this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self=null,this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self=e}BA.prototype.$classData=qA,hR.prototype=new sp,hR.prototype.constructor=hR,hR.prototype,hR.prototype.companion__scg_GenericCompanion=function(){return OI()},hR.prototype.foreach__F1__V=function(e){var t=this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self[Symbol.iterator](),_=null;for(_=t.next();!Ql(_.done);){var r=_.value;_=t.next(),e.apply__O__O(r)}},hR.prototype.isEmpty__Z=function(){return!this.iterator__sc_Iterator().hasNext__Z()},hR.prototype.head__O=function(){var e=this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self[Symbol.iterator](),t=e.next().value;return e.next(),t},hR.prototype.drop__I__O=function(e){return rA(this,e)},hR.prototype.toStream__sci_Stream=function(){return e$(new yb(this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self[Symbol.iterator]()))},hR.prototype.newBuilder__scm_Builder=function(){return OI(),LL(),new dV},hR.prototype.flatten__F1__sc_GenTraversable=function(e){return yg(this,e)},hR.prototype.repr__O=function(){return this},hR.prototype.isTraversableAgain__Z=function(){return!0},hR.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return hw(this,e,t)},hR.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){return dw(this,e,t)},hR.prototype.toString__T=function(){return $w(this)},hR.prototype.stringPrefix__T=function(){return xw(this)},hR.prototype.size__I=function(){return Ky(this)},hR.prototype.$div$colon__O__F2__O=function(e,t){return eg(this,e,t)},hR.prototype.foldLeft__O__F2__O=function(e,t){return eg(this,e,t)},hR.prototype.toList__sci_List=function(){return CE(vw(this,eT().scg_GenTraversableFactory__f_ReusableCBFInstance))},hR.prototype.toVector__sci_Vector=function(){return rB(vw(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},hR.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},hR.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},hR.prototype.sizeHintIfCheap__I=function(){return-1},hR.prototype.iterator__sc_Iterator=function(){return new yb(this.sjs_js_IterableOps__f_scala$scalajs$js$IterableOps$$self[Symbol.iterator]())},hR.prototype.thisCollection__sc_Traversable=function(){return this},hR.prototype.seq__sc_TraversableOnce=function(){return this};var dR=(new gp).initClass({sjs_js_IterableOps:0},!1,"scala.scalajs.js.IterableOps",{sjs_js_IterableOps:1,O:1,sc_Iterable:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1});function mR(){}function yR(){}function gR(e,t,_){var r=t>0?t:0,a=e.length__I(),n=_<a?_:a;if(r>=n)return e.newBuilder__scm_Builder().result__O();var i=e.newBuilder__scm_Builder(),s=e.toString__T();r<0&&jl(s,r),n>s.length&&jl(s,n),n<r&&jl(s,-1);var o=CS(s.substring(r,n));return A$(i.$plus$plus$eq__sc_TraversableOnce__scg_Growable(new bR(o))).result__O()}function vR(e,t){var _;return function(e,t,_){return $h().compile__T__I__ju_regex_Pattern(t,0).java$util$regex$Pattern$$split__T__I__AT(e,_)}(e.toString__T(),(_=t)>=97&&_<=122||_>=65&&_<=90||_>=48&&_<=57?CS(String.fromCharCode(_)):"\\"+Yl(_),0)}function $R(e,t){return t}hR.prototype.$classData=dR,mR.prototype=new OA,mR.prototype.constructor=mR,yR.prototype=mR.prototype,mR.prototype.foreach__F1__V=function(e){Qv(this.iterator__sc_Iterator(),e)},mR.prototype.forall__F1__Z=function(e){return Kv(this.iterator__sc_Iterator(),e)},mR.prototype.head__O=function(){return this.iterator__sc_Iterator().next__O()},mR.prototype.drop__I__O=function(e){return rA(this,e)},mR.prototype.takeRight__I__O=function(e){return function(e,t){var _=e.newBuilder__scm_Builder();_.sizeHintBounded__I__sc_TraversableLike__V(t,e);for(var r=e.iterator__sc_Iterator().drop__I__sc_Iterator(t),a=e.iterator__sc_Iterator();r.hasNext__Z();)r.next__O(),a.next__O();for(;a.hasNext__Z();)_.$plus$eq__O__scm_Builder(a.next__O());return _.result__O()}(this,e)},mR.prototype.copyToArray__O__I__I__V=function(e,t,_){!function(e,t,_,r){for(var a=_,n=_+r|0,i=rm().array_length__O__I(t),s=n<i?n:i,o=e.iterator__sc_Iterator();a<s&&o.hasNext__Z();)rm().array_update__O__I__O__V(t,a,o.next__O()),a=1+a|0}(this,e,t,_)},mR.prototype.sameElements__sc_GenIterable__Z=function(e){return aA(this,e)},mR.prototype.toStream__sci_Stream=function(){return this.iterator__sc_Iterator().toStream__sci_Stream()};var xR=(new gp).initClass({sci_Iterable:0},!0,"scala.collection.immutable.Iterable",{sci_Iterable:1,O:1,sci_Traversable:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,s_Immutable:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1});function bR(e){this.sci_StringOps__f_repr=null,this.sci_StringOps__f_repr=e}bR.prototype=new sp,bR.prototype.constructor=bR,bR.prototype,bR.prototype.isEmpty__Z=function(){return GA(this)},bR.prototype.foreach__F1__V=function(e){NA(this,e)},bR.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.sci_StringOps__f_repr.length,e,t)},bR.prototype.head__O=function(){return ZA(this)},bR.prototype.drop__I__O=function(e){var t=this.sci_StringOps__f_repr.length;return pd().slice$extension__T__I__I__T(this.sci_StringOps__f_repr,e,t)},bR.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},bR.prototype.copyToArray__O__I__I__V=function(e,t,_){eR(this,e,t,_)},bR.prototype.lengthCompare__I__I=function(e){return tR(this,e)},bR.prototype.toList__sci_List=function(){return rR(this)},bR.prototype.iterator__sc_Iterator=function(){return jA(this)},bR.prototype.sizeHintIfCheap__I=function(){return this.sci_StringOps__f_repr.length},bR.prototype.size__I=function(){return this.sci_StringOps__f_repr.length},bR.prototype.toStream__sci_Stream=function(){return jA(this).toStream__sci_Stream()},bR.prototype.isTraversableAgain__Z=function(){return!0},bR.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return hw(this,e,t)},bR.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){return dw(this,e,t)},bR.prototype.stringPrefix__T=function(){return xw(this)},bR.prototype.$div$colon__O__F2__O=function(e,t){return WA(this,0,this.sci_StringOps__f_repr.length,e,t)},bR.prototype.toVector__sci_Vector=function(){return rB(vw(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},bR.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},bR.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},bR.prototype.toString__T=function(){return this.sci_StringOps__f_repr},bR.prototype.length__I=function(){return this.sci_StringOps__f_repr.length},bR.prototype.hashCode__I=function(){return wS(this.sci_StringOps__f_repr)},bR.prototype.equals__O__Z=function(e){return pd().equals$extension__T__O__Z(this.sci_StringOps__f_repr,e)},bR.prototype.seq__sc_TraversableOnce=function(){return new nB(this.sci_StringOps__f_repr)},bR.prototype.slice__I__I__O=function(e,t){return pd().slice$extension__T__I__I__T(this.sci_StringOps__f_repr,e,t)},bR.prototype.apply__I__O=function(e){return Yl(jl(this.sci_StringOps__f_repr,e))},bR.prototype.newBuilder__scm_Builder=function(){return vV(new $V)},bR.prototype.thisCollection__sc_Traversable=function(){return new nB(this.sci_StringOps__f_repr)},bR.prototype.thisCollection__sc_Seq=function(){return new nB(this.sci_StringOps__f_repr)},bR.prototype.repr__O=function(){return this.sci_StringOps__f_repr};var IR=(new gp).initClass({sci_StringOps:0},!1,"scala.collection.immutable.StringOps",{sci_StringOps:1,O:1,sci_StringLike:1,sc_IndexedSeqOptimized:1,sc_IndexedSeqLike:1,sc_SeqLike:1,sc_IterableLike:1,s_Equals:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenIterableLike:1,sc_GenSeqLike:1,s_math_Ordered:1,jl_Comparable:1});function LR(e,t,_){var r=e.scm_ArrayOps$ofRef__f_repr,a=t>0?t:0,n=_>0?_:0,i=r.u.length,s=(n<i?n:i)-a|0,o=s>0?s:0,c=function(e){return Rl(e.scm_ArrayOps$ofRef__f_repr).getComponentType__jl_Class()}(e),l=jf().newInstance__jl_Class__I__O(c,o);return o>0&&Ux().copy__O__I__O__I__I__V(r,a,l,0,o),l}function SR(e){this.scm_ArrayOps$ofRef__f_repr=null,this.scm_ArrayOps$ofRef__f_repr=e}bR.prototype.$classData=IR,SR.prototype=new sp,SR.prototype.constructor=SR,SR.prototype,SR.prototype.copyToArray__O__I__I__V=function(e,t,_){!function(e,t,_,r){var a=e.scm_ArrayOps$ofRef__f_repr.u.length,n=r<a?r:a,i=rm().array_length__O__I(t)-_|0,s=n<i?n:i;s>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayOps$ofRef__f_repr,0,t,_,s)}(this,e,t,_)},SR.prototype.slice__I__I__O=function(e,t){return LR(this,e,t)},SR.prototype.isEmpty__Z=function(){return GA(this)},SR.prototype.foreach__F1__V=function(e){NA(this,e)},SR.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.scm_ArrayOps$ofRef__f_repr.u.length,e,t)},SR.prototype.head__O=function(){return ZA(this)},SR.prototype.drop__I__O=function(e){return LR(this,e,this.scm_ArrayOps$ofRef__f_repr.u.length)},SR.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},SR.prototype.lengthCompare__I__I=function(e){return tR(this,e)},SR.prototype.toList__sci_List=function(){return rR(this)},SR.prototype.iterator__sc_Iterator=function(){return jA(this)},SR.prototype.sizeHintIfCheap__I=function(){return this.scm_ArrayOps$ofRef__f_repr.u.length},SR.prototype.size__I=function(){return this.scm_ArrayOps$ofRef__f_repr.u.length},SR.prototype.toString__T=function(){return $w(this)},SR.prototype.toStream__sci_Stream=function(){return jA(this).toStream__sci_Stream()},SR.prototype.isTraversableAgain__Z=function(){return!0},SR.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return hw(this,e,t)},SR.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){return dw(this,e,t)},SR.prototype.stringPrefix__T=function(){return xw(this)},SR.prototype.$div$colon__O__F2__O=function(e,t){return WA(this,0,this.scm_ArrayOps$ofRef__f_repr.u.length,e,t)},SR.prototype.toVector__sci_Vector=function(){return rB(vw(this,oA().scg_GenTraversableFactory__f_ReusableCBFInstance))},SR.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this,e,t,_)},SR.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this,e,t,_,r)},SR.prototype.length__I=function(){return this.scm_ArrayOps$ofRef__f_repr.u.length},SR.prototype.apply__I__O=function(e){return this.scm_ArrayOps$ofRef__f_repr.get(e)},SR.prototype.hashCode__I=function(){return Wl(this.scm_ArrayOps$ofRef__f_repr)},SR.prototype.equals__O__Z=function(e){return(Ld||(Ld=new Id),Ld).equals$extension__AO__O__Z(this.scm_ArrayOps$ofRef__f_repr,e)},SR.prototype.seq__sc_TraversableOnce=function(){return new sV(this.scm_ArrayOps$ofRef__f_repr)},SR.prototype.newBuilder__scm_Builder=function(){var e=this.scm_ArrayOps$ofRef__f_repr;return new DC(B$().apply__jl_Class__s_reflect_ClassTag(Rl(e).getComponentType__jl_Class()))},SR.prototype.thisCollection__sc_Traversable=function(){return new sV(this.scm_ArrayOps$ofRef__f_repr)},SR.prototype.thisCollection__sc_Seq=function(){return new sV(this.scm_ArrayOps$ofRef__f_repr)},SR.prototype.repr__O=function(){return this.scm_ArrayOps$ofRef__f_repr};var MR=(new gp).initClass({scm_ArrayOps$ofRef:0},!1,"scala.collection.mutable.ArrayOps$ofRef",{scm_ArrayOps$ofRef:1,O:1,scm_ArrayOps:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,scm_IndexedSeqLike:1,sc_IndexedSeqLike:1,sc_SeqLike:1,sc_IterableLike:1,s_Equals:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenIterableLike:1,sc_GenSeqLike:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1});function wR(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_Seq)}(e)||null===e?e:Sl(e,"scala.collection.Seq")}function OR(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_Map)}function CR(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_Set)}function TR(e){return CR(e)||null===e?e:Sl(e,"scala.collection.Set")}function AR(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_IndexedSeq)}function RR(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_LinearSeq)}function DR(e){return RR(e)||null===e?e:Sl(e,"scala.collection.LinearSeq")}function ER(){}function BR(){}function VR(){}function qR(){}function HR(){}function PR(){}function jR(e){return!!(e&&e.$classData&&e.$classData.ancestors.sci_Set)}function FR(e){return jR(e)||null===e?e:Sl(e,"scala.collection.immutable.Set")}function zR(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sci_Map)}(e)||null===e?e:Sl(e,"scala.collection.immutable.Map")}function kR(e){return function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sci_IndexedSeq)}(e)||null===e?e:Sl(e,"scala.collection.immutable.IndexedSeq")}function GR(){}function NR(){}function WR(e,t,_){for(;;){if(0===_)return t;var r=t.next__sci_ListSet();t=r,_=-1+_|0}}function UR(e,t,_,r){for(;;){if(t===r)return!1;if(Qd().equals__O__O__Z(_,t.elem__O()))return!0;t=t.next__sci_ListSet()}}function ZR(e,t,_,r){for(;;){if(t===_)return r;var a=t.next__sci_ListSet();t=a,r=1+r|0}}function XR(e){for(var t=e,_=CB();!t.isEmpty__Z();)_=new cB(t.elem__O(),_),t=t.next__sci_ListSet();return _}function JR(){}function YR(){}function QR(e){return e instanceof JR||null===e?e:Sl(e,"scala.collection.immutable.ListSet")}function KR(){}SR.prototype.$classData=MR,ER.prototype=new yR,ER.prototype.constructor=ER,BR.prototype=ER.prototype,ER.prototype.thisCollection__sc_Seq=function(){return this},ER.prototype.lengthCompare__I__I=function(e){return function(e,t){if(t<0)return 1;for(var _=0,r=e.iterator__sc_Iterator();r.hasNext__Z();){if(_===t)return r.hasNext__Z()?1:0;r.next__O(),_=1+_|0}return _-t|0}(this,e)},ER.prototype.isEmpty__Z=function(){return DA(this)},ER.prototype.size__I=function(){return this.length__I()},ER.prototype.reverse__O=function(){return function(e){var t=new yv(CB());e.foreach__F1__V(new k$((e=>{var _=CE(t.sr_ObjectRef__f_elem);t.sr_ObjectRef__f_elem=new cB(e,_)})));var _=e.newBuilder__scm_Builder();O$(_,e);for(var r=CE(t.sr_ObjectRef__f_elem);!r.isEmpty__Z();){var a=r.head__O();_.$plus$eq__O__scm_Builder(a),r=CE(r.tail__O())}return _.result__O()}(this)},ER.prototype.$colon$plus__O__scg_CanBuildFrom__O=function(e,t){return EA(this,e,t)},ER.prototype.toString__T=function(){return $w(this)},ER.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this.seq__sc_Seq())},ER.prototype.equals__O__Z=function(e){return nM(this,e)},ER.prototype.apply$mcDI$sp__I__D=function(e){return np(this.apply__O__O(e))},VR.prototype=new yR,VR.prototype.constructor=VR,qR.prototype=VR.prototype,VR.prototype.newBuilder__scm_Builder=function(){return new eS(this.empty__sc_Map())},VR.prototype.isEmpty__Z=function(){return pR(this)},VR.prototype.getOrElse__O__F0__O=function(e,t){return uR(this,e,t)},VR.prototype.apply__O__O=function(e){return function(e,t){var _=e.get__O__s_Option(t);if(kS()===_)return fR(0,t);if(_ instanceof GS)return NS(_).s_Some__f_value;throw new yI(_)}(this,e)},VR.prototype.contains__O__Z=function(e){return function(e,t){return!e.get__O__s_Option(t).isEmpty__Z()}(this,e)},VR.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return function(e,t,_,r,a){return rg(new CI(e.iterator__sc_Iterator(),new k$((e=>{var t=JS(e);if(null!==t){var _=t._1__O(),r=t._2__O();return""+(Nh||(Nh=new Gh),Nh).$plus$extension__O__T__T(_," -> ")+r}throw new yI(t)}))),t,_,r,a)}(this,e,t,_,r)},VR.prototype.stringPrefix__T=function(){return"Map"},VR.prototype.toString__T=function(){return $w(this)},VR.prototype.apply$mcDI$sp__I__D=function(e){return np(this.apply__O__O(e))},VR.prototype.hashCode__I=function(){var e=Sv(),t=this.seq__sc_Map();return e.unorderedHash__sc_TraversableOnce__I__I(t,e.s_util_hashing_MurmurHash3$__f_mapSeed)},VR.prototype.equals__O__Z=function(e){return aM(this,e)},HR.prototype=new yR,HR.prototype.constructor=HR,PR.prototype=HR.prototype,HR.prototype.newBuilder__scm_Builder=function(){return new _S(this.empty__sc_Set())},HR.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){return dw(this,e,t)},HR.prototype.$plus$plus__sc_GenTraversableOnce__sc_Set=function(e){return function(e,t){if(e===($M(),_D())){if(t instanceof dD){var _=yD(t);if(_.size__I()>4)return _}if(t instanceof rD)return aD(t);if(t instanceof iD)return sD(t);if(t instanceof cD)return lD(t);if(t instanceof uD)return fD(t);if(t.isEmpty__Z())return TR(e);var r=TR(e);return TR(t.seq__sc_TraversableOnce().$div$colon__O__F2__O(r,new N$(((e,t)=>TR(e).$plus__O__sc_Set(t)))))}if(e instanceof dD){var a=yD(e);if(HA(t)){var n=PA(t);return a.union__sc_GenSet__sci_HashSet(n)}var i=TR(e);return TR(t.seq__sc_TraversableOnce().$div$colon__O__F2__O(i,new N$(((e,t)=>TR(e).$plus__O__sc_Set(t)))))}var s=TR(e);return TR(t.seq__sc_TraversableOnce().$div$colon__O__F2__O(s,new N$(((e,t)=>TR(e).$plus__O__sc_Set(t)))))}(this,e)},HR.prototype.isEmpty__Z=function(){return lR(this)},HR.prototype.union__sc_GenSet__sc_Set=function(e){return this.$plus$plus__sc_GenTraversableOnce__sc_Set(e)},HR.prototype.stringPrefix__T=function(){return"Set"},HR.prototype.toString__T=function(){return $w(this)},HR.prototype.subsetOf__sc_GenSet__Z=function(e){return this.forall__F1__Z(e)},HR.prototype.equals__O__Z=function(e){return nw(this,e)},HR.prototype.hashCode__I=function(){var e=Sv();return e.unorderedHash__sc_TraversableOnce__I__I(this,e.s_util_hashing_MurmurHash3$__f_setSeed)},HR.prototype.apply$mcDI$sp__I__D=function(e){return np(this.contains__O__Z(e))},GR.prototype=new qR,GR.prototype.constructor=GR,NR.prototype=GR.prototype,GR.prototype.empty__sci_Map=function(){return sb(),KD()},GR.prototype.companion__scg_GenericCompanion=function(){return LL()},GR.prototype.thisCollection__sc_Traversable=function(){return this},GR.prototype.seq__sc_TraversableOnce=function(){return this},GR.prototype.seq__sc_Map=function(){return this},GR.prototype.empty__sc_Map=function(){return this.empty__sci_Map()},JR.prototype=new PR,JR.prototype.constructor=JR,YR.prototype=JR.prototype,JR.prototype.companion__scg_GenericCompanion=function(){return wO()},JR.prototype.size__I=function(){return 0},JR.prototype.isEmpty__Z=function(){return!0},JR.prototype.contains__O__Z=function(e){return!1},JR.prototype.$plus__O__sci_ListSet=function(e){return new LD(this,e)},JR.prototype.$plus$plus__sc_GenTraversableOnce__sci_ListSet=function(e){if(e instanceof JR){var t=QR(e);if(t===this)return this;var _=t.size__I();if(0===_)return this;if(this.isEmpty__Z())return t;for(var r=this.size__I(),a=r<_?r:_,n=WR(0,this,r-a|0),i=WR(0,t,_-a|0);n!==i&&!i.isEmpty__Z();)n=n.next__sci_ListSet(),i=i.next__sci_ListSet();for(var s=t,o=this,c=null,l=null,p=null,u=null,f=null,h=0;s!==i;){var d=s.elem__O();if(!UR(0,o,d,i)){switch(h){case 0:l=d;break;case 1:p=d;break;case 2:u=d;break;case 3:f=d;break;default:null===c&&(c=new op(ZR(0,s,i,0))),rm().array_update__O__I__O__V(c,-4+h|0,d)}h=1+h|0}s=s.next__sci_ListSet()}for(;h>0;){switch(h){case 1:var m=l;break;case 2:m=p;break;case 3:m=u;break;case 4:m=f;break;default:m=rm().array_apply__O__I__O(c,-5+h|0)}o=new LD(o,m),h=-1+h|0}return o}return e.isEmpty__Z()?this:QR(e.$div$colon__O__F2__O(this,new N$(((e,t)=>QR(e).$plus__O__sci_ListSet(t)))))},JR.prototype.iterator__sc_Iterator=function(){return zA(XR(this))},JR.prototype.elem__O=function(){throw cI(new lI,"elem of empty set")},JR.prototype.next__sci_ListSet=function(){throw cI(new lI,"next of empty set")},JR.prototype.stringPrefix__T=function(){return"ListSet"},JR.prototype.thisCollection__sc_Traversable=function(){return this},JR.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},JR.prototype.empty__sc_Set=function(){return wO(),bD()},JR.prototype.seq__sc_TraversableOnce=function(){return this},JR.prototype.$plus$plus__sc_GenTraversableOnce__sc_Set=function(e){return this.$plus$plus__sc_GenTraversableOnce__sci_ListSet(e)},JR.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_ListSet(e)},KR.prototype=new PR,KR.prototype.constructor=KR,KR.prototype,KR.prototype.companion__scg_GenericCompanion=function(){return $M()},KR.prototype.size__I=function(){return 0},KR.prototype.contains__O__Z=function(e){return!1},KR.prototype.iterator__sc_Iterator=function(){return Yh().sc_Iterator$__f_empty},KR.prototype.foreach__F1__V=function(e){},KR.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){if(t===$M().sci_Set$__f_ReusableCBF){if(e instanceof dD){var _=yD(e);if(_.size__I()>4)return _}return nw(_D(),e)?_D():e instanceof rD?aD(e):e instanceof iD?sD(e):e instanceof cD?lD(e):e instanceof uD?fD(e):hw(this,e,t)}return t===vO().sci_HashSet$__f_ReusableCBF&&e instanceof dD?yD(e):hw(this,e,t)},KR.prototype.thisCollection__sc_Traversable=function(){return this},KR.prototype.apply__O__O=function(e){return!1},KR.prototype.empty__sc_Set=function(){return $M(),_D()},KR.prototype.seq__sc_TraversableOnce=function(){return this},KR.prototype.$plus__O__sc_Set=function(e){return new rD(e)};var eD,tD=(new gp).initClass({sci_Set$EmptySet$:0},!1,"scala.collection.immutable.Set$EmptySet$",{sci_Set$EmptySet$:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function _D(){return eD||(eD=new KR),eD}function rD(e){this.sci_Set$Set1__f_elem1=null,this.sci_Set$Set1__f_elem1=e}function aD(e){return e instanceof rD||null===e?e:Sl(e,"scala.collection.immutable.Set$Set1")}KR.prototype.$classData=tD,rD.prototype=new PR,rD.prototype.constructor=rD,rD.prototype,rD.prototype.companion__scg_GenericCompanion=function(){return $M()},rD.prototype.size__I=function(){return 1},rD.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Set$Set1__f_elem1)},rD.prototype.$plus__O__sci_Set=function(e){return this.contains__O__Z(e)?this:new iD(this.sci_Set$Set1__f_elem1,e)},rD.prototype.iterator__sc_Iterator=function(){return Yh(),new DI(this.sci_Set$Set1__f_elem1)},rD.prototype.foreach__F1__V=function(e){e.apply__O__O(this.sci_Set$Set1__f_elem1)},rD.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(this.sci_Set$Set1__f_elem1))},rD.prototype.head__O=function(){return this.sci_Set$Set1__f_elem1},rD.prototype.thisCollection__sc_Traversable=function(){return this},rD.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},rD.prototype.empty__sc_Set=function(){return $M(),_D()},rD.prototype.seq__sc_TraversableOnce=function(){return this},rD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_Set(e)};var nD=(new gp).initClass({sci_Set$Set1:0},!1,"scala.collection.immutable.Set$Set1",{sci_Set$Set1:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function iD(e,t){this.sci_Set$Set2__f_elem1=null,this.sci_Set$Set2__f_elem2=null,this.sci_Set$Set2__f_elem1=e,this.sci_Set$Set2__f_elem2=t}function sD(e){return e instanceof iD||null===e?e:Sl(e,"scala.collection.immutable.Set$Set2")}rD.prototype.$classData=nD,iD.prototype=new PR,iD.prototype.constructor=iD,iD.prototype,iD.prototype.companion__scg_GenericCompanion=function(){return $M()},iD.prototype.size__I=function(){return 2},iD.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Set$Set2__f_elem1)||Qd().equals__O__O__Z(e,this.sci_Set$Set2__f_elem2)},iD.prototype.$plus__O__sci_Set=function(e){return this.contains__O__Z(e)?this:new cD(this.sci_Set$Set2__f_elem1,this.sci_Set$Set2__f_elem2,e)},iD.prototype.iterator__sc_Iterator=function(){return new EO(this)},iD.prototype.scala$collection$immutable$Set$Set2$$getElem__I__O=function(e){switch(e){case 0:return this.sci_Set$Set2__f_elem1;case 1:return this.sci_Set$Set2__f_elem2;default:throw new yI(e)}},iD.prototype.foreach__F1__V=function(e){e.apply__O__O(this.sci_Set$Set2__f_elem1),e.apply__O__O(this.sci_Set$Set2__f_elem2)},iD.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(this.sci_Set$Set2__f_elem1))&&Ql(e.apply__O__O(this.sci_Set$Set2__f_elem2))},iD.prototype.head__O=function(){return this.sci_Set$Set2__f_elem1},iD.prototype.thisCollection__sc_Traversable=function(){return this},iD.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},iD.prototype.empty__sc_Set=function(){return $M(),_D()},iD.prototype.seq__sc_TraversableOnce=function(){return this},iD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_Set(e)};var oD=(new gp).initClass({sci_Set$Set2:0},!1,"scala.collection.immutable.Set$Set2",{sci_Set$Set2:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function cD(e,t,_){this.sci_Set$Set3__f_elem1=null,this.sci_Set$Set3__f_elem2=null,this.sci_Set$Set3__f_elem3=null,this.sci_Set$Set3__f_elem1=e,this.sci_Set$Set3__f_elem2=t,this.sci_Set$Set3__f_elem3=_}function lD(e){return e instanceof cD||null===e?e:Sl(e,"scala.collection.immutable.Set$Set3")}iD.prototype.$classData=oD,cD.prototype=new PR,cD.prototype.constructor=cD,cD.prototype,cD.prototype.companion__scg_GenericCompanion=function(){return $M()},cD.prototype.size__I=function(){return 3},cD.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Set$Set3__f_elem1)||Qd().equals__O__O__Z(e,this.sci_Set$Set3__f_elem2)||Qd().equals__O__O__Z(e,this.sci_Set$Set3__f_elem3)},cD.prototype.$plus__O__sci_Set=function(e){return this.contains__O__Z(e)?this:new uD(this.sci_Set$Set3__f_elem1,this.sci_Set$Set3__f_elem2,this.sci_Set$Set3__f_elem3,e)},cD.prototype.iterator__sc_Iterator=function(){return new VO(this)},cD.prototype.scala$collection$immutable$Set$Set3$$getElem__I__O=function(e){switch(e){case 0:return this.sci_Set$Set3__f_elem1;case 1:return this.sci_Set$Set3__f_elem2;case 2:return this.sci_Set$Set3__f_elem3;default:throw new yI(e)}},cD.prototype.foreach__F1__V=function(e){e.apply__O__O(this.sci_Set$Set3__f_elem1),e.apply__O__O(this.sci_Set$Set3__f_elem2),e.apply__O__O(this.sci_Set$Set3__f_elem3)},cD.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(this.sci_Set$Set3__f_elem1))&&Ql(e.apply__O__O(this.sci_Set$Set3__f_elem2))&&Ql(e.apply__O__O(this.sci_Set$Set3__f_elem3))},cD.prototype.head__O=function(){return this.sci_Set$Set3__f_elem1},cD.prototype.thisCollection__sc_Traversable=function(){return this},cD.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},cD.prototype.empty__sc_Set=function(){return $M(),_D()},cD.prototype.seq__sc_TraversableOnce=function(){return this},cD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_Set(e)};var pD=(new gp).initClass({sci_Set$Set3:0},!1,"scala.collection.immutable.Set$Set3",{sci_Set$Set3:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function uD(e,t,_,r){this.sci_Set$Set4__f_elem1=null,this.sci_Set$Set4__f_elem2=null,this.sci_Set$Set4__f_elem3=null,this.sci_Set$Set4__f_elem4=null,this.sci_Set$Set4__f_elem1=e,this.sci_Set$Set4__f_elem2=t,this.sci_Set$Set4__f_elem3=_,this.sci_Set$Set4__f_elem4=r}function fD(e){return e instanceof uD||null===e?e:Sl(e,"scala.collection.immutable.Set$Set4")}cD.prototype.$classData=pD,uD.prototype=new PR,uD.prototype.constructor=uD,uD.prototype,uD.prototype.companion__scg_GenericCompanion=function(){return $M()},uD.prototype.size__I=function(){return 4},uD.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Set$Set4__f_elem1)||Qd().equals__O__O__Z(e,this.sci_Set$Set4__f_elem2)||Qd().equals__O__O__Z(e,this.sci_Set$Set4__f_elem3)||Qd().equals__O__O__Z(e,this.sci_Set$Set4__f_elem4)},uD.prototype.$plus__O__sci_Set=function(e){return this.contains__O__Z(e)?this:(new dD).$plus__O__sci_HashSet(this.sci_Set$Set4__f_elem1).$plus__O__sci_HashSet(this.sci_Set$Set4__f_elem2).$plus__O__sci_HashSet(this.sci_Set$Set4__f_elem3).$plus__O__sci_HashSet(this.sci_Set$Set4__f_elem4).$plus__O__sci_HashSet(e)},uD.prototype.iterator__sc_Iterator=function(){return new HO(this)},uD.prototype.scala$collection$immutable$Set$Set4$$getElem__I__O=function(e){switch(e){case 0:return this.sci_Set$Set4__f_elem1;case 1:return this.sci_Set$Set4__f_elem2;case 2:return this.sci_Set$Set4__f_elem3;case 3:return this.sci_Set$Set4__f_elem4;default:throw new yI(e)}},uD.prototype.foreach__F1__V=function(e){e.apply__O__O(this.sci_Set$Set4__f_elem1),e.apply__O__O(this.sci_Set$Set4__f_elem2),e.apply__O__O(this.sci_Set$Set4__f_elem3),e.apply__O__O(this.sci_Set$Set4__f_elem4)},uD.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(this.sci_Set$Set4__f_elem1))&&Ql(e.apply__O__O(this.sci_Set$Set4__f_elem2))&&Ql(e.apply__O__O(this.sci_Set$Set4__f_elem3))&&Ql(e.apply__O__O(this.sci_Set$Set4__f_elem4))},uD.prototype.head__O=function(){return this.sci_Set$Set4__f_elem1},uD.prototype.thisCollection__sc_Traversable=function(){return this},uD.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},uD.prototype.empty__sc_Set=function(){return $M(),_D()},uD.prototype.seq__sc_TraversableOnce=function(){return this},uD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_Set(e)};var hD=(new gp).initClass({sci_Set$Set4:0},!1,"scala.collection.immutable.Set$Set4",{sci_Set$Set4:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function dD(){}function mD(){}function yD(e){return e instanceof dD||null===e?e:Sl(e,"scala.collection.immutable.HashSet")}uD.prototype.$classData=hD,dD.prototype=new PR,dD.prototype.constructor=dD,mD.prototype=dD.prototype,dD.prototype.companion__scg_GenericCompanion=function(){return vO()},dD.prototype.size__I=function(){return 0},dD.prototype.iterator__sc_Iterator=function(){return Yh().sc_Iterator$__f_empty},dD.prototype.foreach__F1__V=function(e){},dD.prototype.contains__O__Z=function(e){return this.get0__O__I__I__Z(e,this.computeHash__O__I(e),0)},dD.prototype.subsetOf__sc_GenSet__Z=function(e){if(e instanceof dD){var t=yD(e);return this.subsetOf0__sci_HashSet__I__Z(t,0)}return Kv(this.iterator__sc_Iterator(),e)},dD.prototype.subsetOf0__sci_HashSet__I__Z=function(e,t){return!0},dD.prototype.$plus__O__sci_HashSet=function(e){return this.updated0__O__I__I__sci_HashSet(e,this.computeHash__O__I(e),0)},dD.prototype.union__sc_GenSet__sci_HashSet=function(e){if(e instanceof dD){var t=yD(e);if(this===t)return this;vO();var _=this.union0__sci_HashSet__I__sci_HashSet(t,0);return null===_?AD():_}if(e.isEmpty__Z())return this;var r=new m$(this);return jR(e)?e.foreach__F1__V(r):Qv(e.iterator__sc_Iterator(),r),r.sci_HashSet$acc$1__f_res},dD.prototype.union0__sci_HashSet__I__sci_HashSet=function(e,t){return e},dD.prototype.improve__I__I=function(e){var t=e+~(e<<9)|0;return(t=(t^=t>>>14|0)+(t<<4)|0)^(t>>>10|0)},dD.prototype.computeHash__O__I=function(e){return this.improve__I__I(sm().anyHash__O__I(e))},dD.prototype.get0__O__I__I__Z=function(e,t,_){return!1},dD.prototype.updated0__O__I__I__sci_HashSet=function(e,t,_){return new jD(e,t)},dD.prototype.thisCollection__sc_Traversable=function(){return this},dD.prototype.apply__O__O=function(e){return this.contains__O__Z(e)},dD.prototype.seq__sc_TraversableOnce=function(){return this},dD.prototype.union__sc_GenSet__sc_Set=function(e){return this.union__sc_GenSet__sci_HashSet(e)},dD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_HashSet(e)},dD.prototype.empty__sc_Set=function(){return vO(),AD()};var gD=(new gp).initClass({sci_HashSet:0},!1,"scala.collection.immutable.HashSet",{sci_HashSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function vD(){}dD.prototype.$classData=gD,vD.prototype=new YR,vD.prototype.constructor=vD,vD.prototype;var $D,xD=(new gp).initClass({sci_ListSet$EmptyListSet$:0},!1,"scala.collection.immutable.ListSet$EmptyListSet$",{sci_ListSet$EmptyListSet$:1,sci_ListSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function bD(){return $D||($D=new vD),$D}function ID(e,t,_){for(;;){if(t.isEmpty__Z())return!1;if(Qd().equals__O__O__Z(t.elem__O(),_))return!0;t=t.next__sci_ListSet()}}function LD(e,t){if(this.sci_ListSet$Node__f_elem=null,this.sci_ListSet$Node__f_$outer=null,this.sci_ListSet$Node__f_elem=t,null===e)throw null;this.sci_ListSet$Node__f_$outer=e}vD.prototype.$classData=xD,LD.prototype=new YR,LD.prototype.constructor=LD,LD.prototype,LD.prototype.elem__O=function(){return this.sci_ListSet$Node__f_elem},LD.prototype.size__I=function(){return function(e,t,_){for(;;){if(t.isEmpty__Z())return _;var r=t.next__sci_ListSet();t=r,_=1+_|0}}(0,this,0)},LD.prototype.isEmpty__Z=function(){return!1},LD.prototype.contains__O__Z=function(e){return ID(0,this,e)},LD.prototype.$plus__O__sci_ListSet=function(e){return ID(0,this,e)?this:new LD(this,e)},LD.prototype.next__sci_ListSet=function(){return this.sci_ListSet$Node__f_$outer},LD.prototype.$plus__O__sc_Set=function(e){return this.$plus__O__sci_ListSet(e)};var SD=(new gp).initClass({sci_ListSet$Node:0},!1,"scala.collection.immutable.ListSet$Node",{sci_ListSet$Node:1,sci_ListSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,s_Serializable:1,Ljava_io_Serializable:1});function MD(){}function wD(){}function OD(){}LD.prototype.$classData=SD,MD.prototype=new BR,MD.prototype.constructor=MD,wD.prototype=MD.prototype,MD.prototype.seq__scm_Seq=function(){return this},MD.prototype.seq__sc_TraversableOnce=function(){return this.seq__scm_Seq()},OD.prototype=new mD,OD.prototype.constructor=OD,OD.prototype,OD.prototype.head__O=function(){throw cI(new lI,"Empty Set")};var CD,TD=(new gp).initClass({sci_HashSet$EmptyHashSet$:0},!1,"scala.collection.immutable.HashSet$EmptyHashSet$",{sci_HashSet$EmptyHashSet$:1,sci_HashSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function AD(){return CD||(CD=new OD),CD}function RD(e,t,_,r){for(var a=null,n=0,i=0,s=t.sci_HashSet$HashTrieSet__f_bitmap,o=_.sci_HashSet$HashTrieSet__f_bitmap,c=t.sci_HashSet$HashTrieSet__f_elems,l=_.sci_HashSet$HashTrieSet__f_elems,p=0,u=o^o&(-1+o|0);0!==u;){var f=s&(-1+u|0);n=n+by().bitCount__I__I(f)|0,s^=f;var h=c.get(n),d=l.get(i),m=h===d?h:h.union0__sci_HashSet__I__sci_HashSet(d,5+r|0);m!==h&&(null===a&&(a=c.clone__O()),p=p+(m.size__I()-h.size__I()|0)|0,a.set(n,m)),s^=u,u=(o^=u)^o&(-1+o|0),n=1+n|0,i=1+i|0}return null===a?t:new DD(t.sci_HashSet$HashTrieSet__f_bitmap,a,t.sci_HashSet$HashTrieSet__f_size0+p|0)}function DD(e,t,_){this.sci_HashSet$HashTrieSet__f_bitmap=0,this.sci_HashSet$HashTrieSet__f_elems=null,this.sci_HashSet$HashTrieSet__f_size0=0,this.sci_HashSet$HashTrieSet__f_bitmap=e,this.sci_HashSet$HashTrieSet__f_elems=t,this.sci_HashSet$HashTrieSet__f_size0=_}function ED(e){return e instanceof DD||null===e?e:Sl(e,"scala.collection.immutable.HashSet$HashTrieSet")}OD.prototype.$classData=TD,DD.prototype=new mD,DD.prototype.constructor=DD,DD.prototype,DD.prototype.size__I=function(){return this.sci_HashSet$HashTrieSet__f_size0},DD.prototype.get0__O__I__I__Z=function(e,t,_){var r=31&(t>>>_|0),a=1<<r;if(-1===this.sci_HashSet$HashTrieSet__f_bitmap)return this.sci_HashSet$HashTrieSet__f_elems.get(31&r).get0__O__I__I__Z(e,t,5+_|0);if(0!=(this.sci_HashSet$HashTrieSet__f_bitmap&a)){var n=this.sci_HashSet$HashTrieSet__f_bitmap&(-1+a|0),i=by().bitCount__I__I(n);return this.sci_HashSet$HashTrieSet__f_elems.get(i).get0__O__I__I__Z(e,t,5+_|0)}return!1},DD.prototype.updated0__O__I__I__sci_HashSet=function(e,t,_){var r=1<<(31&(t>>>_|0)),a=this.sci_HashSet$HashTrieSet__f_bitmap&(-1+r|0),n=by().bitCount__I__I(a);if(0!=(this.sci_HashSet$HashTrieSet__f_bitmap&r)){var i=this.sci_HashSet$HashTrieSet__f_elems.get(n),s=i.updated0__O__I__I__sci_HashSet(e,t,5+_|0);if(i===s)return this;var o=new(gD.getArrayOf().constr)(this.sci_HashSet$HashTrieSet__f_elems.u.length);return kl(this.sci_HashSet$HashTrieSet__f_elems,0,o,0,this.sci_HashSet$HashTrieSet__f_elems.u.length),o.set(n,s),new DD(this.sci_HashSet$HashTrieSet__f_bitmap,o,1+this.sci_HashSet$HashTrieSet__f_size0|0)}var c=new(gD.getArrayOf().constr)(1+this.sci_HashSet$HashTrieSet__f_elems.u.length|0);return kl(this.sci_HashSet$HashTrieSet__f_elems,0,c,0,n),c.set(n,new jD(e,t)),kl(this.sci_HashSet$HashTrieSet__f_elems,n,c,1+n|0,this.sci_HashSet$HashTrieSet__f_elems.u.length-n|0),new DD(this.sci_HashSet$HashTrieSet__f_bitmap|r,c,1+this.sci_HashSet$HashTrieSet__f_size0|0)},DD.prototype.union0__sci_HashSet__I__sci_HashSet=function(e,t){if(e===this)return this;if(e instanceof qD){var _=PD(e),r=1<<(31&(_.sci_HashSet$LeafHashSet__f_hash>>>t|0)),a=this.sci_HashSet$HashTrieSet__f_bitmap&(-1+r|0),n=by().bitCount__I__I(a);if(0!=(this.sci_HashSet$HashTrieSet__f_bitmap&r)){var i=this.sci_HashSet$HashTrieSet__f_elems.get(n);if(i===_)return this;var s=i.union0__sci_HashSet__I__sci_HashSet(_,5+t|0);if(i===s)return this;var o=this.sci_HashSet$HashTrieSet__f_elems.clone__O();return o.set(n,s),new DD(this.sci_HashSet$HashTrieSet__f_bitmap,o,this.sci_HashSet$HashTrieSet__f_size0+(s.size__I()-i.size__I()|0)|0)}var c=new(gD.getArrayOf().constr)(1+this.sci_HashSet$HashTrieSet__f_elems.u.length|0);return kl(this.sci_HashSet$HashTrieSet__f_elems,0,c,0,n),c.set(n,_),kl(this.sci_HashSet$HashTrieSet__f_elems,n,c,1+n|0,this.sci_HashSet$HashTrieSet__f_elems.u.length-n|0),new DD(this.sci_HashSet$HashTrieSet__f_bitmap|r,c,this.sci_HashSet$HashTrieSet__f_size0+_.size__I()|0)}if(e instanceof DD){var l=ED(e),p=this.sci_HashSet$HashTrieSet__f_bitmap,u=l.sci_HashSet$HashTrieSet__f_bitmap,f=p|u;return f===p&&(f!==u||this.sci_HashSet$HashTrieSet__f_size0>=l.sci_HashSet$HashTrieSet__f_size0)?RD(0,this,l,t):f===u?RD(0,l,this,t):0==(p&u)?function(e,t){for(var _=0,r=0,a=0,n=e.sci_HashSet$HashTrieSet__f_bitmap,i=t.sci_HashSet$HashTrieSet__f_bitmap,s=e.sci_HashSet$HashTrieSet__f_elems,o=t.sci_HashSet$HashTrieSet__f_elems,c=n|i,l=c,p=new(gD.getArrayOf().constr)(by().bitCount__I__I(l)),u=c^c&(-1+c|0);0!==u;)0!=(u&n)?(p.set(a,s.get(_)),_=1+_|0):(p.set(a,o.get(r)),r=1+r|0),a=1+a|0,u=(c^=u)^c&(-1+c|0);return new DD(n|i,p,e.sci_HashSet$HashTrieSet__f_size0+t.sci_HashSet$HashTrieSet__f_size0|0)}(this,l):function(e,t,_){for(var r=0,a=0,n=e.sci_HashSet$HashTrieSet__f_bitmap,i=t.sci_HashSet$HashTrieSet__f_bitmap,s=e.sci_HashSet$HashTrieSet__f_elems,o=t.sci_HashSet$HashTrieSet__f_elems,c=n|i,l=c,p=new(gD.getArrayOf().constr)(by().bitCount__I__I(l)),u=0,f=0,h=c^c&(-1+c|0),d=null;0!==h;){if(0!=(h&n))if(0!=(h&i)){var m=s.get(r),y=o.get(a);d=m===y?m:m.union0__sci_HashSet__I__sci_HashSet(y,5+_|0),r=1+r|0,a=1+a|0}else d=s.get(r),r=1+r|0;else d=o.get(a),a=1+a|0;h=(c^=h)^c&(-1+c|0),p.set(u,d),f=f+d.size__I()|0,u=1+u|0}return new DD(n|i,p,f)}(this,l,t)}return this},DD.prototype.equals__O__Z=function(e){if(e instanceof DD){var t=ED(e);if(this===t)return!0;if(this.sci_HashSet$HashTrieSet__f_bitmap===t.sci_HashSet$HashTrieSet__f_bitmap&&this.sci_HashSet$HashTrieSet__f_size0===t.sci_HashSet$HashTrieSet__f_size0){var _=this.sci_HashSet$HashTrieSet__f_elems,r=t.sci_HashSet$HashTrieSet__f_elems;return Gf().equals__AO__AO__Z(_,r)}return!1}return!(e instanceof dD)&&nw(this,e)},DD.prototype.subsetOf0__sci_HashSet__I__Z=function(e,t){if(e===this)return!0;if(e instanceof DD){var _=ED(e);if(0==(this.sci_HashSet$HashTrieSet__f_bitmap&~_.sci_HashSet$HashTrieSet__f_bitmap)&&this.sci_HashSet$HashTrieSet__f_size0<=_.sci_HashSet$HashTrieSet__f_size0){var r=this.sci_HashSet$HashTrieSet__f_bitmap,a=this.sci_HashSet$HashTrieSet__f_elems,n=0,i=_.sci_HashSet$HashTrieSet__f_elems,s=_.sci_HashSet$HashTrieSet__f_bitmap,o=0;if((r&s)===r){for(;0!==r;){var c=r^r&(-1+r|0),l=s^s&(-1+s|0);if(c===l){if(!a.get(n).subsetOf0__sci_HashSet__I__Z(i.get(o),5+t|0))return!1;r&=~c,n=1+n|0}s&=~l,o=1+o|0}return!0}return!1}}return!1},DD.prototype.foreach__F1__V=function(e){for(var t=0;t<this.sci_HashSet$HashTrieSet__f_elems.u.length;)this.sci_HashSet$HashTrieSet__f_elems.get(t).foreach__F1__V(e),t=1+t|0},DD.prototype.iterator__sc_Iterator=function(){return new pM(this)};var BD=(new gp).initClass({sci_HashSet$HashTrieSet:0},!1,"scala.collection.immutable.HashSet$HashTrieSet",{sci_HashSet$HashTrieSet:1,sci_HashSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function VD(e,t){return e.sci_HashSet$LeafHashSet__f_hash=t,e}function qD(){this.sci_HashSet$LeafHashSet__f_hash=0}function HD(){}function PD(e){return e instanceof qD||null===e?e:Sl(e,"scala.collection.immutable.HashSet$LeafHashSet")}function jD(e,t){this.sci_HashSet$LeafHashSet__f_hash=0,this.sci_HashSet$HashSet1__f_key=null,this.sci_HashSet$HashSet1__f_key=e,VD(this,t)}function FD(e){return e instanceof jD||null===e?e:Sl(e,"scala.collection.immutable.HashSet$HashSet1")}DD.prototype.$classData=BD,qD.prototype=new mD,qD.prototype.constructor=qD,HD.prototype=qD.prototype,jD.prototype=new HD,jD.prototype.constructor=jD,jD.prototype,jD.prototype.size__I=function(){return 1},jD.prototype.get0__O__I__I__Z=function(e,t,_){return t===this.sci_HashSet$LeafHashSet__f_hash&&Qd().equals__O__O__Z(e,this.sci_HashSet$HashSet1__f_key)},jD.prototype.equals__O__Z=function(e){if(e instanceof jD){var t=FD(e);return this===t||this.sci_HashSet$LeafHashSet__f_hash===t.sci_HashSet$LeafHashSet__f_hash&&Qd().equals__O__O__Z(this.sci_HashSet$HashSet1__f_key,t.sci_HashSet$HashSet1__f_key)}return!(e instanceof dD)&&nw(this,e)},jD.prototype.subsetOf0__sci_HashSet__I__Z=function(e,t){return this===e||e.get0__O__I__I__Z(this.sci_HashSet$HashSet1__f_key,this.sci_HashSet$LeafHashSet__f_hash,t)},jD.prototype.updated0__O__I__I__sci_HashSet=function(e,t,_){return t===this.sci_HashSet$LeafHashSet__f_hash?Qd().equals__O__O__Z(e,this.sci_HashSet$HashSet1__f_key)?this:(wO(),new kD(t,new LD(bD(),this.sci_HashSet$HashSet1__f_key).$plus__O__sci_ListSet(e),2)):vO().scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(this.sci_HashSet$LeafHashSet__f_hash,this,t,new jD(e,t),_,2)},jD.prototype.union0__sci_HashSet__I__sci_HashSet=function(e,t){if(e instanceof jD){var _=FD(e);if(this.sci_HashSet$LeafHashSet__f_hash===_.sci_HashSet$LeafHashSet__f_hash){if(Qd().equals__O__O__Z(this.sci_HashSet$HashSet1__f_key,_.sci_HashSet$HashSet1__f_key))return this;var r=this.sci_HashSet$LeafHashSet__f_hash;return wO(),new kD(r,new LD(bD(),this.sci_HashSet$HashSet1__f_key).$plus__O__sci_ListSet(_.sci_HashSet$HashSet1__f_key),2)}return vO().scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(this.sci_HashSet$LeafHashSet__f_hash,this,_.sci_HashSet$LeafHashSet__f_hash,_,t,2)}return e.union0__sci_HashSet__I__sci_HashSet(this,t)},jD.prototype.iterator__sc_Iterator=function(){Yh();var e=[this.sci_HashSet$HashSet1__f_key];return jA(bV(new IV,e))},jD.prototype.foreach__F1__V=function(e){e.apply__O__O(this.sci_HashSet$HashSet1__f_key)};var zD=(new gp).initClass({sci_HashSet$HashSet1:0},!1,"scala.collection.immutable.HashSet$HashSet1",{sci_HashSet$HashSet1:1,sci_HashSet$LeafHashSet:1,sci_HashSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function kD(e,t,_){this.sci_HashSet$LeafHashSet__f_hash=0,this.sci_HashSet$HashSetCollision1__f_ks=null,this.sci_HashSet$HashSetCollision1__f_size=0,this.sci_HashSet$HashSetCollision1__f_ks=t,this.sci_HashSet$HashSetCollision1__f_size=_,VD(this,e)}function GD(e){return e instanceof kD||null===e?e:Sl(e,"scala.collection.immutable.HashSet$HashSetCollision1")}jD.prototype.$classData=zD,kD.prototype=new HD,kD.prototype.constructor=kD,kD.prototype,kD.prototype.size__I=function(){return this.sci_HashSet$HashSetCollision1__f_size},kD.prototype.get0__O__I__I__Z=function(e,t,_){return t===this.sci_HashSet$LeafHashSet__f_hash&&this.sci_HashSet$HashSetCollision1__f_ks.contains__O__Z(e)},kD.prototype.equals__O__Z=function(e){if(e instanceof kD){var t=GD(e);if(this===t)return!0;if(this.sci_HashSet$LeafHashSet__f_hash===t.sci_HashSet$LeafHashSet__f_hash){var _=this.sci_HashSet$HashSetCollision1__f_ks,r=t.sci_HashSet$HashSetCollision1__f_ks;return null===_?null===r:nw(_,r)}return!1}return!(e instanceof dD)&&nw(this,e)},kD.prototype.subsetOf0__sci_HashSet__I__Z=function(e,t){if(this===e)return!0;for(var _=zA(XR(this.sci_HashSet$HashSetCollision1__f_ks)),r=!0;r&&_.hasNext__Z();){var a=_.next__O();r=e.get0__O__I__I__Z(a,this.sci_HashSet$LeafHashSet__f_hash,t)}return r},kD.prototype.updated0__O__I__I__sci_HashSet=function(e,t,_){if(t===this.sci_HashSet$LeafHashSet__f_hash){var r=this.sci_HashSet$HashSetCollision1__f_ks.$plus__O__sci_ListSet(e);return r===this.sci_HashSet$HashSetCollision1__f_ks?this:new kD(t,r,1+this.sci_HashSet$HashSetCollision1__f_size|0)}return vO().scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(this.sci_HashSet$LeafHashSet__f_hash,this,t,new jD(e,t),_,1+this.sci_HashSet$HashSetCollision1__f_size|0)},kD.prototype.union0__sci_HashSet__I__sci_HashSet=function(e,t){if(e instanceof jD){var _=FD(e);if(_.sci_HashSet$LeafHashSet__f_hash!==this.sci_HashSet$LeafHashSet__f_hash)return vO().scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(this.sci_HashSet$LeafHashSet__f_hash,this,_.sci_HashSet$LeafHashSet__f_hash,_,t,1+this.sci_HashSet$HashSetCollision1__f_size|0);var r=this.sci_HashSet$HashSetCollision1__f_ks.$plus__O__sci_ListSet(_.sci_HashSet$HashSet1__f_key);return r===this.sci_HashSet$HashSetCollision1__f_ks?this:new kD(this.sci_HashSet$LeafHashSet__f_hash,r,1+this.sci_HashSet$HashSetCollision1__f_size|0)}if(e instanceof kD){var a=GD(e);if(a.sci_HashSet$LeafHashSet__f_hash!==this.sci_HashSet$LeafHashSet__f_hash)return vO().scala$collection$immutable$HashSet$$makeHashTrieSet__I__sci_HashSet__I__sci_HashSet__I__I__sci_HashSet$HashTrieSet(this.sci_HashSet$LeafHashSet__f_hash,this,a.sci_HashSet$LeafHashSet__f_hash,a,t,this.sci_HashSet$HashSetCollision1__f_size+a.sci_HashSet$HashSetCollision1__f_size|0);if(this===a)return this;var n=this.sci_HashSet$HashSetCollision1__f_ks.$plus$plus__sc_GenTraversableOnce__sci_ListSet(a.sci_HashSet$HashSetCollision1__f_ks);if(n===this.sci_HashSet$HashSetCollision1__f_ks)return this;var i=n.size__I();return i===a.sci_HashSet$HashSetCollision1__f_size?a:new kD(this.sci_HashSet$LeafHashSet__f_hash,n,i)}return e.union0__sci_HashSet__I__sci_HashSet(this,t)},kD.prototype.iterator__sc_Iterator=function(){return zA(XR(this.sci_HashSet$HashSetCollision1__f_ks))},kD.prototype.foreach__F1__V=function(e){Qv(zA(XR(this.sci_HashSet$HashSetCollision1__f_ks)),e)};var ND=(new gp).initClass({sci_HashSet$HashSetCollision1:0},!1,"scala.collection.immutable.HashSet$HashSetCollision1",{sci_HashSet$HashSetCollision1:1,sci_HashSet$LeafHashSet:1,sci_HashSet:1,sc_AbstractSet:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Set:1,F1:1,sc_GenSet:1,sc_GenSetLike:1,scg_GenericSetTemplate:1,sc_SetLike:1,scg_Subtractable:1,sci_Set:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function WD(e){for(var t=e,_=CB();!t.isEmpty__Z();)_=new cB(US(new ZS,t.key__O(),t.value__O()),_),t=t.next__sci_ListMap();return _}function UD(){}function ZD(){}function XD(e){return e instanceof UD||null===e?e:Sl(e,"scala.collection.immutable.ListMap")}function JD(){}kD.prototype.$classData=ND,UD.prototype=new NR,UD.prototype.constructor=UD,ZD.prototype=UD.prototype,UD.prototype.size__I=function(){return 0},UD.prototype.isEmpty__Z=function(){return!0},UD.prototype.get__O__s_Option=function(e){return kS()},UD.prototype.foreachEntry__F2__V=function(e){for(var t=this;!t.isEmpty__Z();)e.apply__O__O__O(t.key__O(),t.value__O()),t=t.next__sci_ListMap()},UD.prototype.hashCode__I=function(){if(this.isEmpty__Z())return Sv().s_util_hashing_MurmurHash3$__f_emptyMapHash;var e=new $$;return this.foreachEntry__F2__V(e),e.finalizeHash__I()},UD.prototype.updated__O__O__sci_ListMap=function(e,t){return new BE(this,e,t)},UD.prototype.$plus__T2__sci_ListMap=function(e){return new BE(this,e._1__O(),e._2__O())},UD.prototype.$plus$plus__sc_GenTraversableOnce__sci_ListMap=function(e){return e.isEmpty__Z()?this:XD(e.$div$colon__O__F2__O(this,new N$(((e,t)=>{var _=XD(e),r=JS(t);return _.$plus__T2__sci_ListMap(r)}))))},UD.prototype.iterator__sc_Iterator=function(){return zA(WD(this))},UD.prototype.key__O=function(){throw cI(new lI,"key of empty map")},UD.prototype.value__O=function(){throw cI(new lI,"value of empty map")},UD.prototype.next__sci_ListMap=function(){throw cI(new lI,"next of empty map")},UD.prototype.stringPrefix__T=function(){return"ListMap"},UD.prototype.thisCollection__sc_Traversable=function(){return this},UD.prototype.seq__sc_Map=function(){return this},UD.prototype.$plus__T2__sc_GenMap=function(e){return this.$plus__T2__sci_ListMap(e)},UD.prototype.$plus__T2__sci_Map=function(e){return this.$plus__T2__sci_ListMap(e)},UD.prototype.updated__O__O__sci_Map=function(e,t){return this.updated__O__O__sci_ListMap(e,t)},UD.prototype.empty__sc_Map=function(){return mM(),DE()},UD.prototype.empty__sci_Map=function(){return mM(),DE()},JD.prototype=new NR,JD.prototype.constructor=JD,JD.prototype,JD.prototype.size__I=function(){return 0},JD.prototype.apply__O__E=function(e){throw cI(new lI,"key not found: "+e)},JD.prototype.contains__O__Z=function(e){return!1},JD.prototype.get__O__s_Option=function(e){return kS()},JD.prototype.getOrElse__O__F0__O=function(e,t){return t.apply__O()},JD.prototype.iterator__sc_Iterator=function(){return Yh().sc_Iterator$__f_empty},JD.prototype.updated__O__O__sci_Map=function(e,t){return new eE(e,t)},JD.prototype.$plus__T2__sci_Map=function(e){return new eE(e._1__O(),e._2__O())},JD.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){if(sb().scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z(t)){if(e instanceof bE){var _=LE(e);if(_.size__I()>4)return _}return null!==e&&e===KD()?this:e instanceof eE?tE(e):e instanceof rE?aE(e):e instanceof iE?sE(e):e instanceof cE?lE(e):hw(this,e,t)}return sb().scala$collection$immutable$Map$$isHashMapCBF__scg_CanBuildFrom__Z(t)&&e instanceof bE?LE(e):hw(this,e,t)},JD.prototype.hashCode__I=function(){return Sv().s_util_hashing_MurmurHash3$__f_emptyMapHash},JD.prototype.$plus__T2__sc_GenMap=function(e){return new eE(e._1__O(),e._2__O())},JD.prototype.apply__O__O=function(e){this.apply__O__E(e)};var YD,QD=(new gp).initClass({sci_Map$EmptyMap$:0},!1,"scala.collection.immutable.Map$EmptyMap$",{sci_Map$EmptyMap$:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function KD(){return YD||(YD=new JD),YD}function eE(e,t){this.sci_Map$Map1__f_key1=null,this.sci_Map$Map1__f_value1=null,this.sci_Map$Map1__f_key1=e,this.sci_Map$Map1__f_value1=t}function tE(e){return e instanceof eE||null===e?e:Sl(e,"scala.collection.immutable.Map$Map1")}JD.prototype.$classData=QD,eE.prototype=new NR,eE.prototype.constructor=eE,eE.prototype,eE.prototype.size__I=function(){return 1},eE.prototype.apply__O__O=function(e){if(Qd().equals__O__O__Z(e,this.sci_Map$Map1__f_key1))return this.sci_Map$Map1__f_value1;throw cI(new lI,"key not found: "+e)},eE.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map1__f_key1)},eE.prototype.get__O__s_Option=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map1__f_key1)?new GS(this.sci_Map$Map1__f_value1):kS()},eE.prototype.getOrElse__O__F0__O=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map1__f_key1)?this.sci_Map$Map1__f_value1:t.apply__O()},eE.prototype.iterator__sc_Iterator=function(){return Yh(),new DI(US(new ZS,this.sci_Map$Map1__f_key1,this.sci_Map$Map1__f_value1))},eE.prototype.updated__O__O__sci_Map=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map1__f_key1)?new eE(this.sci_Map$Map1__f_key1,t):new rE(this.sci_Map$Map1__f_key1,this.sci_Map$Map1__f_value1,e,t)},eE.prototype.$plus__T2__sci_Map=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())},eE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return sb().scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z(t)?null!==e&&e===KD()?this:e instanceof eE?tE(e).addTo__sci_Map__sci_Map(this):e instanceof rE?aE(e).addTo__sci_Map__sci_Map(this):e instanceof iE?sE(e).addTo__sci_Map__sci_Map(this):e instanceof cE?lE(e).addTo__sci_Map__sci_Map(this):hw(this,e,t):hw(this,e,t)},eE.prototype.addTo__sci_Map__sci_Map=function(e){return e.updated__O__O__sci_Map(this.sci_Map$Map1__f_key1,this.sci_Map$Map1__f_value1)},eE.prototype.foreach__F1__V=function(e){e.apply__O__O(US(new ZS,this.sci_Map$Map1__f_key1,this.sci_Map$Map1__f_value1))},eE.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map1__f_key1,this.sci_Map$Map1__f_value1)))},eE.prototype.hashCode__I=function(){var e=0,t=0,_=1,r=Sv(),a=this.sci_Map$Map1__f_key1,n=this.sci_Map$Map1__f_value1,i=r.product2Hash__O__O__I__I(a,n,-889275714);return e=e+i|0,t^=i,0!==i&&(_=Math.imul(_,i)),i=Sv().s_util_hashing_MurmurHash3$__f_mapSeed,i=Sv().mix__I__I__I(i,e),i=Sv().mix__I__I__I(i,t),i=Sv().mixLast__I__I__I(i,_),Sv().finalizeHash__I__I__I(i,1)},eE.prototype.$plus__T2__sc_GenMap=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())};var _E=(new gp).initClass({sci_Map$Map1:0},!1,"scala.collection.immutable.Map$Map1",{sci_Map$Map1:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function rE(e,t,_,r){this.sci_Map$Map2__f_key1=null,this.sci_Map$Map2__f_value1=null,this.sci_Map$Map2__f_key2=null,this.sci_Map$Map2__f_value2=null,this.sci_Map$Map2__f_key1=e,this.sci_Map$Map2__f_value1=t,this.sci_Map$Map2__f_key2=_,this.sci_Map$Map2__f_value2=r}function aE(e){return e instanceof rE||null===e?e:Sl(e,"scala.collection.immutable.Map$Map2")}eE.prototype.$classData=_E,rE.prototype=new NR,rE.prototype.constructor=rE,rE.prototype,rE.prototype.size__I=function(){return 2},rE.prototype.apply__O__O=function(e){if(Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key1))return this.sci_Map$Map2__f_value1;if(Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key2))return this.sci_Map$Map2__f_value2;throw cI(new lI,"key not found: "+e)},rE.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key1)||Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key2)},rE.prototype.get__O__s_Option=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key1)?new GS(this.sci_Map$Map2__f_value1):Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key2)?new GS(this.sci_Map$Map2__f_value2):kS()},rE.prototype.getOrElse__O__F0__O=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key1)?this.sci_Map$Map2__f_value1:Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key2)?this.sci_Map$Map2__f_value2:t.apply__O()},rE.prototype.scala$collection$immutable$Map$Map2$$_getKey__I__O=function(e){switch(e){case 0:return this.sci_Map$Map2__f_key1;case 1:return this.sci_Map$Map2__f_key2;default:throw new yI(e)}},rE.prototype.scala$collection$immutable$Map$Map2$$_getValue__I__O=function(e){switch(e){case 0:return this.sci_Map$Map2__f_value1;case 1:return this.sci_Map$Map2__f_value2;default:throw new yI(e)}},rE.prototype.iterator__sc_Iterator=function(){return new tT(this)},rE.prototype.updated__O__O__sci_Map=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key1)?new rE(this.sci_Map$Map2__f_key1,t,this.sci_Map$Map2__f_key2,this.sci_Map$Map2__f_value2):Qd().equals__O__O__Z(e,this.sci_Map$Map2__f_key2)?new rE(this.sci_Map$Map2__f_key1,this.sci_Map$Map2__f_value1,this.sci_Map$Map2__f_key2,t):new iE(this.sci_Map$Map2__f_key1,this.sci_Map$Map2__f_value1,this.sci_Map$Map2__f_key2,this.sci_Map$Map2__f_value2,e,t)},rE.prototype.$plus__T2__sci_Map=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())},rE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return sb().scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z(t)?null!==e&&e===KD()?this:e instanceof eE?tE(e).addTo__sci_Map__sci_Map(this):e instanceof rE?aE(e).addTo__sci_Map__sci_Map(this):e instanceof iE?sE(e).addTo__sci_Map__sci_Map(this):e instanceof cE?lE(e).addTo__sci_Map__sci_Map(this):hw(this,e,t):hw(this,e,t)},rE.prototype.addTo__sci_Map__sci_Map=function(e){return e.updated__O__O__sci_Map(this.sci_Map$Map2__f_key1,this.sci_Map$Map2__f_value1).updated__O__O__sci_Map(this.sci_Map$Map2__f_key2,this.sci_Map$Map2__f_value2)},rE.prototype.foreach__F1__V=function(e){e.apply__O__O(US(new ZS,this.sci_Map$Map2__f_key1,this.sci_Map$Map2__f_value1)),e.apply__O__O(US(new ZS,this.sci_Map$Map2__f_key2,this.sci_Map$Map2__f_value2))},rE.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map2__f_key1,this.sci_Map$Map2__f_value1)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map2__f_key2,this.sci_Map$Map2__f_value2)))},rE.prototype.hashCode__I=function(){var e=0,t=0,_=1,r=Sv(),a=this.sci_Map$Map2__f_key1,n=this.sci_Map$Map2__f_value1,i=r.product2Hash__O__O__I__I(a,n,-889275714);e=e+i|0,t^=i,0!==i&&(_=Math.imul(_,i));var s=Sv(),o=this.sci_Map$Map2__f_key2,c=this.sci_Map$Map2__f_value2;return e=e+(i=s.product2Hash__O__O__I__I(o,c,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i)),i=Sv().s_util_hashing_MurmurHash3$__f_mapSeed,i=Sv().mix__I__I__I(i,e),i=Sv().mix__I__I__I(i,t),i=Sv().mixLast__I__I__I(i,_),Sv().finalizeHash__I__I__I(i,2)},rE.prototype.$plus__T2__sc_GenMap=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())};var nE=(new gp).initClass({sci_Map$Map2:0},!1,"scala.collection.immutable.Map$Map2",{sci_Map$Map2:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function iE(e,t,_,r,a,n){this.sci_Map$Map3__f_key1=null,this.sci_Map$Map3__f_value1=null,this.sci_Map$Map3__f_key2=null,this.sci_Map$Map3__f_value2=null,this.sci_Map$Map3__f_key3=null,this.sci_Map$Map3__f_value3=null,this.sci_Map$Map3__f_key1=e,this.sci_Map$Map3__f_value1=t,this.sci_Map$Map3__f_key2=_,this.sci_Map$Map3__f_value2=r,this.sci_Map$Map3__f_key3=a,this.sci_Map$Map3__f_value3=n}function sE(e){return e instanceof iE||null===e?e:Sl(e,"scala.collection.immutable.Map$Map3")}rE.prototype.$classData=nE,iE.prototype=new NR,iE.prototype.constructor=iE,iE.prototype,iE.prototype.size__I=function(){return 3},iE.prototype.apply__O__O=function(e){if(Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key1))return this.sci_Map$Map3__f_value1;if(Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key2))return this.sci_Map$Map3__f_value2;if(Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key3))return this.sci_Map$Map3__f_value3;throw cI(new lI,"key not found: "+e)},iE.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key1)||Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key2)||Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key3)},iE.prototype.get__O__s_Option=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key1)?new GS(this.sci_Map$Map3__f_value1):Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key2)?new GS(this.sci_Map$Map3__f_value2):Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key3)?new GS(this.sci_Map$Map3__f_value3):kS()},iE.prototype.getOrElse__O__F0__O=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key1)?this.sci_Map$Map3__f_value1:Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key2)?this.sci_Map$Map3__f_value2:Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key3)?this.sci_Map$Map3__f_value3:t.apply__O()},iE.prototype.scala$collection$immutable$Map$Map3$$_getKey__I__O=function(e){switch(e){case 0:return this.sci_Map$Map3__f_key1;case 1:return this.sci_Map$Map3__f_key2;case 2:return this.sci_Map$Map3__f_key3;default:throw new yI(e)}},iE.prototype.scala$collection$immutable$Map$Map3$$_getValue__I__O=function(e){switch(e){case 0:return this.sci_Map$Map3__f_value1;case 1:return this.sci_Map$Map3__f_value2;case 2:return this.sci_Map$Map3__f_value3;default:throw new yI(e)}},iE.prototype.iterator__sc_Iterator=function(){return new rT(this)},iE.prototype.updated__O__O__sci_Map=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key1)?new iE(this.sci_Map$Map3__f_key1,t,this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2,this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3):Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key2)?new iE(this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1,this.sci_Map$Map3__f_key2,t,this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3):Qd().equals__O__O__Z(e,this.sci_Map$Map3__f_key3)?new iE(this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1,this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2,this.sci_Map$Map3__f_key3,t):new cE(this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1,this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2,this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3,e,t)},iE.prototype.$plus__T2__sci_Map=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())},iE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return sb().scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z(t)?null!==e&&e===KD()?this:e instanceof eE?tE(e).addTo__sci_Map__sci_Map(this):e instanceof rE?aE(e).addTo__sci_Map__sci_Map(this):e instanceof iE?sE(e).addTo__sci_Map__sci_Map(this):e instanceof cE?lE(e).addTo__sci_Map__sci_Map(this):hw(this,e,t):hw(this,e,t)},iE.prototype.addTo__sci_Map__sci_Map=function(e){return e.updated__O__O__sci_Map(this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1).updated__O__O__sci_Map(this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2).updated__O__O__sci_Map(this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3)},iE.prototype.foreach__F1__V=function(e){e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1)),e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2)),e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3))},iE.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key1,this.sci_Map$Map3__f_value1)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key2,this.sci_Map$Map3__f_value2)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map3__f_key3,this.sci_Map$Map3__f_value3)))},iE.prototype.hashCode__I=function(){var e=0,t=0,_=1,r=Sv(),a=this.sci_Map$Map3__f_key1,n=this.sci_Map$Map3__f_value1,i=r.product2Hash__O__O__I__I(a,n,-889275714);e=e+i|0,t^=i,0!==i&&(_=Math.imul(_,i));var s=Sv(),o=this.sci_Map$Map3__f_key2,c=this.sci_Map$Map3__f_value2;e=e+(i=s.product2Hash__O__O__I__I(o,c,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i));var l=Sv(),p=this.sci_Map$Map3__f_key3,u=this.sci_Map$Map3__f_value3;return e=e+(i=l.product2Hash__O__O__I__I(p,u,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i)),i=Sv().s_util_hashing_MurmurHash3$__f_mapSeed,i=Sv().mix__I__I__I(i,e),i=Sv().mix__I__I__I(i,t),i=Sv().mixLast__I__I__I(i,_),Sv().finalizeHash__I__I__I(i,3)},iE.prototype.$plus__T2__sc_GenMap=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())};var oE=(new gp).initClass({sci_Map$Map3:0},!1,"scala.collection.immutable.Map$Map3",{sci_Map$Map3:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function cE(e,t,_,r,a,n,i,s){this.sci_Map$Map4__f_key1=null,this.sci_Map$Map4__f_value1=null,this.sci_Map$Map4__f_key2=null,this.sci_Map$Map4__f_value2=null,this.sci_Map$Map4__f_key3=null,this.sci_Map$Map4__f_value3=null,this.sci_Map$Map4__f_key4=null,this.sci_Map$Map4__f_value4=null,this.sci_Map$Map4__f_key1=e,this.sci_Map$Map4__f_value1=t,this.sci_Map$Map4__f_key2=_,this.sci_Map$Map4__f_value2=r,this.sci_Map$Map4__f_key3=a,this.sci_Map$Map4__f_value3=n,this.sci_Map$Map4__f_key4=i,this.sci_Map$Map4__f_value4=s}function lE(e){return e instanceof cE||null===e?e:Sl(e,"scala.collection.immutable.Map$Map4")}iE.prototype.$classData=oE,cE.prototype=new NR,cE.prototype.constructor=cE,cE.prototype,cE.prototype.size__I=function(){return 4},cE.prototype.apply__O__O=function(e){if(Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key1))return this.sci_Map$Map4__f_value1;if(Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key2))return this.sci_Map$Map4__f_value2;if(Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key3))return this.sci_Map$Map4__f_value3;if(Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key4))return this.sci_Map$Map4__f_value4;throw cI(new lI,"key not found: "+e)},cE.prototype.contains__O__Z=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key1)||Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key2)||Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key3)||Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key4)},cE.prototype.get__O__s_Option=function(e){return Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key1)?new GS(this.sci_Map$Map4__f_value1):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key2)?new GS(this.sci_Map$Map4__f_value2):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key3)?new GS(this.sci_Map$Map4__f_value3):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key4)?new GS(this.sci_Map$Map4__f_value4):kS()},cE.prototype.getOrElse__O__F0__O=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key1)?this.sci_Map$Map4__f_value1:Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key2)?this.sci_Map$Map4__f_value2:Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key3)?this.sci_Map$Map4__f_value3:Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key4)?this.sci_Map$Map4__f_value4:t.apply__O()},cE.prototype.scala$collection$immutable$Map$Map4$$_getKey__I__O=function(e){switch(e){case 0:return this.sci_Map$Map4__f_key1;case 1:return this.sci_Map$Map4__f_key2;case 2:return this.sci_Map$Map4__f_key3;case 3:return this.sci_Map$Map4__f_key4;default:throw new yI(e)}},cE.prototype.scala$collection$immutable$Map$Map4$$_getValue__I__O=function(e){switch(e){case 0:return this.sci_Map$Map4__f_value1;case 1:return this.sci_Map$Map4__f_value2;case 2:return this.sci_Map$Map4__f_value3;case 3:return this.sci_Map$Map4__f_value4;default:throw new yI(e)}},cE.prototype.iterator__sc_Iterator=function(){return new nT(this)},cE.prototype.updated__O__O__sci_Map=function(e,t){return Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key1)?new cE(this.sci_Map$Map4__f_key1,t,this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2,this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3,this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key2)?new cE(this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1,this.sci_Map$Map4__f_key2,t,this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3,this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key3)?new cE(this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1,this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2,this.sci_Map$Map4__f_key3,t,this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4):Qd().equals__O__O__Z(e,this.sci_Map$Map4__f_key4)?new cE(this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1,this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2,this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3,this.sci_Map$Map4__f_key4,t):(new bE).updated__O__O__sci_HashMap(this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1).updated__O__O__sci_HashMap(this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2).updated__O__O__sci_HashMap(this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3).updated__O__O__sci_HashMap(this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4).updated__O__O__sci_HashMap(e,t)},cE.prototype.$plus__T2__sci_Map=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())},cE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return sb().scala$collection$immutable$Map$$isMapCBF__scg_CanBuildFrom__Z(t)?null!==e&&e===KD()?this:e instanceof eE?tE(e).addTo__sci_Map__sci_Map(this):e instanceof rE?aE(e).addTo__sci_Map__sci_Map(this):e instanceof iE?sE(e).addTo__sci_Map__sci_Map(this):e instanceof cE?lE(e).addTo__sci_Map__sci_Map(this):hw(this,e,t):hw(this,e,t)},cE.prototype.addTo__sci_Map__sci_Map=function(e){return e.updated__O__O__sci_Map(this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1).updated__O__O__sci_Map(this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2).updated__O__O__sci_Map(this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3).updated__O__O__sci_Map(this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4)},cE.prototype.foreach__F1__V=function(e){e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1)),e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2)),e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3)),e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4))},cE.prototype.forall__F1__Z=function(e){return Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key1,this.sci_Map$Map4__f_value1)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key2,this.sci_Map$Map4__f_value2)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key3,this.sci_Map$Map4__f_value3)))&&Ql(e.apply__O__O(US(new ZS,this.sci_Map$Map4__f_key4,this.sci_Map$Map4__f_value4)))},cE.prototype.hashCode__I=function(){var e=0,t=0,_=1,r=Sv(),a=this.sci_Map$Map4__f_key1,n=this.sci_Map$Map4__f_value1,i=r.product2Hash__O__O__I__I(a,n,-889275714);e=e+i|0,t^=i,0!==i&&(_=Math.imul(_,i));var s=Sv(),o=this.sci_Map$Map4__f_key2,c=this.sci_Map$Map4__f_value2;e=e+(i=s.product2Hash__O__O__I__I(o,c,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i));var l=Sv(),p=this.sci_Map$Map4__f_key3,u=this.sci_Map$Map4__f_value3;e=e+(i=l.product2Hash__O__O__I__I(p,u,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i));var f=Sv(),h=this.sci_Map$Map4__f_key4,d=this.sci_Map$Map4__f_value4;return e=e+(i=f.product2Hash__O__O__I__I(h,d,-889275714))|0,t^=i,0!==i&&(_=Math.imul(_,i)),i=Sv().s_util_hashing_MurmurHash3$__f_mapSeed,i=Sv().mix__I__I__I(i,e),i=Sv().mix__I__I__I(i,t),i=Sv().mixLast__I__I__I(i,_),Sv().finalizeHash__I__I__I(i,4)},cE.prototype.$plus__T2__sc_GenMap=function(e){return this.updated__O__O__sci_Map(e._1__O(),e._2__O())};var pE=(new gp).initClass({sci_Map$Map4:0},!1,"scala.collection.immutable.Map$Map4",{sci_Map$Map4:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function uE(e){var t=e.sci_Range__f_end,_=t>>31,r=e.sci_Range__f_start,a=r>>31,n=t-r|0;return new Oh(n,(-2147483648^n)>(-2147483648^t)?(_-a|0)-1|0:_-a|0)}function fE(e){var t=uE(e),_=e.sci_Range__f_step,r=_>>31,a=Vh(),n=a.remainderImpl__I__I__I__I__I(t.RTLong__f_lo,t.RTLong__f_hi,_,r),i=a.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn;return 0===n&&0===i}function hE(e,t){return e.sci_Range__f_start+Math.imul(e.sci_Range__f_step,t)|0}function dE(e,t,_,r){if(e.sci_Range__f_start=t,e.sci_Range__f_end=_,e.sci_Range__f_step=r,e.sci_Range__f_isEmpty=t>_&&r>0||t<_&&r<0||t===_&&!e.isInclusive__Z(),0===r)throw Nb(new Ub,"step cannot be 0.");if(e.sci_Range__f_isEmpty)var a=0;else{var n=function(e){var t=uE(e),_=e.sci_Range__f_step,r=_>>31,a=Vh(),n=a.divideImpl__I__I__I__I__I(t.RTLong__f_lo,t.RTLong__f_hi,_,r),i=a.RTLong$__f_org$scalajs$linker$runtime$RuntimeLong$$hiReturn,s=function(e){return e.isInclusive__Z()||!fE(e)}(e)?1:0,o=s>>31,c=n+s|0;return new Oh(c,(-2147483648^c)<(-2147483648^n)?1+(i+o|0)|0:i+o|0)}(e),i=n.RTLong__f_lo,s=n.RTLong__f_hi;a=(0===s?(-2147483648^i)>-1:s>0)?-1:i}switch(e.sci_Range__f_scala$collection$immutable$Range$$numRangeElements=a,r){case 1:var o=e.isInclusive__Z()?_:-1+_|0;break;case-1:o=e.isInclusive__Z()?_:1+_|0;break;default:var c=uE(e),l=r>>31,p=Vh().remainderImpl__I__I__I__I__I(c.RTLong__f_lo,c.RTLong__f_hi,r,l);o=0!==p?_-p|0:e.isInclusive__Z()?_:_-r|0}return e.sci_Range__f_scala$collection$immutable$Range$$lastElement=o,e}function mE(){this.sci_Range__f_start=0,this.sci_Range__f_end=0,this.sci_Range__f_step=0,this.sci_Range__f_isEmpty=!1,this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements=0,this.sci_Range__f_scala$collection$immutable$Range$$lastElement=0}function yE(){}cE.prototype.$classData=pE,mE.prototype=new BR,mE.prototype.constructor=mE,yE.prototype=mE.prototype,mE.prototype.companion__scg_GenericCompanion=function(){return IO()},mE.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},mE.prototype.iterator__sc_Iterator=function(){return jA(this)},mE.prototype.sizeHintIfCheap__I=function(){return this.length__I()},mE.prototype.isEmpty__Z=function(){return this.sci_Range__f_isEmpty},mE.prototype.last__I=function(){return this.sci_Range__f_isEmpty?_p(iR(CB())):this.sci_Range__f_scala$collection$immutable$Range$$lastElement},mE.prototype.head__I=function(){return this.sci_Range__f_isEmpty?CB().head__E():this.sci_Range__f_start},mE.prototype.copy__I__I__I__sci_Range=function(e,t,_){return dE(new mE,e,t,_)},mE.prototype.isInclusive__Z=function(){return!1},mE.prototype.size__I=function(){return this.length__I()},mE.prototype.length__I=function(){return this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements<0?S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(this.sci_Range__f_start,this.sci_Range__f_end,this.sci_Range__f_step,this.isInclusive__Z()):this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements},mE.prototype.scala$collection$immutable$Range$$validateMaxLength__V=function(){this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements<0&&S$().scala$collection$immutable$Range$$fail__I__I__I__Z__E(this.sci_Range__f_start,this.sci_Range__f_end,this.sci_Range__f_step,this.isInclusive__Z())},mE.prototype.foreach__F1__V=function(e){if(!this.sci_Range__f_isEmpty)for(var t=this.sci_Range__f_start;;){if(e.apply__O__O(t),t===this.sci_Range__f_scala$collection$immutable$Range$$lastElement)return;t=t+this.sci_Range__f_step|0}},mE.prototype.take__I__sci_Range=function(e){if(e<=0||this.sci_Range__f_isEmpty){var t=this.sci_Range__f_start;return dE(new mE,t,t,this.sci_Range__f_step)}return e>=this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements&&this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements>=0?this:new qE(this.sci_Range__f_start,hE(this,-1+e|0),this.sci_Range__f_step)},mE.prototype.drop__I__sci_Range=function(e){if(e<=0||this.sci_Range__f_isEmpty)return this;if(e>=this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements&&this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements>=0){var t=this.sci_Range__f_end;return dE(new mE,t,t,this.sci_Range__f_step)}return this.copy__I__I__I__sci_Range(hE(this,e),this.sci_Range__f_end,this.sci_Range__f_step)},mE.prototype.init__sci_Range=function(){return this.sci_Range__f_isEmpty&&gw(CB()),this.dropRight__I__sci_Range(1)},mE.prototype.tail__sci_Range=function(){return this.sci_Range__f_isEmpty&&CB().tail__sci_List(),this.drop__I__sci_Range(1)},mE.prototype.takeRight__I__sci_Range=function(e){if(e<=0){var t=this.sci_Range__f_start;return dE(new mE,t,t,this.sci_Range__f_step)}if(this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements>=0)return this.drop__I__sci_Range(this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements-e|0);var _=this.last__I(),r=_>>31,a=this.sci_Range__f_step,n=a>>31,i=-1+e|0,s=i>>31,o=65535&a,c=a>>>16|0,l=65535&i,p=i>>>16|0,u=Math.imul(o,l),f=Math.imul(c,l),h=Math.imul(o,p),d=u+((f+h|0)<<16)|0,m=(u>>>16|0)+h|0,y=(((Math.imul(a,s)+Math.imul(n,i)|0)+Math.imul(c,p)|0)+(m>>>16|0)|0)+(((65535&m)+f|0)>>>16|0)|0,g=_-d|0,v=(-2147483648^g)>(-2147483648^_)?(r-y|0)-1|0:r-y|0;if(this.sci_Range__f_step>0)var $=this.sci_Range__f_start,x=$>>31,b=v===x?(-2147483648^g)<(-2147483648^$):v<x;else b=!1;if(b)var I=!0;else if(this.sci_Range__f_step<0){var L=this.sci_Range__f_start,S=L>>31;I=v===S?(-2147483648^g)>(-2147483648^L):v>S}else I=!1;return I?this:new qE(g,_,this.sci_Range__f_step)},mE.prototype.dropRight__I__sci_Range=function(e){if(e<=0)return this;if(this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements>=0)return this.take__I__sci_Range(this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements-e|0);var t=this.last__I()-Math.imul(this.sci_Range__f_step,e)|0;if(this.sci_Range__f_step>0&&t<this.sci_Range__f_start||this.sci_Range__f_step<0&&t>this.sci_Range__f_start){var _=this.sci_Range__f_start;return dE(new mE,_,_,this.sci_Range__f_step)}return new qE(this.sci_Range__f_start,t,this.sci_Range__f_step)},mE.prototype.reverse__sci_Range=function(){return this.sci_Range__f_isEmpty?this:new qE(this.last__I(),this.sci_Range__f_start,0|-this.sci_Range__f_step)},mE.prototype.equals__O__Z=function(e){if(e instanceof mE){var t=(r=e)instanceof mE||null===r?r:Sl(r,"scala.collection.immutable.Range");if(this.sci_Range__f_isEmpty)return t.sci_Range__f_isEmpty;if(t.sci_Range__f_isEmpty||this.sci_Range__f_start!==t.sci_Range__f_start)return!1;var _=this.last__I();return _===t.last__I()&&(this.sci_Range__f_start===_||this.sci_Range__f_step===t.sci_Range__f_step)}return nM(this,e);var r},mE.prototype.toString__T=function(){var e=this.isInclusive__Z()?"to":"until",t=1===this.sci_Range__f_step?"":" by "+this.sci_Range__f_step;return(this.sci_Range__f_isEmpty?"empty ":fE(this)?"":"inexact ")+"Range "+this.sci_Range__f_start+" "+e+" "+this.sci_Range__f_end+t},mE.prototype.apply$mcII$sp__I__I=function(e){if(this.scala$collection$immutable$Range$$validateMaxLength__V(),e<0||e>=this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements)throw Yb(new Qb,""+e);return this.sci_Range__f_start+Math.imul(this.sci_Range__f_step,e)|0},mE.prototype.thisCollection__sc_Traversable=function(){return this},mE.prototype.thisCollection__sc_Seq=function(){return this},mE.prototype.seq__sc_TraversableOnce=function(){return this},mE.prototype.seq__sc_Seq=function(){return this},mE.prototype.toSeq__sci_Seq=function(){return this},mE.prototype.reverse__O=function(){return this.reverse__sci_Range()},mE.prototype.takeRight__I__O=function(e){return this.takeRight__I__sci_Range(e)},mE.prototype.tail__O=function(){return this.tail__sci_Range()},mE.prototype.init__O=function(){return this.init__sci_Range()},mE.prototype.drop__I__O=function(e){return this.drop__I__sci_Range(e)},mE.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcII$sp__I__I(t)},mE.prototype.apply__I__O=function(e){return this.apply$mcII$sp__I__I(e)},mE.prototype.head__O=function(){return this.head__I()},mE.prototype.last__O=function(){return this.last__I()};var gE=(new gp).initClass({sci_Range:0},!1,"scala.collection.immutable.Range",{sci_Range:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_IndexedSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function vE(){}function $E(){}function xE(e){return e instanceof vE||null===e?e:Sl(e,"scala.collection.immutable.Stream")}function bE(){}function IE(){}function LE(e){return e instanceof bE||null===e?e:Sl(e,"scala.collection.immutable.HashMap")}mE.prototype.$classData=gE,vE.prototype=new BR,vE.prototype.constructor=vE,$E.prototype=vE.prototype,vE.prototype.apply__I__O=function(e){return aR(this,e)},vE.prototype.last__O=function(){return iR(this)},vE.prototype.sameElements__sc_GenIterable__Z=function(e){return sR(this,e)},vE.prototype.lengthCompare__I__I=function(e){return oR(this,e)},vE.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},vE.prototype.toSeq__sci_Seq=function(){return this},vE.prototype.companion__scg_GenericCompanion=function(){return lT()},vE.prototype.append__F0__sci_Stream=function(e){return this.isEmpty__Z()?Uh(e.apply__O()).toStream__sci_Stream():new PE(this.head__O(),new F$((()=>xE(this.tail__O()).append__F0__sci_Stream(e))))},vE.prototype.force__sci_Stream=function(){var e=this,t=this;for(e.isEmpty__Z()||(e=xE(e.tail__O()));t!==e;){if(e.isEmpty__Z())return this;if((e=xE(e.tail__O())).isEmpty__Z())return this;if((e=xE(e.tail__O()))===t)return this;t=xE(t.tail__O())}return this},vE.prototype.length__I=function(){for(var e=0,t=this;!t.isEmpty__Z();)e=1+e|0,t=xE(t.tail__O());return e},vE.prototype.toStream__sci_Stream=function(){return this},vE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){if(t.apply__O__scm_Builder(this)instanceof xM){if(this.isEmpty__Z())var _=e.toStream__sci_Stream();else _=new PE(this.head__O(),new F$((()=>{var t=xE(this.tail__O()).$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O(e,lT().sci_Stream$__f_ReusableCBF);return xE(t)})));return _}return hw(this,e,t)},vE.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){if(t.apply__O__scm_Builder(this)instanceof xM){if(this.isEmpty__Z())var _=NE();else _=new PE(e.apply__O__O(this.head__O()),new F$((()=>{var t=xE(this.tail__O()).map__F1__scg_CanBuildFrom__O(e,lT().sci_Stream$__f_ReusableCBF);return xE(t)})));return _}return dw(this,e,t)},vE.prototype.flatMap__F1__scg_CanBuildFrom__O=function(e,t){if(t.apply__O__scm_Builder(this)instanceof xM){if(this.isEmpty__Z())var _=NE();else{for(var r=new yv(this),a=Uh(e.apply__O__O(xE(r.sr_ObjectRef__f_elem).head__O())).toStream__sci_Stream();!xE(r.sr_ObjectRef__f_elem).isEmpty__Z()&&a.isEmpty__Z();)r.sr_ObjectRef__f_elem=xE(xE(r.sr_ObjectRef__f_elem).tail__O()),xE(r.sr_ObjectRef__f_elem).isEmpty__Z()||(a=Uh(e.apply__O__O(xE(r.sr_ObjectRef__f_elem).head__O())).toStream__sci_Stream());_=xE(r.sr_ObjectRef__f_elem).isEmpty__Z()?(lT(),NE()):a.append__F0__sci_Stream(new F$((()=>{var t=xE(xE(r.sr_ObjectRef__f_elem).tail__O()).flatMap__F1__scg_CanBuildFrom__O(e,lT().sci_Stream$__f_ReusableCBF);return xE(t)})))}return _}return mw(this,e,t)},vE.prototype.iterator__sc_Iterator=function(){return new AL(this)},vE.prototype.foreach__F1__V=function(e){for(var t=this;!t.isEmpty__Z();)e.apply__O__O(t.head__O()),t=xE(t.tail__O())},vE.prototype.foldLeft__O__F2__O=function(e,t){for(var _=this;;){if(_.isEmpty__Z())return e;var r=xE(_.tail__O()),a=t.apply__O__O__O(e,_.head__O());_=r,e=a}},vE.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){if(e.append__T__scm_StringBuilder(t),!this.isEmpty__Z()){e.append__O__scm_StringBuilder(this.head__O());var a=this,n=1;if(a.tailDefined__Z()){var i=xE(this.tail__O());if(i.isEmpty__Z())return e.append__T__scm_StringBuilder(r),e;if(a!==i&&(a=i,i.tailDefined__Z()))for(i=xE(i.tail__O());a!==i&&i.tailDefined__Z();)e.append__T__scm_StringBuilder(_).append__O__scm_StringBuilder(a.head__O()),n=1+n|0,a=xE(a.tail__O()),(i=xE(i.tail__O())).tailDefined__Z()&&(i=xE(i.tail__O()));if(i.tailDefined__Z()){for(var s=this,o=0;s!==i;)s=xE(s.tail__O()),i=xE(i.tail__O()),o=1+o|0;for(a===i&&o>0&&(e.append__T__scm_StringBuilder(_).append__O__scm_StringBuilder(a.head__O()),n=1+n|0,a=xE(a.tail__O()));a!==i;)e.append__T__scm_StringBuilder(_).append__O__scm_StringBuilder(a.head__O()),n=1+n|0,a=xE(a.tail__O());n=n-o|0}else{for(;a!==i;)e.append__T__scm_StringBuilder(_).append__O__scm_StringBuilder(a.head__O()),n=1+n|0,a=xE(a.tail__O());a.isEmpty__Z()||e.append__T__scm_StringBuilder(_).append__O__scm_StringBuilder(a.head__O())}}a.isEmpty__Z()||(a.tailDefined__Z()?e.append__T__scm_StringBuilder(_).append__T__scm_StringBuilder("..."):e.append__T__scm_StringBuilder(_).append__T__scm_StringBuilder("?"))}return e.append__T__scm_StringBuilder(r),e},vE.prototype.mkString__T__T__T__T=function(e,t,_){return this.force__sci_Stream(),_g(this,e,t,_)},vE.prototype.toString__T=function(){return _g(this,"Stream(",", ",")")},vE.prototype.take__I__sci_Stream=function(e){return e<=0||this.isEmpty__Z()?(lT(),NE()):new PE(this.head__O(),new F$(1===e?()=>(lT(),NE()):()=>xE(this.tail__O()).take__I__sci_Stream(-1+e|0)))},vE.prototype.drop__I__sci_Stream=function(e){for(var t=this;;){if(e<=0||t.isEmpty__Z())return t;var _=xE(t.tail__O());t=_,e=-1+e|0}},vE.prototype.init__sci_Stream=function(){return this.isEmpty__Z()?xE(gw(this)):(e=this.tail__O(),function(e){return!!(e&&e.$classData&&e.$classData.ancestors.sc_SeqLike)}(e)||null===e?e:Sl(e,"scala.collection.SeqLike")).isEmpty__Z()?NE():new PE(this.head__O(),new F$((()=>xE(this.tail__O()).init__sci_Stream())));var e},vE.prototype.takeRight__I__sci_Stream=function(e){for(var t=this,_=this.drop__I__sci_Stream(e);!_.isEmpty__Z();)t=xE(t.tail__O()),_=xE(_.tail__O());return t},vE.prototype.reverse__sci_Stream=function(){for(var e=new yv(NE()),t=this;!t.isEmpty__Z();){lT();var _=new F$((e=>()=>xE(e.sr_ObjectRef__f_elem))(e)),r=new ad(_).$hash$colon$colon__O__sci_Stream(t.head__O());r.tail__O(),e.sr_ObjectRef__f_elem=r,t=xE(t.tail__O())}return xE(e.sr_ObjectRef__f_elem)},vE.prototype.flatten__F1__sci_Stream=function(e){for(var t=new yv(this);!xE(t.sr_ObjectRef__f_elem).isEmpty__Z();){var _=Uh(e.apply__O__O(xE(t.sr_ObjectRef__f_elem).head__O()));if(!_.isEmpty__Z()){var r=_.toStream__sci_Stream();lT();var a=new F$(((e,t)=>()=>xE(xE(e.sr_ObjectRef__f_elem).tail__O()).flatten__F1__sci_Stream(t))(t,e));return new ad(a).$hash$colon$colon$colon__sci_Stream__sci_Stream(r)}t.sr_ObjectRef__f_elem=xE(xE(t.sr_ObjectRef__f_elem).tail__O())}return lT(),NE()},vE.prototype.stringPrefix__T=function(){return"Stream"},vE.prototype.equals__O__Z=function(e){return this===e||nM(this,e)},vE.prototype.thisCollection__sc_Traversable=function(){return this},vE.prototype.thisCollection__sc_Seq=function(){return this},vE.prototype.seq__sc_TraversableOnce=function(){return this},vE.prototype.seq__sc_Seq=function(){return this},vE.prototype.apply__O__O=function(e){return aR(this,_p(e))},vE.prototype.flatten__F1__sc_GenTraversable=function(e){return this.flatten__F1__sci_Stream(e)},vE.prototype.reverse__O=function(){return this.reverse__sci_Stream()},vE.prototype.takeRight__I__O=function(e){return this.takeRight__I__sci_Stream(e)},vE.prototype.init__O=function(){return this.init__sci_Stream()},vE.prototype.drop__I__O=function(e){return this.drop__I__sci_Stream(e)},vE.prototype.drop__I__sc_LinearSeqOptimized=function(e){return this.drop__I__sci_Stream(e)},vE.prototype.take__I__O=function(e){return this.take__I__sci_Stream(e)},bE.prototype=new NR,bE.prototype.constructor=bE,IE.prototype=bE.prototype,bE.prototype.size__I=function(){return 0},bE.prototype.iterator__sc_Iterator=function(){return Yh().sc_Iterator$__f_empty},bE.prototype.foreach__F1__V=function(e){},bE.prototype.foreachEntry__F2__V=function(e){},bE.prototype.hashCode__I=function(){if(pR(this))return Sv().s_util_hashing_MurmurHash3$__f_emptyMapHash;var e=new $$;return this.foreachEntry__F2__V(e),e.finalizeHash__I()},bE.prototype.get__O__s_Option=function(e){return this.get0__O__I__I__s_Option(e,this.computeHash__O__I(e),0)},bE.prototype.getOrElse__O__F0__O=function(e,t){return this.getOrElse0__O__I__I__F0__O(e,this.computeHash__O__I(e),0,t)},bE.prototype.contains__O__Z=function(e){return this.contains0__O__I__I__Z(e,this.computeHash__O__I(e),0)},bE.prototype.updated__O__O__sci_HashMap=function(e,t){return this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(e,this.computeHash__O__I(e),0,t,null,null)},bE.prototype.$plus__T2__sci_HashMap=function(e){return this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(e._1__O(),this.computeHash__O__I(e._1__O()),0,e._2__O(),e,null)},bE.prototype.improve__I__I=function(e){var t=e+~(e<<9)|0;return(t=(t^=t>>>14|0)+(t<<4)|0)^(t>>>10|0)},bE.prototype.computeHash__O__I=function(e){return this.improve__I__I(sm().anyHash__O__I(e))},bE.prototype.get0__O__I__I__s_Option=function(e,t,_){return kS()},bE.prototype.getOrElse0__O__I__I__F0__O=function(e,t,_,r){return r.apply__O()},bE.prototype.contains0__O__I__I__Z=function(e,t,_){return!1},bE.prototype.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap=function(e,t,_,r,a,n){return new mB(e,t,r,a)},bE.prototype.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap=function(e,t,_){return e},bE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){if(function(e,t){for(;;)return t===Tw().sci_HashMap$__f_ReusableCBF||t===sb().sci_Map$__f_ReusableCBF}(0,t)){if(this===e)return e;if(e.isEmpty__Z())return this;if(e instanceof bE)var _=LE(e),r=this.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(_,0,Tw().sci_HashMap$__f__concatMerger);else{var a=new yv(this);e.foreach__F1__V(new k$((e=>{var t=JS(e);a.sr_ObjectRef__f_elem=LE(a.sr_ObjectRef__f_elem).$plus__T2__sci_HashMap(t)}))),r=LE(a.sr_ObjectRef__f_elem)}return r}return hw(this,e,t)},bE.prototype.thisCollection__sc_Traversable=function(){return this},bE.prototype.seq__sc_TraversableOnce=function(){return this},bE.prototype.seq__sc_Map=function(){return this},bE.prototype.$plus__T2__sc_GenMap=function(e){return this.$plus__T2__sci_HashMap(e)},bE.prototype.$plus__T2__sci_Map=function(e){return this.$plus__T2__sci_HashMap(e)},bE.prototype.updated__O__O__sci_Map=function(e,t){return this.updated__O__O__sci_HashMap(e,t)},bE.prototype.empty__sc_Map=function(){return Tw(),dB()},bE.prototype.empty__sci_Map=function(){return Tw(),dB()};var SE=(new gp).initClass({sci_HashMap:0},!1,"scala.collection.immutable.HashMap",{sci_HashMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1,sci_HasForeachEntry:1});function ME(e,t){return t===eT().scg_GenTraversableFactory__f_ReusableCBFInstance||t===Ew().scg_GenTraversableFactory__f_ReusableCBFInstance||t===(ow||(ow=new sw),ow).scg_GenTraversableFactory__f_ReusableCBFInstance||t===Fw().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fw().scg_GenTraversableFactory__f_ReusableCBFInstance}function wE(){}function OE(){}function CE(e){return e instanceof wE||null===e?e:Sl(e,"scala.collection.immutable.List")}function TE(){}bE.prototype.$classData=SE,wE.prototype=new BR,wE.prototype.constructor=wE,OE.prototype=wE.prototype,wE.prototype.length__I=function(){return function(e){for(var t=e,_=0;!t.isEmpty__Z();)_=1+_|0,t=cR(t.tail__O());return _}(this)},wE.prototype.apply__I__O=function(e){return aR(this,e)},wE.prototype.foldLeft__O__F2__O=function(e,t){return nR(this,e,t)},wE.prototype.last__O=function(){return iR(this)},wE.prototype.sameElements__sc_GenIterable__Z=function(e){return sR(this,e)},wE.prototype.lengthCompare__I__I=function(e){return oR(this,e)},wE.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},wE.prototype.iterator__sc_Iterator=function(){return zA(this)},wE.prototype.toSeq__sci_Seq=function(){return this},wE.prototype.companion__scg_GenericCompanion=function(){return eT()},wE.prototype.$colon$colon$colon__sci_List__sci_List=function(e){return this.isEmpty__Z()?e:e.isEmpty__Z()?this:(new dV).$plus$plus$eq__sc_TraversableOnce__scm_ListBuffer(e).prependToList__sci_List__sci_List(this)},wE.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){return ME(0,t)?e.seq__sc_TraversableOnce().toList__sci_List().$colon$colon$colon__sci_List__sci_List(this):hw(this,e,t)},wE.prototype.toList__sci_List=function(){return this},wE.prototype.take__I__sci_List=function(e){if(this.isEmpty__Z()||e<=0)return CB();for(var t=new cB(this.head__O(),CB()),_=t,r=CE(this.tail__O()),a=1;;){if(r.isEmpty__Z())return this;if(!(a<e))break;a=1+a|0;var n=new cB(r.head__O(),CB());_.sci_$colon$colon__f_tl=n,_=n,r=CE(r.tail__O())}return t},wE.prototype.drop__I__sci_List=function(e){for(var t=this,_=e;!t.isEmpty__Z()&&_>0;)t=CE(t.tail__O()),_=-1+_|0;return t},wE.prototype.takeRight__I__sci_List=function(e){return function(e,t,_){for(;;){var r=t;if(CB().equals__O__Z(r))return _;if(!(r instanceof cB))throw new yI(r);var a=lB(r).sci_$colon$colon__f_tl,n=CE(_.tail__O());t=a,_=n}}(0,this.drop__I__sci_List(e),this)},wE.prototype.map__F1__scg_CanBuildFrom__O=function(e,t){if(ME(0,t)){if(this===CB())return CB();for(var _=new cB(e.apply__O__O(this.head__O()),CB()),r=_,a=CE(this.tail__O());a!==CB();){var n=new cB(e.apply__O__O(a.head__O()),CB());r.sci_$colon$colon__f_tl=n,r=n,a=CE(a.tail__O())}return _}return dw(this,e,t)},wE.prototype.flatMap__F1__scg_CanBuildFrom__O=function(e,t){if(ME(0,t)){if(this===CB())return CB();for(var _=this,r=null,a=null;_!==CB();){var n=Uh(e.apply__O__O(_.head__O())).seq__sc_TraversableOnce();if(_=CE(_.tail__O()),n!==CB()){if(null!==a){null===r&&(r=new g$(this));for(var i=r,s=a;!s.isEmpty__Z();){var o=s.head__O();i.apply__O__V(o),s=CE(s.tail__O())}a=null}n instanceof cB?a=lB(n):(null===r&&(r=new g$(this)),n.foreach__F1__V(r))}}if(null===r||null===r.sci_List$Appender$1__f_h)var c=null===a?CB():a;else null!==a&&r.appendLast__sci_$colon$colon__V(a),c=r.sci_List$Appender$1__f_h;return c}return mw(this,e,t)},wE.prototype.foreach__F1__V=function(e){for(var t=this;!t.isEmpty__Z();)e.apply__O__O(t.head__O()),t=CE(t.tail__O())},wE.prototype.reverse__sci_List=function(){for(var e=CB(),t=this;!t.isEmpty__Z();)e=new cB(t.head__O(),e),t=CE(t.tail__O());return e},wE.prototype.stringPrefix__T=function(){return"List"},wE.prototype.toStream__sci_Stream=function(){return this.isEmpty__Z()?NE():new PE(this.head__O(),new F$((()=>CE(this.tail__O()).toStream__sci_Stream())))},wE.prototype.thisCollection__sc_Traversable=function(){return this},wE.prototype.thisCollection__sc_Seq=function(){return this},wE.prototype.seq__sc_TraversableOnce=function(){return this},wE.prototype.seq__sc_Seq=function(){return this},wE.prototype.apply__O__O=function(e){return aR(this,_p(e))},wE.prototype.reverse__O=function(){return this.reverse__sci_List()},wE.prototype.takeRight__I__O=function(e){return this.takeRight__I__sci_List(e)},wE.prototype.drop__I__O=function(e){return this.drop__I__sci_List(e)},wE.prototype.drop__I__sc_LinearSeqOptimized=function(e){return this.drop__I__sci_List(e)},wE.prototype.take__I__O=function(e){return this.take__I__sci_List(e)},TE.prototype=new ZD,TE.prototype.constructor=TE,TE.prototype;var AE,RE=(new gp).initClass({sci_ListMap$EmptyListMap$:0},!1,"scala.collection.immutable.ListMap$EmptyListMap$",{sci_ListMap$EmptyListMap$:1,sci_ListMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function DE(){return AE||(AE=new TE),AE}function EE(e,t,_,r){for(;;){if(_.isEmpty__Z())return XD(iR(r));if(Qd().equals__O__O__Z(t,_.key__O())){for(var a=_.next__sci_ListMap(),n=r;!n.isEmpty__Z();){var i=a,s=n.head__O(),o=XD(i),c=XD(s);a=new BE(o,c.key__O(),c.value__O()),n=cR(n.tail__O())}return XD(a)}var l=_.next__sci_ListMap(),p=_;_=l,r=new cB(p,r)}}function BE(e,t,_){if(this.sci_ListMap$Node__f_key=null,this.sci_ListMap$Node__f_value=null,this.sci_ListMap$Node__f_$outer=null,this.sci_ListMap$Node__f_key=t,this.sci_ListMap$Node__f_value=_,null===e)throw null;this.sci_ListMap$Node__f_$outer=e}TE.prototype.$classData=RE,BE.prototype=new ZD,BE.prototype.constructor=BE,BE.prototype,BE.prototype.key__O=function(){return this.sci_ListMap$Node__f_key},BE.prototype.value__O=function(){return this.sci_ListMap$Node__f_value},BE.prototype.size__I=function(){return function(e,t,_){for(;;){if(t.isEmpty__Z())return _;var r=t.next__sci_ListMap();t=r,_=1+_|0}}(0,this,0)},BE.prototype.isEmpty__Z=function(){return!1},BE.prototype.apply__O__O=function(e){return function(e,t,_){for(;;){if(t.isEmpty__Z())throw cI(new lI,"key not found: "+_);if(Qd().equals__O__O__Z(_,t.key__O()))return t.value__O();t=t.next__sci_ListMap()}}(0,this,e)},BE.prototype.get__O__s_Option=function(e){return function(e,t,_){for(;;){if(t.isEmpty__Z())return kS();if(Qd().equals__O__O__Z(_,t.key__O()))return new GS(t.value__O());t=t.next__sci_ListMap()}}(0,this,e)},BE.prototype.contains__O__Z=function(e){return function(e,t,_){for(;;){if(t.isEmpty__Z())return!1;if(Qd().equals__O__O__Z(_,t.key__O()))return!0;t=t.next__sci_ListMap()}}(0,this,e)},BE.prototype.updated__O__O__sci_ListMap=function(e,t){return new BE(EE(0,e,this,CB()),e,t)},BE.prototype.$plus__T2__sci_ListMap=function(e){return new BE(EE(0,e._1__O(),this,CB()),e._1__O(),e._2__O())},BE.prototype.next__sci_ListMap=function(){return this.sci_ListMap$Node__f_$outer},BE.prototype.$plus__T2__sc_GenMap=function(e){return this.$plus__T2__sci_ListMap(e)},BE.prototype.$plus__T2__sci_Map=function(e){return this.$plus__T2__sci_ListMap(e)},BE.prototype.updated__O__O__sci_Map=function(e,t){return this.updated__O__O__sci_ListMap(e,t)};var VE=(new gp).initClass({sci_ListMap$Node:0},!1,"scala.collection.immutable.ListMap$Node",{sci_ListMap$Node:1,sci_ListMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sci_HasForeachEntry:1});function qE(e,t,_){this.sci_Range__f_start=0,this.sci_Range__f_end=0,this.sci_Range__f_step=0,this.sci_Range__f_isEmpty=!1,this.sci_Range__f_scala$collection$immutable$Range$$numRangeElements=0,this.sci_Range__f_scala$collection$immutable$Range$$lastElement=0,dE(this,e,t,_)}BE.prototype.$classData=VE,qE.prototype=new yE,qE.prototype.constructor=qE,qE.prototype,qE.prototype.isInclusive__Z=function(){return!0},qE.prototype.copy__I__I__I__sci_Range=function(e,t,_){return new qE(e,t,_)};var HE=(new gp).initClass({sci_Range$Inclusive:0},!1,"scala.collection.immutable.Range$Inclusive",{sci_Range$Inclusive:1,sci_Range:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_IndexedSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function PE(e,t){this.sci_Stream$Cons__f_hd=null,this.sci_Stream$Cons__f_tlVal=null,this.sci_Stream$Cons__f_tlGen=null,this.sci_Stream$Cons__f_hd=e,this.sci_Stream$Cons__f_tlGen=t}function jE(e){return e instanceof PE||null===e?e:Sl(e,"scala.collection.immutable.Stream$Cons")}qE.prototype.$classData=HE,PE.prototype=new $E,PE.prototype.constructor=PE,PE.prototype,PE.prototype.isEmpty__Z=function(){return!1},PE.prototype.head__O=function(){return this.sci_Stream$Cons__f_hd},PE.prototype.tailDefined__Z=function(){return null===this.sci_Stream$Cons__f_tlGen},PE.prototype.tail__sci_Stream=function(){return this.tailDefined__Z()||this.tailDefined__Z()||(this.sci_Stream$Cons__f_tlVal=xE(this.sci_Stream$Cons__f_tlGen.apply__O()),this.sci_Stream$Cons__f_tlGen=null),this.sci_Stream$Cons__f_tlVal},PE.prototype.sameElements__sc_GenIterable__Z=function(e){return e instanceof PE?function(e,t,_){for(;;){if(!Qd().equals__O__O__Z(t.sci_Stream$Cons__f_hd,_.sci_Stream$Cons__f_hd))return!1;var r=t.tail__sci_Stream();if(!(r instanceof PE))return _.tail__sci_Stream().isEmpty__Z();var a=jE(r),n=_.tail__sci_Stream();if(!(n instanceof PE))return!1;var i=jE(n);if(a===i)return!0;t=a,_=i}}(0,this,jE(e)):sR(this,e)},PE.prototype.tail__O=function(){return this.tail__sci_Stream()};var FE=(new gp).initClass({sci_Stream$Cons:0},!1,"scala.collection.immutable.Stream$Cons",{sci_Stream$Cons:1,sci_Stream:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_LinearSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_LinearSeq:1,sc_LinearSeqLike:1,sc_LinearSeqOptimized:1,s_Serializable:1,Ljava_io_Serializable:1});function zE(){}PE.prototype.$classData=FE,zE.prototype=new $E,zE.prototype.constructor=zE,zE.prototype,zE.prototype.isEmpty__Z=function(){return!0},zE.prototype.head__E=function(){throw cI(new lI,"head of empty stream")},zE.prototype.tail__E=function(){throw new sI("tail of empty stream")},zE.prototype.tailDefined__Z=function(){return!1},zE.prototype.tail__O=function(){this.tail__E()},zE.prototype.head__O=function(){this.head__E()};var kE,GE=(new gp).initClass({sci_Stream$Empty$:0},!1,"scala.collection.immutable.Stream$Empty$",{sci_Stream$Empty$:1,sci_Stream:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_LinearSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_LinearSeq:1,sc_LinearSeqLike:1,sc_LinearSeqOptimized:1,s_Serializable:1,Ljava_io_Serializable:1});function NE(){return kE||(kE=new zE),kE}function WE(e,t,_,r){e.sci_Vector__f_dirty?function(e,t,_,r){if(r<32){var a=e.display0__AO();e.display0_$eq__AO__V(hd(0,a))}else if(r<1024){var n=e.display1__AO();e.display1_$eq__AO__V(hd(0,n)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO());var i=e.display1__AO(),s=31&(_>>>5|0);e.display0_$eq__AO__V(dd(0,i,s))}else if(r<32768){var o=e.display1__AO();e.display1_$eq__AO__V(hd(0,o));var c=e.display2__AO();e.display2_$eq__AO__V(hd(0,c)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO());var l=e.display2__AO(),p=31&(_>>>10|0);e.display1_$eq__AO__V(dd(0,l,p));var u=e.display1__AO(),f=31&(_>>>5|0);e.display0_$eq__AO__V(dd(0,u,f))}else if(r<1048576){var h=e.display1__AO();e.display1_$eq__AO__V(hd(0,h));var d=e.display2__AO();e.display2_$eq__AO__V(hd(0,d));var m=e.display3__AO();e.display3_$eq__AO__V(hd(0,m)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO());var y=e.display3__AO(),g=31&(_>>>15|0);e.display2_$eq__AO__V(dd(0,y,g));var v=e.display2__AO(),$=31&(_>>>10|0);e.display1_$eq__AO__V(dd(0,v,$));var x=e.display1__AO(),b=31&(_>>>5|0);e.display0_$eq__AO__V(dd(0,x,b))}else if(r<33554432){var I=e.display1__AO();e.display1_$eq__AO__V(hd(0,I));var L=e.display2__AO();e.display2_$eq__AO__V(hd(0,L));var S=e.display3__AO();e.display3_$eq__AO__V(hd(0,S));var M=e.display4__AO();e.display4_$eq__AO__V(hd(0,M)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display4__AO().set(31&(t>>>20|0),e.display3__AO());var w=e.display4__AO(),O=31&(_>>>20|0);e.display3_$eq__AO__V(dd(0,w,O));var C=e.display3__AO(),T=31&(_>>>15|0);e.display2_$eq__AO__V(dd(0,C,T));var A=e.display2__AO(),R=31&(_>>>10|0);e.display1_$eq__AO__V(dd(0,A,R));var D=e.display1__AO(),E=31&(_>>>5|0);e.display0_$eq__AO__V(dd(0,D,E))}else{if(!(r<1073741824))throw Wb(new Ub);var B=e.display1__AO();e.display1_$eq__AO__V(hd(0,B));var V=e.display2__AO();e.display2_$eq__AO__V(hd(0,V));var q=e.display3__AO();e.display3_$eq__AO__V(hd(0,q));var H=e.display4__AO();e.display4_$eq__AO__V(hd(0,H));var P=e.display5__AO();e.display5_$eq__AO__V(hd(0,P)),e.display1__AO().set(31&(t>>>5|0),e.display0__AO()),e.display2__AO().set(31&(t>>>10|0),e.display1__AO()),e.display3__AO().set(31&(t>>>15|0),e.display2__AO()),e.display4__AO().set(31&(t>>>20|0),e.display3__AO()),e.display5__AO().set(31&(t>>>25|0),e.display4__AO());var j=e.display5__AO(),F=31&(_>>>25|0);e.display4_$eq__AO__V(dd(0,j,F));var z=e.display4__AO(),k=31&(_>>>20|0);e.display3_$eq__AO__V(dd(0,z,k));var G=e.display3__AO(),N=31&(_>>>15|0);e.display2_$eq__AO__V(dd(0,G,N));var W=e.display2__AO(),U=31&(_>>>10|0);e.display1_$eq__AO__V(dd(0,W,U));var Z=e.display1__AO(),X=31&(_>>>5|0);e.display0_$eq__AO__V(dd(0,Z,X))}}(e,t,_,r):(function(e,t,_){var r=-1+e.depth__I()|0;switch(r){case 5:var a=e.display5__AO();e.display5_$eq__AO__V(hd(0,a));var n=e.display5__AO(),i=31&(t>>>25|0);e.display4_$eq__AO__V(dd(0,n,i));var s=e.display4__AO(),o=31&(t>>>20|0);e.display3_$eq__AO__V(dd(0,s,o));var c=e.display3__AO(),l=31&(t>>>15|0);e.display2_$eq__AO__V(dd(0,c,l));var p=e.display2__AO(),u=31&(t>>>10|0);e.display1_$eq__AO__V(dd(0,p,u));var f=e.display1__AO(),h=31&(t>>>5|0);e.display0_$eq__AO__V(dd(0,f,h));break;case 4:var d=e.display4__AO();e.display4_$eq__AO__V(hd(0,d));var m=e.display4__AO(),y=31&(t>>>20|0);e.display3_$eq__AO__V(dd(0,m,y));var g=e.display3__AO(),v=31&(t>>>15|0);e.display2_$eq__AO__V(dd(0,g,v));var $=e.display2__AO(),x=31&(t>>>10|0);e.display1_$eq__AO__V(dd(0,$,x));var b=e.display1__AO(),I=31&(t>>>5|0);e.display0_$eq__AO__V(dd(0,b,I));break;case 3:var L=e.display3__AO();e.display3_$eq__AO__V(hd(0,L));var S=e.display3__AO(),M=31&(t>>>15|0);e.display2_$eq__AO__V(dd(0,S,M));var w=e.display2__AO(),O=31&(t>>>10|0);e.display1_$eq__AO__V(dd(0,w,O));var C=e.display1__AO(),T=31&(t>>>5|0);e.display0_$eq__AO__V(dd(0,C,T));break;case 2:var A=e.display2__AO();e.display2_$eq__AO__V(hd(0,A));var R=e.display2__AO(),D=31&(t>>>10|0);e.display1_$eq__AO__V(dd(0,R,D));var E=e.display1__AO(),B=31&(t>>>5|0);e.display0_$eq__AO__V(dd(0,E,B));break;case 1:var V=e.display1__AO();e.display1_$eq__AO__V(hd(0,V));var q=e.display1__AO(),H=31&(t>>>5|0);e.display0_$eq__AO__V(dd(0,q,H));break;case 0:var P=e.display0__AO();e.display0_$eq__AO__V(hd(0,P));break;default:throw new yI(r)}}(e,_),e.sci_Vector__f_dirty=!0)}function UE(e,t,_,r){e.sci_Vector__f_dirty?function(e,t,_,r){md(e,t),gd(e,t,_,r)}(e,t,_,r):(gd(e,t,_,r),e.sci_Vector__f_dirty=!0)}function ZE(e,t,_){var r=-1+e.sci_Vector__f_depth|0;switch(r){case 0:var a=e.sci_Vector__f_display0;e.sci_Vector__f_display0=yd(0,a,t,_);break;case 1:var n=e.sci_Vector__f_display1;e.sci_Vector__f_display1=yd(0,n,t,_);break;case 2:var i=e.sci_Vector__f_display2;e.sci_Vector__f_display2=yd(0,i,t,_);break;case 3:var s=e.sci_Vector__f_display3;e.sci_Vector__f_display3=yd(0,s,t,_);break;case 4:var o=e.sci_Vector__f_display4;e.sci_Vector__f_display4=yd(0,o,t,_);break;case 5:var c=e.sci_Vector__f_display5;e.sci_Vector__f_display5=yd(0,c,t,_);break;default:throw new yI(r)}}function XE(e,t,_){for(var r=0;r<_;)t.set(r,null),r=1+r|0}function JE(e,t,_){for(var r=_;r<t.u.length;)t.set(r,null),r=1+r|0}function YE(e,t,_){var r=new op(t.u.length);return kl(t,0,r,0,_),r}function QE(e,t,_){var r=new op(t.u.length);return kl(t,_,r,_,r.u.length-_|0),r}function KE(e,t){e.sci_Vector__f_depth=t;var _=-1+t|0;switch(_){case 0:e.sci_Vector__f_display1=null,e.sci_Vector__f_display2=null,e.sci_Vector__f_display3=null,e.sci_Vector__f_display4=null,e.sci_Vector__f_display5=null;break;case 1:e.sci_Vector__f_display2=null,e.sci_Vector__f_display3=null,e.sci_Vector__f_display4=null,e.sci_Vector__f_display5=null;break;case 2:e.sci_Vector__f_display3=null,e.sci_Vector__f_display4=null,e.sci_Vector__f_display5=null;break;case 3:e.sci_Vector__f_display4=null,e.sci_Vector__f_display5=null;break;case 4:e.sci_Vector__f_display5=null;break;case 5:break;default:throw new yI(_)}}function eB(e,t){if(t<32)return 1;if(t<1024)return 2;if(t<32768)return 3;if(t<1048576)return 4;if(t<33554432)return 5;if(t<1073741824)return 6;throw Wb(new Ub)}function tB(e,t){var _=-32&t,r=eB(0,t^(-1+e.sci_Vector__f_endIndex|0)),a=t&~((1<<Math.imul(5,r))-1|0),n=new _B(t-a|0,e.sci_Vector__f_endIndex-a|0,_-a|0);return ud(n,e,e.sci_Vector__f_depth),n.sci_Vector__f_dirty=e.sci_Vector__f_dirty,WE(n,e.sci_Vector__f_focus,_,e.sci_Vector__f_focus^_),KE(n,r),function(e,t){if(t<32)XE(0,e.sci_Vector__f_display0,t);else if(t<1024)XE(0,e.sci_Vector__f_display0,31&t),e.sci_Vector__f_display1=QE(0,e.sci_Vector__f_display1,t>>>5|0);else if(t<32768)XE(0,e.sci_Vector__f_display0,31&t),e.sci_Vector__f_display1=QE(0,e.sci_Vector__f_display1,31&(t>>>5|0)),e.sci_Vector__f_display2=QE(0,e.sci_Vector__f_display2,t>>>10|0);else if(t<1048576)XE(0,e.sci_Vector__f_display0,31&t),e.sci_Vector__f_display1=QE(0,e.sci_Vector__f_display1,31&(t>>>5|0)),e.sci_Vector__f_display2=QE(0,e.sci_Vector__f_display2,31&(t>>>10|0)),e.sci_Vector__f_display3=QE(0,e.sci_Vector__f_display3,t>>>15|0);else if(t<33554432)XE(0,e.sci_Vector__f_display0,31&t),e.sci_Vector__f_display1=QE(0,e.sci_Vector__f_display1,31&(t>>>5|0)),e.sci_Vector__f_display2=QE(0,e.sci_Vector__f_display2,31&(t>>>10|0)),e.sci_Vector__f_display3=QE(0,e.sci_Vector__f_display3,31&(t>>>15|0)),e.sci_Vector__f_display4=QE(0,e.sci_Vector__f_display4,t>>>20|0);else{if(!(t<1073741824))throw Wb(new Ub);XE(0,e.sci_Vector__f_display0,31&t),e.sci_Vector__f_display1=QE(0,e.sci_Vector__f_display1,31&(t>>>5|0)),e.sci_Vector__f_display2=QE(0,e.sci_Vector__f_display2,31&(t>>>10|0)),e.sci_Vector__f_display3=QE(0,e.sci_Vector__f_display3,31&(t>>>15|0)),e.sci_Vector__f_display4=QE(0,e.sci_Vector__f_display4,31&(t>>>20|0)),e.sci_Vector__f_display5=QE(0,e.sci_Vector__f_display5,t>>>25|0)}}(n,t-a|0),n}function _B(e,t,_){this.sci_Vector__f_startIndex=0,this.sci_Vector__f_endIndex=0,this.sci_Vector__f_focus=0,this.sci_Vector__f_dirty=!1,this.sci_Vector__f_depth=0,this.sci_Vector__f_display0=null,this.sci_Vector__f_display1=null,this.sci_Vector__f_display2=null,this.sci_Vector__f_display3=null,this.sci_Vector__f_display4=null,this.sci_Vector__f_display5=null,this.sci_Vector__f_startIndex=e,this.sci_Vector__f_endIndex=t,this.sci_Vector__f_focus=_,this.sci_Vector__f_dirty=!1}function rB(e){return e instanceof _B||null===e?e:Sl(e,"scala.collection.immutable.Vector")}zE.prototype.$classData=GE,_B.prototype=new BR,_B.prototype.constructor=_B,_B.prototype,_B.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},_B.prototype.sizeHintIfCheap__I=function(){return this.length__I()},_B.prototype.toSeq__sci_Seq=function(){return this},_B.prototype.depth__I=function(){return this.sci_Vector__f_depth},_B.prototype.depth_$eq__I__V=function(e){this.sci_Vector__f_depth=e},_B.prototype.display0__AO=function(){return this.sci_Vector__f_display0},_B.prototype.display0_$eq__AO__V=function(e){this.sci_Vector__f_display0=e},_B.prototype.display1__AO=function(){return this.sci_Vector__f_display1},_B.prototype.display1_$eq__AO__V=function(e){this.sci_Vector__f_display1=e},_B.prototype.display2__AO=function(){return this.sci_Vector__f_display2},_B.prototype.display2_$eq__AO__V=function(e){this.sci_Vector__f_display2=e},_B.prototype.display3__AO=function(){return this.sci_Vector__f_display3},_B.prototype.display3_$eq__AO__V=function(e){this.sci_Vector__f_display3=e},_B.prototype.display4__AO=function(){return this.sci_Vector__f_display4},_B.prototype.display4_$eq__AO__V=function(e){this.sci_Vector__f_display4=e},_B.prototype.display5__AO=function(){return this.sci_Vector__f_display5},_B.prototype.display5_$eq__AO__V=function(e){this.sci_Vector__f_display5=e},_B.prototype.companion__scg_GenericCompanion=function(){return oA()},_B.prototype.length__I=function(){return this.sci_Vector__f_endIndex-this.sci_Vector__f_startIndex|0},_B.prototype.toVector__sci_Vector=function(){return this},_B.prototype.lengthCompare__I__I=function(e){return this.length__I()-e|0},_B.prototype.initIterator__sci_VectorIterator__V=function(e){ud(e,this,this.sci_Vector__f_depth),this.sci_Vector__f_dirty&&md(e,this.sci_Vector__f_focus),e.sci_VectorIterator__f_depth>1&&fd(e,this.sci_Vector__f_startIndex,this.sci_Vector__f_startIndex^this.sci_Vector__f_focus)},_B.prototype.iterator__sci_VectorIterator=function(){if(0===this.length__I())return oA().sci_Vector$__f_scala$collection$immutable$Vector$$emptyIterator;var e=new MM(this.sci_Vector__f_startIndex,this.sci_Vector__f_endIndex);return this.initIterator__sci_VectorIterator__V(e),e},_B.prototype.apply__I__O=function(e){var t=function(e,t){var _=t+e.sci_Vector__f_startIndex|0;if(t>=0&&_<e.sci_Vector__f_endIndex)return _;throw Yb(new Qb,""+t)}(this,e);return function(e,t,_){if(_<32)return e.display0__AO().get(31&t);if(_<1024)return vp(e.display1__AO().get(31&(t>>>5|0)),1).get(31&t);if(_<32768)return vp(vp(e.display2__AO().get(31&(t>>>10|0)),1).get(31&(t>>>5|0)),1).get(31&t);if(_<1048576)return vp(vp(vp(e.display3__AO().get(31&(t>>>15|0)),1).get(31&(t>>>10|0)),1).get(31&(t>>>5|0)),1).get(31&t);if(_<33554432)return vp(vp(vp(vp(e.display4__AO().get(31&(t>>>20|0)),1).get(31&(t>>>15|0)),1).get(31&(t>>>10|0)),1).get(31&(t>>>5|0)),1).get(31&t);if(_<1073741824)return vp(vp(vp(vp(vp(e.display5__AO().get(31&(t>>>25|0)),1).get(31&(t>>>20|0)),1).get(31&(t>>>15|0)),1).get(31&(t>>>10|0)),1).get(31&(t>>>5|0)),1).get(31&t);throw Wb(new Ub)}(this,t,t^this.sci_Vector__f_focus)},_B.prototype.$plus$colon__O__scg_CanBuildFrom__O=function(e,t){return t===oA().scg_GenTraversableFactory__f_ReusableCBFInstance||t===IO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===Fw().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fw().scg_GenTraversableFactory__f_ReusableCBFInstance?this.appendFront__O__sci_Vector(e):function(e,t,_){var r=_.apply__O__scm_Builder(e.repr__O());return r.$plus$eq__O__scm_Builder(t),r.$plus$plus$eq__sc_TraversableOnce__scg_Growable(e.thisCollection__sc_Seq()),r.result__O()}(this,e,t)},_B.prototype.$colon$plus__O__scg_CanBuildFrom__O=function(e,t){return t===oA().scg_GenTraversableFactory__f_ReusableCBFInstance||t===IO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===Fw().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fw().scg_GenTraversableFactory__f_ReusableCBFInstance?this.appendBack__O__sci_Vector(e):EA(this,e,t)},_B.prototype.drop__I__sci_Vector=function(e){return e<=0?this:this.sci_Vector__f_startIndex<(this.sci_Vector__f_endIndex-e|0)?tB(this,this.sci_Vector__f_startIndex+e|0):oA().sci_Vector$__f_NIL},_B.prototype.takeRight__I__sci_Vector=function(e){return e<=0?oA().sci_Vector$__f_NIL:(this.sci_Vector__f_endIndex-e|0)>this.sci_Vector__f_startIndex?tB(this,this.sci_Vector__f_endIndex-e|0):this},_B.prototype.dropRight__I__sci_Vector=function(e){return e<=0?this:(this.sci_Vector__f_endIndex-e|0)>this.sci_Vector__f_startIndex?(t=this,_=this.sci_Vector__f_endIndex-e|0,r=-32&(-1+_|0),a=eB(0,t.sci_Vector__f_startIndex^(-1+_|0)),n=t.sci_Vector__f_startIndex&~((1<<Math.imul(5,a))-1|0),ud(i=new _B(t.sci_Vector__f_startIndex-n|0,_-n|0,r-n|0),t,t.sci_Vector__f_depth),i.sci_Vector__f_dirty=t.sci_Vector__f_dirty,WE(i,t.sci_Vector__f_focus,r,t.sci_Vector__f_focus^r),KE(i,a),function(e,t){if(t<=32)JE(0,e.sci_Vector__f_display0,t);else if(t<=1024)JE(0,e.sci_Vector__f_display0,1+(31&(-1+t|0))|0),e.sci_Vector__f_display1=YE(0,e.sci_Vector__f_display1,t>>>5|0);else if(t<=32768)JE(0,e.sci_Vector__f_display0,1+(31&(-1+t|0))|0),e.sci_Vector__f_display1=YE(0,e.sci_Vector__f_display1,1+(31&((-1+t|0)>>>5|0))|0),e.sci_Vector__f_display2=YE(0,e.sci_Vector__f_display2,t>>>10|0);else if(t<=1048576)JE(0,e.sci_Vector__f_display0,1+(31&(-1+t|0))|0),e.sci_Vector__f_display1=YE(0,e.sci_Vector__f_display1,1+(31&((-1+t|0)>>>5|0))|0),e.sci_Vector__f_display2=YE(0,e.sci_Vector__f_display2,1+(31&((-1+t|0)>>>10|0))|0),e.sci_Vector__f_display3=YE(0,e.sci_Vector__f_display3,t>>>15|0);else if(t<=33554432)JE(0,e.sci_Vector__f_display0,1+(31&(-1+t|0))|0),e.sci_Vector__f_display1=YE(0,e.sci_Vector__f_display1,1+(31&((-1+t|0)>>>5|0))|0),e.sci_Vector__f_display2=YE(0,e.sci_Vector__f_display2,1+(31&((-1+t|0)>>>10|0))|0),e.sci_Vector__f_display3=YE(0,e.sci_Vector__f_display3,1+(31&((-1+t|0)>>>15|0))|0),e.sci_Vector__f_display4=YE(0,e.sci_Vector__f_display4,t>>>20|0);else{if(!(t<=1073741824))throw Wb(new Ub);JE(0,e.sci_Vector__f_display0,1+(31&(-1+t|0))|0),e.sci_Vector__f_display1=YE(0,e.sci_Vector__f_display1,1+(31&((-1+t|0)>>>5|0))|0),e.sci_Vector__f_display2=YE(0,e.sci_Vector__f_display2,1+(31&((-1+t|0)>>>10|0))|0),e.sci_Vector__f_display3=YE(0,e.sci_Vector__f_display3,1+(31&((-1+t|0)>>>15|0))|0),e.sci_Vector__f_display4=YE(0,e.sci_Vector__f_display4,1+(31&((-1+t|0)>>>20|0))|0),e.sci_Vector__f_display5=YE(0,e.sci_Vector__f_display5,t>>>25|0)}}(i,_-n|0),i):oA().sci_Vector$__f_NIL;var t,_,r,a,n,i},_B.prototype.head__O=function(){if(DA(this))throw new sI("empty.head");return this.apply__I__O(0)},_B.prototype.tail__sci_Vector=function(){if(DA(this))throw new sI("empty.tail");return this.drop__I__sci_Vector(1)},_B.prototype.last__O=function(){if(DA(this))throw new sI("empty.last");return this.apply__I__O(-1+this.length__I()|0)},_B.prototype.init__sci_Vector=function(){if(DA(this))throw new sI("empty.init");return this.dropRight__I__sci_Vector(1)},_B.prototype.$plus$plus__sc_GenTraversableOnce__scg_CanBuildFrom__O=function(e,t){if(t===oA().scg_GenTraversableFactory__f_ReusableCBFInstance||t===IO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fO().scg_GenTraversableFactory__f_ReusableCBFInstance||t===Fw().scg_GenTraversableFactory__f_ReusableCBFInstance||t===fw().scg_GenTraversableFactory__f_ReusableCBFInstance){if(e.isEmpty__Z())return this;var _=e.isTraversableAgain__Z()?e.seq__sc_TraversableOnce():e.toVector__sci_Vector(),r=_.size__I();if(r<=2||r<(this.length__I()>>>5|0)){var a=new yv(this);return _.foreach__F1__V(new k$((e=>{var t=rB(a.sr_ObjectRef__f_elem),_=oA();a.sr_ObjectRef__f_elem=rB(t.$colon$plus__O__scg_CanBuildFrom__O(e,_.scg_GenTraversableFactory__f_ReusableCBFInstance))}))),rB(a.sr_ObjectRef__f_elem)}if(this.length__I()<(r>>>5|0)&&_ instanceof _B){for(var n=rB(_),i=new FL(this);i.hasNext__Z();){var s=i.next__O(),o=n,c=oA();n=rB(o.$plus$colon__O__scg_CanBuildFrom__O(s,c.scg_GenTraversableFactory__f_ReusableCBFInstance))}return n}return hw(this,_,t)}return hw(this,e.seq__sc_TraversableOnce(),t)},_B.prototype.appendFront__O__sci_Vector=function(e){if(this.sci_Vector__f_endIndex!==this.sci_Vector__f_startIndex){var t=-32&(-1+this.sci_Vector__f_startIndex|0),_=31&(-1+this.sci_Vector__f_startIndex|0);if(this.sci_Vector__f_startIndex!==(32+t|0)){var r=new _B(-1+this.sci_Vector__f_startIndex|0,this.sci_Vector__f_endIndex,t);return ud(r,this,this.sci_Vector__f_depth),r.sci_Vector__f_dirty=this.sci_Vector__f_dirty,WE(r,this.sci_Vector__f_focus,t,this.sci_Vector__f_focus^t),r.sci_Vector__f_display0.set(_,e),r}var a=(1<<Math.imul(5,this.sci_Vector__f_depth))-this.sci_Vector__f_endIndex|0,n=a&~((1<<Math.imul(5,-1+this.sci_Vector__f_depth|0))-1|0),i=a>>>Math.imul(5,-1+this.sci_Vector__f_depth|0)|0;if(0!==n){if(this.sci_Vector__f_depth>1){var s=t+n|0,o=this.sci_Vector__f_focus+n|0,c=new _B((-1+this.sci_Vector__f_startIndex|0)+n|0,this.sci_Vector__f_endIndex+n|0,s);return ud(c,this,this.sci_Vector__f_depth),c.sci_Vector__f_dirty=this.sci_Vector__f_dirty,ZE(c,0,i),UE(c,o,s,o^s),c.sci_Vector__f_display0.set(_,e),c}var l=32+t|0,p=this.sci_Vector__f_focus,u=new _B((-1+this.sci_Vector__f_startIndex|0)+n|0,this.sci_Vector__f_endIndex+n|0,l);return ud(u,this,this.sci_Vector__f_depth),u.sci_Vector__f_dirty=this.sci_Vector__f_dirty,ZE(u,0,i),WE(u,p,l,p^l),u.sci_Vector__f_display0.set(-1+n|0,e),u}if(t<0){var f=(1<<Math.imul(5,1+this.sci_Vector__f_depth|0))-(1<<Math.imul(5,this.sci_Vector__f_depth))|0,h=t+f|0,d=this.sci_Vector__f_focus+f|0,m=new _B((-1+this.sci_Vector__f_startIndex|0)+f|0,this.sci_Vector__f_endIndex+f|0,h);return ud(m,this,this.sci_Vector__f_depth),m.sci_Vector__f_dirty=this.sci_Vector__f_dirty,UE(m,d,h,d^h),m.sci_Vector__f_display0.set(_,e),m}var y=this.sci_Vector__f_focus,g=new _B(-1+this.sci_Vector__f_startIndex|0,this.sci_Vector__f_endIndex,t);return ud(g,this,this.sci_Vector__f_depth),g.sci_Vector__f_dirty=this.sci_Vector__f_dirty,UE(g,y,t,y^t),g.sci_Vector__f_display0.set(_,e),g}var v=new op(32);v.set(31,e);var $=new _B(31,32,0);return $.sci_Vector__f_depth=1,$.sci_Vector__f_display0=v,$},_B.prototype.appendBack__O__sci_Vector=function(e){if(this.sci_Vector__f_endIndex!==this.sci_Vector__f_startIndex){var t=-32&this.sci_Vector__f_endIndex,_=31&this.sci_Vector__f_endIndex;if(this.sci_Vector__f_endIndex!==t){var r=new _B(this.sci_Vector__f_startIndex,1+this.sci_Vector__f_endIndex|0,t);return ud(r,this,this.sci_Vector__f_depth),r.sci_Vector__f_dirty=this.sci_Vector__f_dirty,WE(r,this.sci_Vector__f_focus,t,this.sci_Vector__f_focus^t),r.sci_Vector__f_display0.set(_,e),r}var a=this.sci_Vector__f_startIndex&~((1<<Math.imul(5,-1+this.sci_Vector__f_depth|0))-1|0),n=this.sci_Vector__f_startIndex>>>Math.imul(5,-1+this.sci_Vector__f_depth|0)|0;if(0!==a){if(this.sci_Vector__f_depth>1){var i=t-a|0,s=this.sci_Vector__f_focus-a|0,o=new _B(this.sci_Vector__f_startIndex-a|0,(1+this.sci_Vector__f_endIndex|0)-a|0,i);return ud(o,this,this.sci_Vector__f_depth),o.sci_Vector__f_dirty=this.sci_Vector__f_dirty,ZE(o,n,0),UE(o,s,i,s^i),o.sci_Vector__f_display0.set(_,e),o}var c=-32+t|0,l=this.sci_Vector__f_focus,p=new _B(this.sci_Vector__f_startIndex-a|0,(1+this.sci_Vector__f_endIndex|0)-a|0,c);return ud(p,this,this.sci_Vector__f_depth),p.sci_Vector__f_dirty=this.sci_Vector__f_dirty,ZE(p,n,0),WE(p,l,c,l^c),p.sci_Vector__f_display0.set(32-a|0,e),p}var u=this.sci_Vector__f_focus,f=new _B(this.sci_Vector__f_startIndex,1+this.sci_Vector__f_endIndex|0,t);return ud(f,this,this.sci_Vector__f_depth),f.sci_Vector__f_dirty=this.sci_Vector__f_dirty,UE(f,u,t,u^t),f.sci_Vector__f_display0.set(_,e),f}var h=new op(32);h.set(0,e);var d=new _B(0,1,0);return d.sci_Vector__f_depth=1,d.sci_Vector__f_display0=h,d},_B.prototype.thisCollection__sc_Traversable=function(){return this},_B.prototype.thisCollection__sc_Seq=function(){return this},_B.prototype.seq__sc_TraversableOnce=function(){return this},_B.prototype.seq__sc_Seq=function(){return this},_B.prototype.init__O=function(){return this.init__sci_Vector()},_B.prototype.tail__O=function(){return this.tail__sci_Vector()},_B.prototype.takeRight__I__O=function(e){return this.takeRight__I__sci_Vector(e)},_B.prototype.drop__I__O=function(e){return this.drop__I__sci_Vector(e)},_B.prototype.apply__O__O=function(e){return this.apply__I__O(_p(e))},_B.prototype.iterator__sc_Iterator=function(){return this.iterator__sci_VectorIterator()};var aB=(new gp).initClass({sci_Vector:0},!1,"scala.collection.immutable.Vector",{sci_Vector:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_IndexedSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,sci_VectorPointer:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1});function nB(e){this.sci_WrappedString__f_self=null,this.sci_WrappedString__f_self=e}_B.prototype.$classData=aB,nB.prototype=new BR,nB.prototype.constructor=nB,nB.prototype,nB.prototype.isEmpty__Z=function(){return GA(this)},nB.prototype.foreach__F1__V=function(e){NA(this,e)},nB.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.sci_WrappedString__f_self.length,e,t)},nB.prototype.head__O=function(){return ZA(this)},nB.prototype.tail__O=function(){return XA(this)},nB.prototype.last__O=function(){return JA(this)},nB.prototype.init__O=function(){return YA(this)},nB.prototype.drop__I__O=function(e){var t=this.sci_WrappedString__f_self.length;return this.slice__I__I__sci_WrappedString(e,t)},nB.prototype.takeRight__I__O=function(e){return QA(this,e)},nB.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},nB.prototype.copyToArray__O__I__I__V=function(e,t,_){eR(this,e,t,_)},nB.prototype.lengthCompare__I__I=function(e){return tR(this,e)},nB.prototype.reverse__O=function(){return _R(this)},nB.prototype.toList__sci_List=function(){return rR(this)},nB.prototype.companion__scg_GenericCompanion=function(){return IO()},nB.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},nB.prototype.iterator__sc_Iterator=function(){return jA(this)},nB.prototype.sizeHintIfCheap__I=function(){return this.sci_WrappedString__f_self.length},nB.prototype.toSeq__sci_Seq=function(){return this},nB.prototype.newBuilder__scm_Builder=function(){return bd().newBuilder__scm_Builder()},nB.prototype.slice__I__I__sci_WrappedString=function(e,t){var _=e<0?0:e;if(t<=_)var r=!0;else r=_>=this.sci_WrappedString__f_self.length;if(r)return new nB("");if(t>this.sci_WrappedString__f_self.length)var a=this.sci_WrappedString__f_self.length;else a=t;var n=Uv().unwrapString__sci_WrappedString__T(this);return _<0&&jl(n,_),a>n.length&&jl(n,a),a<_&&jl(n,-1),new nB(CS(n.substring(_,a)))},nB.prototype.length__I=function(){return this.sci_WrappedString__f_self.length},nB.prototype.toString__T=function(){return this.sci_WrappedString__f_self},nB.prototype.seq__sc_TraversableOnce=function(){return this},nB.prototype.seq__sc_Seq=function(){return this},nB.prototype.apply__O__O=function(e){var t=_p(e);return Yl(jl(this.sci_WrappedString__f_self,t))},nB.prototype.apply__I__O=function(e){return Yl(jl(this.sci_WrappedString__f_self,e))},nB.prototype.slice__I__I__O=function(e,t){return this.slice__I__I__sci_WrappedString(e,t)},nB.prototype.thisCollection__sc_Traversable=function(){return this},nB.prototype.thisCollection__sc_Seq=function(){return this};var iB=(new gp).initClass({sci_WrappedString:0},!1,"scala.collection.immutable.WrappedString",{sci_WrappedString:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_IndexedSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,sci_StringLike:1,sc_IndexedSeqOptimized:1,s_math_Ordered:1,jl_Comparable:1});function sB(e,t){if(t>=e.scm_ArrayBuffer__f_size0)throw Yb(new Qb,""+t);return e.scm_ArrayBuffer__f_array.get(t)}function oB(e,t){var _=e.scm_ArrayBuffer__f_array.u.length,r=_>>31,a=t>>31;if(a===r?(-2147483648^t)>(-2147483648^_):a>r){for(var n=_<<1,i=_>>>31|0|r<<1;;){var s=t>>31;if(!(s===i?(-2147483648^t)>(-2147483648^n):s>i))break;var o=n;n=o<<1,i=o>>>31|0|i<<1}(0===i?(-2147483648^n)>-1:i>0)&&(n=2147483647,i=0);var c=new op(n);kl(e.scm_ArrayBuffer__f_array,0,c,0,e.scm_ArrayBuffer__f_size0),e.scm_ArrayBuffer__f_array=c}}function cB(e,t){this.sci_$colon$colon__f_head=null,this.sci_$colon$colon__f_tl=null,this.sci_$colon$colon__f_head=e,this.sci_$colon$colon__f_tl=t}function lB(e){return e instanceof cB||null===e?e:Sl(e,"scala.collection.immutable.$colon$colon")}nB.prototype.$classData=iB,cB.prototype=new OE,cB.prototype.constructor=cB,cB.prototype,cB.prototype.head__O=function(){return this.sci_$colon$colon__f_head},cB.prototype.isEmpty__Z=function(){return!1},cB.prototype.productPrefix__T=function(){return"::"},cB.prototype.productArity__I=function(){return 2},cB.prototype.productElement__I__O=function(e){switch(e){case 0:return this.sci_$colon$colon__f_head;case 1:return this.sci_$colon$colon__f_tl;default:throw Yb(new Qb,""+e)}},cB.prototype.productIterator__sc_Iterator=function(){return new oS(this)},cB.prototype.tail__O=function(){return this.sci_$colon$colon__f_tl};var pB=(new gp).initClass({sci_$colon$colon:0},!1,"scala.collection.immutable.$colon$colon",{sci_$colon$colon:1,sci_List:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_LinearSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_LinearSeq:1,sc_LinearSeqLike:1,s_Product:1,sc_LinearSeqOptimized:1,s_Serializable:1,Ljava_io_Serializable:1});function uB(){}cB.prototype.$classData=pB,uB.prototype=new IE,uB.prototype.constructor=uB,uB.prototype,uB.prototype.head__T2=function(){throw cI(new lI,"Empty Map")},uB.prototype.head__O=function(){return this.head__T2()};var fB,hB=(new gp).initClass({sci_HashMap$EmptyHashMap$:0},!1,"scala.collection.immutable.HashMap$EmptyHashMap$",{sci_HashMap$EmptyHashMap$:1,sci_HashMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1,sci_HasForeachEntry:1});function dB(){return fB||(fB=new uB),fB}function mB(e,t,_,r){this.sci_HashMap$HashMap1__f_key=null,this.sci_HashMap$HashMap1__f_hash=0,this.sci_HashMap$HashMap1__f_value=null,this.sci_HashMap$HashMap1__f_kvOrNull=null,this.sci_HashMap$HashMap1__f_key=e,this.sci_HashMap$HashMap1__f_hash=t,this.sci_HashMap$HashMap1__f_value=_,this.sci_HashMap$HashMap1__f_kvOrNull=r}function yB(e){return e instanceof mB||null===e?e:Sl(e,"scala.collection.immutable.HashMap$HashMap1")}uB.prototype.$classData=hB,mB.prototype=new IE,mB.prototype.constructor=mB,mB.prototype,mB.prototype.size__I=function(){return 1},mB.prototype.get0__O__I__I__s_Option=function(e,t,_){return t===this.sci_HashMap$HashMap1__f_hash&&Qd().equals__O__O__Z(e,this.sci_HashMap$HashMap1__f_key)?new GS(this.sci_HashMap$HashMap1__f_value):kS()},mB.prototype.getOrElse0__O__I__I__F0__O=function(e,t,_,r){return t===this.sci_HashMap$HashMap1__f_hash&&Qd().equals__O__O__Z(e,this.sci_HashMap$HashMap1__f_key)?this.sci_HashMap$HashMap1__f_value:r.apply__O()},mB.prototype.contains0__O__I__I__Z=function(e,t,_){return t===this.sci_HashMap$HashMap1__f_hash&&Qd().equals__O__O__Z(e,this.sci_HashMap$HashMap1__f_key)},mB.prototype.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap=function(e,t,_,r,a,n){if(t===this.sci_HashMap$HashMap1__f_hash){if(Qd().equals__O__O__Z(e,this.sci_HashMap$HashMap1__f_key)){if(null===n)return Object.is(this.sci_HashMap$HashMap1__f_value,r)?this:new mB(this.sci_HashMap$HashMap1__f_key,t,r,Object.is(this.sci_HashMap$HashMap1__f_key,e)?a:null);if(Object.is(e,this.sci_HashMap$HashMap1__f_key)&&Object.is(r,this.sci_HashMap$HashMap1__f_value)&&n.retainIdentical__Z())return this;var i=this.ensurePair__T2(),s=n.apply__T2__T2__T2(i,null!==a?a:US(new ZS,e,r));return i===s||Object.is(this.sci_HashMap$HashMap1__f_key,s._1__O())&&Object.is(this.sci_HashMap$HashMap1__f_value,s._2__O())?this:new mB(s._1__O(),t,s._2__O(),s)}return mM(),new vB(t,new BE(DE(),this.sci_HashMap$HashMap1__f_key,this.sci_HashMap$HashMap1__f_value).updated__O__O__sci_ListMap(e,r))}var o=new mB(e,t,r,a);return Tw().scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap(this.sci_HashMap$HashMap1__f_hash,this,t,o,_,2)},mB.prototype.iterator__sc_Iterator=function(){Yh();var e=[this.ensurePair__T2()];return jA(bV(new IV,e))},mB.prototype.foreach__F1__V=function(e){e.apply__O__O(this.ensurePair__T2())},mB.prototype.foreachEntry__F2__V=function(e){e.apply__O__O__O(this.sci_HashMap$HashMap1__f_key,this.sci_HashMap$HashMap1__f_value)},mB.prototype.ensurePair__T2=function(){return null!==this.sci_HashMap$HashMap1__f_kvOrNull||(this.sci_HashMap$HashMap1__f_kvOrNull=US(new ZS,this.sci_HashMap$HashMap1__f_key,this.sci_HashMap$HashMap1__f_value)),this.sci_HashMap$HashMap1__f_kvOrNull},mB.prototype.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap=function(e,t,_){if(e instanceof mB){var r=yB(e);return this===r&&_.retainIdentical__Z()?this:this.sci_HashMap$HashMap1__f_hash===r.sci_HashMap$HashMap1__f_hash&&Qd().equals__O__O__Z(this.sci_HashMap$HashMap1__f_key,r.sci_HashMap$HashMap1__f_key)?_===Tw().sci_HashMap$__f__defaultMerger?this:_===Tw().sci_HashMap$__f__defaultMerger.invert__sci_HashMap$Merger()?r:this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(r.sci_HashMap$HashMap1__f_key,r.sci_HashMap$HashMap1__f_hash,t,r.sci_HashMap$HashMap1__f_value,r.ensurePair__T2(),_):this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(r.sci_HashMap$HashMap1__f_key,r.sci_HashMap$HashMap1__f_hash,t,r.sci_HashMap$HashMap1__f_value,r.ensurePair__T2(),_)}return e.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(this.sci_HashMap$HashMap1__f_key,this.sci_HashMap$HashMap1__f_hash,t,this.sci_HashMap$HashMap1__f_value,this.ensurePair__T2(),_.invert__sci_HashMap$Merger())},mB.prototype.equals__O__Z=function(e){if(e instanceof mB){var t=yB(e);return this===t||t.sci_HashMap$HashMap1__f_hash===this.sci_HashMap$HashMap1__f_hash&&Qd().equals__O__O__Z(t.sci_HashMap$HashMap1__f_key,this.sci_HashMap$HashMap1__f_key)&&Qd().equals__O__O__Z(t.sci_HashMap$HashMap1__f_value,this.sci_HashMap$HashMap1__f_value)}return!(e instanceof bE)&&aM(this,e)};var gB=(new gp).initClass({sci_HashMap$HashMap1:0},!1,"scala.collection.immutable.HashMap$HashMap1",{sci_HashMap$HashMap1:1,sci_HashMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1,sci_HasForeachEntry:1});function vB(e,t){this.sci_HashMap$HashMapCollision1__f_hash=0,this.sci_HashMap$HashMapCollision1__f_kvs=null,this.sci_HashMap$HashMapCollision1__f_hash=e,this.sci_HashMap$HashMapCollision1__f_kvs=t}function $B(e){return e instanceof vB||null===e?e:Sl(e,"scala.collection.immutable.HashMap$HashMapCollision1")}mB.prototype.$classData=gB,vB.prototype=new IE,vB.prototype.constructor=vB,vB.prototype,vB.prototype.size__I=function(){return this.sci_HashMap$HashMapCollision1__f_kvs.size__I()},vB.prototype.get0__O__I__I__s_Option=function(e,t,_){return t===this.sci_HashMap$HashMapCollision1__f_hash?this.sci_HashMap$HashMapCollision1__f_kvs.get__O__s_Option(e):kS()},vB.prototype.getOrElse0__O__I__I__F0__O=function(e,t,_,r){return t===this.sci_HashMap$HashMapCollision1__f_hash?uR(this.sci_HashMap$HashMapCollision1__f_kvs,e,r):r.apply__O()},vB.prototype.contains0__O__I__I__Z=function(e,t,_){return t===this.sci_HashMap$HashMapCollision1__f_hash&&this.sci_HashMap$HashMapCollision1__f_kvs.contains__O__Z(e)},vB.prototype.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap=function(e,t,_,r,a,n){if(t===this.sci_HashMap$HashMapCollision1__f_hash)return null!==n&&this.sci_HashMap$HashMapCollision1__f_kvs.contains__O__Z(e)?new vB(t,this.sci_HashMap$HashMapCollision1__f_kvs.$plus__T2__sci_ListMap(n.apply__T2__T2__T2(US(new ZS,e,this.sci_HashMap$HashMapCollision1__f_kvs.apply__O__O(e)),a))):new vB(t,this.sci_HashMap$HashMapCollision1__f_kvs.updated__O__O__sci_ListMap(e,r));var i=new mB(e,t,r,a);return Tw().scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap(this.sci_HashMap$HashMapCollision1__f_hash,this,t,i,_,1+this.sci_HashMap$HashMapCollision1__f_kvs.size__I()|0)},vB.prototype.iterator__sc_Iterator=function(){return zA(WD(this.sci_HashMap$HashMapCollision1__f_kvs))},vB.prototype.foreach__F1__V=function(e){Qv(zA(WD(this.sci_HashMap$HashMapCollision1__f_kvs)),e)},vB.prototype.foreachEntry__F2__V=function(e){this.sci_HashMap$HashMapCollision1__f_kvs.foreachEntry__F2__V(e)},vB.prototype.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap=function(e,t,_){if(e instanceof IB)return LB(e).merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(this,t,_.invert__sci_HashMap$Merger());if(e instanceof mB){var r=yB(e);return r.sci_HashMap$HashMap1__f_hash!==this.sci_HashMap$HashMapCollision1__f_hash?Tw().scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap(this.sci_HashMap$HashMapCollision1__f_hash,this,r.sci_HashMap$HashMap1__f_hash,r,t,1+this.sci_HashMap$HashMapCollision1__f_kvs.size__I()|0):this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(r.sci_HashMap$HashMap1__f_key,r.sci_HashMap$HashMap1__f_hash,t,r.sci_HashMap$HashMap1__f_value,r.ensurePair__T2(),_)}if(e instanceof vB){var a=$B(e);if(a.sci_HashMap$HashMapCollision1__f_hash!==this.sci_HashMap$HashMapCollision1__f_hash)return Tw().scala$collection$immutable$HashMap$$makeHashTrieMap__I__sci_HashMap__I__sci_HashMap__I__I__sci_HashMap$HashTrieMap(this.sci_HashMap$HashMapCollision1__f_hash,this,a.sci_HashMap$HashMapCollision1__f_hash,a,t,a.sci_HashMap$HashMapCollision1__f_kvs.size__I()+this.sci_HashMap$HashMapCollision1__f_kvs.size__I()|0);if(_.retainIdentical__Z()&&a===this)return this;if(_===Tw().sci_HashMap$__f__defaultMerger||_===Tw().sci_HashMap$__f__defaultMerger.invert__sci_HashMap$Merger()){var n=_===Tw().sci_HashMap$__f__defaultMerger?a.sci_HashMap$HashMapCollision1__f_kvs.$plus$plus__sc_GenTraversableOnce__sci_ListMap(this.sci_HashMap$HashMapCollision1__f_kvs):this.sci_HashMap$HashMapCollision1__f_kvs.$plus$plus__sc_GenTraversableOnce__sci_ListMap(a.sci_HashMap$HashMapCollision1__f_kvs);return n===this.sci_HashMap$HashMapCollision1__f_kvs?this:n===a.sci_HashMap$HashMapCollision1__f_kvs?a:new vB(this.sci_HashMap$HashMapCollision1__f_hash,n)}var i=null;if(i=null,this.sci_HashMap$HashMapCollision1__f_kvs.size__I()>=a.sci_HashMap$HashMapCollision1__f_kvs.size__I()){i=this;for(var s=zA(WD(a.sci_HashMap$HashMapCollision1__f_kvs));s.hasNext__Z();){var o=JS(s.next__O());i=LE(i).updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(o._1__O(),this.sci_HashMap$HashMapCollision1__f_hash,t,o._2__O(),o,_)}}else{i=a;for(var c=zA(WD(this.sci_HashMap$HashMapCollision1__f_kvs));c.hasNext__Z();){var l=JS(c.next__O());i=LE(i).updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(l._1__O(),this.sci_HashMap$HashMapCollision1__f_hash,t,l._2__O(),l,_.invert__sci_HashMap$Merger())}}return LE(i)}if(e===dB())return this;throw new yI(e)},vB.prototype.equals__O__Z=function(e){if(e instanceof vB){var t=$B(e);if(this===t)return!0;if(t.sci_HashMap$HashMapCollision1__f_hash===this.sci_HashMap$HashMapCollision1__f_hash){var _=t.sci_HashMap$HashMapCollision1__f_kvs,r=this.sci_HashMap$HashMapCollision1__f_kvs;return null===_?null===r:aM(_,r)}return!1}return!(e instanceof bE)&&aM(this,e)};var xB=(new gp).initClass({sci_HashMap$HashMapCollision1:0},!1,"scala.collection.immutable.HashMap$HashMapCollision1",{sci_HashMap$HashMapCollision1:1,sci_HashMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1,sci_HasForeachEntry:1});function bB(e,t,_,r,a){for(var n=null,i=0,s=0,o=t.sci_HashMap$HashTrieMap__f_bitmap0,c=_.sci_HashMap$HashTrieMap__f_bitmap0,l=t.sci_HashMap$HashTrieMap__f_elems0,p=_.sci_HashMap$HashTrieMap__f_elems0,u=0,f=c^c&(-1+c|0);0!==f;){var h=o&(-1+f|0);i=i+by().bitCount__I__I(h)|0,o^=h;var d=l.get(i),m=p.get(s),y=d===m&&r.retainIdentical__Z()?d:d.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(m,5+a|0,r);y!==d&&(null===n&&(n=l.clone__O()),u=u+(y.size__I()-d.size__I()|0)|0,n.set(i,y)),o^=f,f=(c^=f)^c&(-1+c|0),i=1+i|0,s=1+s|0}return null===n?t:new IB(t.sci_HashMap$HashTrieMap__f_bitmap0,n,t.sci_HashMap$HashTrieMap__f_size0+u|0)}function IB(e,t,_){this.sci_HashMap$HashTrieMap__f_bitmap0=0,this.sci_HashMap$HashTrieMap__f_elems0=null,this.sci_HashMap$HashTrieMap__f_size0=0,this.sci_HashMap$HashTrieMap__f_bitmap0=e,this.sci_HashMap$HashTrieMap__f_elems0=t,this.sci_HashMap$HashTrieMap__f_size0=_}function LB(e){return e instanceof IB||null===e?e:Sl(e,"scala.collection.immutable.HashMap$HashTrieMap")}vB.prototype.$classData=xB,IB.prototype=new IE,IB.prototype.constructor=IB,IB.prototype,IB.prototype.size__I=function(){return this.sci_HashMap$HashTrieMap__f_size0},IB.prototype.get0__O__I__I__s_Option=function(e,t,_){var r=31&(t>>>_|0);if(-1===this.sci_HashMap$HashTrieMap__f_bitmap0)return this.sci_HashMap$HashTrieMap__f_elems0.get(r).get0__O__I__I__s_Option(e,t,5+_|0);var a=1<<r;if(0!=(this.sci_HashMap$HashTrieMap__f_bitmap0&a)){var n=this.sci_HashMap$HashTrieMap__f_bitmap0&(-1+a|0),i=by().bitCount__I__I(n);return this.sci_HashMap$HashTrieMap__f_elems0.get(i).get0__O__I__I__s_Option(e,t,5+_|0)}return kS()},IB.prototype.getOrElse0__O__I__I__F0__O=function(e,t,_,r){var a=31&(t>>>_|0);if(-1===this.sci_HashMap$HashTrieMap__f_bitmap0)return this.sci_HashMap$HashTrieMap__f_elems0.get(a).getOrElse0__O__I__I__F0__O(e,t,5+_|0,r);var n=1<<a;if(0!=(this.sci_HashMap$HashTrieMap__f_bitmap0&n)){var i=this.sci_HashMap$HashTrieMap__f_bitmap0&(-1+n|0),s=by().bitCount__I__I(i);return this.sci_HashMap$HashTrieMap__f_elems0.get(s).getOrElse0__O__I__I__F0__O(e,t,5+_|0,r)}return r.apply__O()},IB.prototype.contains0__O__I__I__Z=function(e,t,_){var r=31&(t>>>_|0);if(-1===this.sci_HashMap$HashTrieMap__f_bitmap0)return this.sci_HashMap$HashTrieMap__f_elems0.get(r).contains0__O__I__I__Z(e,t,5+_|0);var a=1<<r;if(0!=(this.sci_HashMap$HashTrieMap__f_bitmap0&a)){var n=this.sci_HashMap$HashTrieMap__f_bitmap0&(-1+a|0),i=by().bitCount__I__I(n);return this.sci_HashMap$HashTrieMap__f_elems0.get(i).contains0__O__I__I__Z(e,t,5+_|0)}return!1},IB.prototype.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap=function(e,t,_,r,a,n){var i=1<<(31&(t>>>_|0)),s=this.sci_HashMap$HashTrieMap__f_bitmap0&(-1+i|0),o=by().bitCount__I__I(s);if(0!=(this.sci_HashMap$HashTrieMap__f_bitmap0&i)){var c=this.sci_HashMap$HashTrieMap__f_elems0.get(o),l=c.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(e,t,5+_|0,r,a,n);if(l===c)return this;var p=this.sci_HashMap$HashTrieMap__f_elems0.clone__O();return p.set(o,l),new IB(this.sci_HashMap$HashTrieMap__f_bitmap0,p,this.sci_HashMap$HashTrieMap__f_size0+(l.size__I()-c.size__I()|0)|0)}var u=new(SE.getArrayOf().constr)(1+this.sci_HashMap$HashTrieMap__f_elems0.u.length|0);return kl(this.sci_HashMap$HashTrieMap__f_elems0,0,u,0,o),u.set(o,new mB(e,t,r,a)),kl(this.sci_HashMap$HashTrieMap__f_elems0,o,u,1+o|0,this.sci_HashMap$HashTrieMap__f_elems0.u.length-o|0),new IB(this.sci_HashMap$HashTrieMap__f_bitmap0|i,u,1+this.sci_HashMap$HashTrieMap__f_size0|0)},IB.prototype.iterator__sc_Iterator=function(){return new cM(this)},IB.prototype.foreach__F1__V=function(e){for(var t=0;t<this.sci_HashMap$HashTrieMap__f_elems0.u.length;)this.sci_HashMap$HashTrieMap__f_elems0.get(t).foreach__F1__V(e),t=1+t|0},IB.prototype.foreachEntry__F2__V=function(e){for(var t=0;t<this.sci_HashMap$HashTrieMap__f_elems0.u.length;)this.sci_HashMap$HashTrieMap__f_elems0.get(t).foreachEntry__F2__V(e),t=1+t|0},IB.prototype.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap=function(e,t,_){if(e instanceof mB){var r=yB(e);return this.updated0__O__I__I__O__T2__sci_HashMap$Merger__sci_HashMap(r.sci_HashMap$HashMap1__f_key,r.sci_HashMap$HashMap1__f_hash,t,r.sci_HashMap$HashMap1__f_value,r.ensurePair__T2(),_)}if(e instanceof IB){var a=LB(e),n=this.sci_HashMap$HashTrieMap__f_bitmap0,i=a.sci_HashMap$HashTrieMap__f_bitmap0,s=n|i;return this===a&&_.retainIdentical__Z()?this:s===n&&(s!==i||this.sci_HashMap$HashTrieMap__f_size0>=a.sci_HashMap$HashTrieMap__f_size0)?bB(0,this,a,_,t):s===i?bB(0,a,this,_.invert__sci_HashMap$Merger(),t):0==(n&i)?function(e,t){for(var _=0,r=0,a=0,n=e.sci_HashMap$HashTrieMap__f_bitmap0,i=t.sci_HashMap$HashTrieMap__f_bitmap0,s=e.sci_HashMap$HashTrieMap__f_elems0,o=t.sci_HashMap$HashTrieMap__f_elems0,c=n|i,l=c,p=new(SE.getArrayOf().constr)(by().bitCount__I__I(l)),u=c^c&(-1+c|0);0!==u;)0!=(u&n)?(p.set(a,s.get(_)),_=1+_|0):(p.set(a,o.get(r)),r=1+r|0),a=1+a|0,u=(c^=u)^c&(-1+c|0);return new IB(n|i,p,e.sci_HashMap$HashTrieMap__f_size0+t.sci_HashMap$HashTrieMap__f_size0|0)}(this,a):function(e,t,_,r){for(var a=0,n=0,i=e.sci_HashMap$HashTrieMap__f_bitmap0,s=t.sci_HashMap$HashTrieMap__f_bitmap0,o=e.sci_HashMap$HashTrieMap__f_elems0,c=t.sci_HashMap$HashTrieMap__f_elems0,l=i|s,p=l,u=new(SE.getArrayOf().constr)(by().bitCount__I__I(p)),f=0,h=0,d=l^l&(-1+l|0),m=null;0!==d;){if(0!=(d&i))if(0!=(d&s)){var y=o.get(a),g=c.get(n);m=y===g&&_.retainIdentical__Z()?y:y.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(g,5+r|0,_),a=1+a|0,n=1+n|0}else m=o.get(a),a=1+a|0;else m=c.get(n),n=1+n|0;d=(l^=d)^l&(-1+l|0),u.set(f,m),h=h+m.size__I()|0,f=1+f|0}return new IB(i|s,u,h)}(this,a,_,t)}if(e instanceof vB){var o=$B(e),c=1<<(31&(o.sci_HashMap$HashMapCollision1__f_hash>>>t|0)),l=this.sci_HashMap$HashTrieMap__f_bitmap0&(-1+c|0),p=by().bitCount__I__I(l);if(0!=(this.sci_HashMap$HashTrieMap__f_bitmap0&c)){var u=this.sci_HashMap$HashTrieMap__f_elems0.get(p),f=u.merge0__sci_HashMap__I__sci_HashMap$Merger__sci_HashMap(o,5+t|0,_);if(f===u)return this;var h=this.sci_HashMap$HashTrieMap__f_elems0.clone__O();return h.set(p,f),new IB(this.sci_HashMap$HashTrieMap__f_bitmap0,h,this.sci_HashMap$HashTrieMap__f_size0+(f.size__I()-u.size__I()|0)|0)}var d=new(SE.getArrayOf().constr)(1+this.sci_HashMap$HashTrieMap__f_elems0.u.length|0);return kl(this.sci_HashMap$HashTrieMap__f_elems0,0,d,0,p),d.set(p,o),kl(this.sci_HashMap$HashTrieMap__f_elems0,p,d,1+p|0,this.sci_HashMap$HashTrieMap__f_elems0.u.length-p|0),new IB(this.sci_HashMap$HashTrieMap__f_bitmap0|c,d,this.sci_HashMap$HashTrieMap__f_size0+o.sci_HashMap$HashMapCollision1__f_kvs.size__I()|0)}return e===dB()?this:(fm||(fm=new um),fm).error__T__E("section supposed to be unreachable.")},IB.prototype.equals__O__Z=function(e){if(e instanceof IB){var t=LB(e);if(this===t)return!0;if(this.sci_HashMap$HashTrieMap__f_bitmap0===t.sci_HashMap$HashTrieMap__f_bitmap0&&this.sci_HashMap$HashTrieMap__f_size0===t.sci_HashMap$HashTrieMap__f_size0){var _=this.sci_HashMap$HashTrieMap__f_elems0,r=t.sci_HashMap$HashTrieMap__f_elems0;return Gf().equals__AO__AO__Z(_,r)}return!1}return!(e instanceof bE)&&aM(this,e)};var SB=(new gp).initClass({sci_HashMap$HashTrieMap:0},!1,"scala.collection.immutable.HashMap$HashTrieMap",{sci_HashMap$HashTrieMap:1,sci_HashMap:1,sci_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,sci_Map:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sci_MapLike:1,s_Serializable:1,Ljava_io_Serializable:1,sc_CustomParallelizable:1,sci_HasForeachEntry:1});function MB(){}IB.prototype.$classData=SB,MB.prototype=new OE,MB.prototype.constructor=MB,MB.prototype,MB.prototype.isEmpty__Z=function(){return!0},MB.prototype.head__E=function(){throw cI(new lI,"head of empty list")},MB.prototype.tail__sci_List=function(){throw new sI("tail of empty list")},MB.prototype.equals__O__Z=function(e){return!!AA(e)&&RA(e).isEmpty__Z()},MB.prototype.productPrefix__T=function(){return"Nil"},MB.prototype.productArity__I=function(){return 0},MB.prototype.productElement__I__O=function(e){throw Yb(new Qb,""+e)},MB.prototype.productIterator__sc_Iterator=function(){return new oS(this)},MB.prototype.tail__O=function(){return this.tail__sci_List()},MB.prototype.head__O=function(){this.head__E()};var wB,OB=(new gp).initClass({sci_Nil$:0},!1,"scala.collection.immutable.Nil$",{sci_Nil$:1,sci_List:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,sci_LinearSeq:1,sci_Seq:1,sci_Iterable:1,sci_Traversable:1,s_Immutable:1,sc_LinearSeq:1,sc_LinearSeqLike:1,s_Product:1,sc_LinearSeqOptimized:1,s_Serializable:1,Ljava_io_Serializable:1});function CB(){return wB||(wB=new MB),wB}function TB(){}function AB(){}function RB(){}function DB(){}function EB(){}function BB(){}function VB(e){return e instanceof EB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray")}function qB(e){return function(e,t){(function(e){e.scm_HashMap__f__loadFactor=750;var t=Td();e.scm_HashMap__f_table=new(Md.getArrayOf().constr)(t.nextPositivePowerOfTwo__I__I(16)),e.scm_HashMap__f_tableSize=0;var _=e.scm_HashMap__f__loadFactor,r=Td(),a=Td();e.scm_HashMap__f_threshold=r.newThreshold__I__I__I(_,a.nextPositivePowerOfTwo__I__I(16)),e.scm_HashMap__f_sizemap=null,e.scm_HashMap__f_seedvalue=function(e){var t=-1+e.scm_HashMap__f_table.u.length|0;return by().bitCount__I__I(t)}(e)})(e),function(e,t){null!==t&&(e.scm_HashMap__f__loadFactor=t.loadFactor__I(),e.scm_HashMap__f_table=t.table__Ascm_HashEntry(),e.scm_HashMap__f_tableSize=t.tableSize__I(),e.scm_HashMap__f_threshold=t.threshold__I(),e.scm_HashMap__f_seedvalue=t.seedvalue__I(),e.scm_HashMap__f_sizemap=t.sizemap__AI())}(e,null)}(e),e}function HB(){this.scm_HashMap__f__loadFactor=0,this.scm_HashMap__f_table=null,this.scm_HashMap__f_tableSize=0,this.scm_HashMap__f_threshold=0,this.scm_HashMap__f_sizemap=null,this.scm_HashMap__f_seedvalue=0}MB.prototype.$classData=OB,TB.prototype=new qR,TB.prototype.constructor=TB,AB.prototype=TB.prototype,TB.prototype.newBuilder__scm_Builder=function(){return AM(),qB(new HB)},TB.prototype.sizeHint__I__V=function(e){},TB.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},TB.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},TB.prototype.companion__scg_GenericCompanion=function(){return ZL||(ZL=new UL),ZL},RB.prototype=new wD,RB.prototype.constructor=RB,DB.prototype=RB.prototype,RB.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},EB.prototype=new wD,EB.prototype.constructor=EB,BB.prototype=EB.prototype,EB.prototype.isEmpty__Z=function(){return GA(this)},EB.prototype.foreach__F1__V=function(e){NA(this,e)},EB.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.length__I(),e,t)},EB.prototype.slice__I__I__O=function(e,t){return UA(this,e,t)},EB.prototype.head__O=function(){return ZA(this)},EB.prototype.tail__O=function(){return XA(this)},EB.prototype.last__O=function(){return JA(this)},EB.prototype.init__O=function(){return YA(this)},EB.prototype.drop__I__O=function(e){return UA(this,e,this.length__I())},EB.prototype.takeRight__I__O=function(e){return QA(this,e)},EB.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},EB.prototype.copyToArray__O__I__I__V=function(e,t,_){eR(this,e,t,_)},EB.prototype.lengthCompare__I__I=function(e){return tR(this,e)},EB.prototype.reverse__O=function(){return _R(this)},EB.prototype.toList__sci_List=function(){return rR(this)},EB.prototype.companion__scg_GenericCompanion=function(){return Jw()},EB.prototype.iterator__sc_Iterator=function(){return jA(this)},EB.prototype.sizeHintIfCheap__I=function(){return this.length__I()},EB.prototype.stringPrefix__T=function(){return"WrappedArray"},EB.prototype.newBuilder__scm_Builder=function(){return new iS(this.elemTag__s_reflect_ClassTag())},EB.prototype.seq__sc_TraversableOnce=function(){return this},EB.prototype.seq__sc_Seq=function(){return this},EB.prototype.seq__scm_Seq=function(){return this},EB.prototype.thisCollection__sc_Traversable=function(){return this},EB.prototype.thisCollection__sc_Seq=function(){return this},HB.prototype=new AB,HB.prototype.constructor=HB,HB.prototype,HB.prototype.size__I=function(){return this.scm_HashMap__f_tableSize},HB.prototype.contains__O__Z=function(e){return null!==Eg(this,e)},HB.prototype.apply__O__O=function(e){var t=cb(Eg(this,e));return null===t?fR(0,e):t.scm_DefaultEntry__f_value},HB.prototype.get__O__s_Option=function(e){var t=cb(Eg(this,e));return null===t?kS():new GS(t.scm_DefaultEntry__f_value)},HB.prototype.put__O__O__s_Option=function(e,t){var _=cb(Vg(this,e,t));if(null===_)return kS();var r=_.scm_DefaultEntry__f_value;return _.scm_DefaultEntry__f_value=t,new GS(r)},HB.prototype.$plus$eq__T2__scm_HashMap=function(e){var t=cb(Vg(this,e._1__O(),e._2__O()));return null!==t&&(t.scm_DefaultEntry__f_value=e._2__O()),this},HB.prototype.iterator__sc_Iterator=function(){return new CI(new NL(this),new k$((e=>{var t=cb(e);return US(new ZS,t.scm_DefaultEntry__f_key,t.scm_DefaultEntry__f_value)})))},HB.prototype.foreach__F1__V=function(e){for(var t=this.scm_HashMap__f_table,_=Dg(this),r=t.get(_);null!==r;){var a=r.scm_DefaultEntry__f_next,n=cb(r);for(e.apply__O__O(US(new ZS,n.scm_DefaultEntry__f_key,n.scm_DefaultEntry__f_value)),r=a;null===r&&_>0;)_=-1+_|0,r=t.get(_)}},HB.prototype.thisCollection__sc_Traversable=function(){return this},HB.prototype.result__O=function(){return this},HB.prototype.$plus__T2__sc_GenMap=function(e){var t;return AM(),(function(e){return!!(e&&e.$classData&&e.$classData.ancestors.scm_Map)}(t=gg(qB(new HB),this))||null===t?t:Sl(t,"scala.collection.mutable.Map")).$plus$eq__T2__scm_HashMap(e)},HB.prototype.seq__sc_TraversableOnce=function(){return this},HB.prototype.seq__sc_Map=function(){return this},HB.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__T2__scm_HashMap(JS(e))},HB.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__T2__scm_HashMap(JS(e))},HB.prototype.empty__sc_Map=function(){return AM(),qB(new HB)};var PB=(new gp).initClass({scm_HashMap:0},!1,"scala.collection.mutable.HashMap",{scm_HashMap:1,scm_AbstractMap:1,sc_AbstractMap:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Map:1,sc_GenMap:1,sc_GenMapLike:1,sc_MapLike:1,s_PartialFunction:1,F1:1,scg_Subtractable:1,scm_Map:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_MapLike:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,scg_Shrinkable:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_HashTable:1,scm_HashTable$HashUtils:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function jB(e){this.scm_WrappedArray$ofBoolean__f_array=null,this.scm_WrappedArray$ofBoolean__f_array=e}function FB(e){return e instanceof jB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofBoolean")}HB.prototype.$classData=PB,jB.prototype=new BB,jB.prototype.constructor=jB,jB.prototype,jB.prototype.elemTag__s_reflect_ClassTag=function(){return xT()},jB.prototype.length__I=function(){return this.scm_WrappedArray$ofBoolean__f_array.u.length},jB.prototype.update__I__Z__V=function(e,t){this.scm_WrappedArray$ofBoolean__f_array.set(e,t)},jB.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofBoolean__f_array;return e.arrayHash$mZc$sp__AZ__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},jB.prototype.equals__O__Z=function(e){if(e instanceof jB){var t=FB(e),_=this.scm_WrappedArray$ofBoolean__f_array,r=t.scm_WrappedArray$ofBoolean__f_array;return Gf().equals__AZ__AZ__Z(_,r)}return nM(this,e)},jB.prototype.apply$mcZI$sp__I__Z=function(e){return this.scm_WrappedArray$ofBoolean__f_array.get(e)},jB.prototype.update__I__O__V=function(e,t){this.update__I__Z__V(e,Ql(t))},jB.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcZI$sp__I__Z(t)},jB.prototype.apply__I__O=function(e){return this.apply$mcZI$sp__I__Z(e)},jB.prototype.array__O=function(){return this.scm_WrappedArray$ofBoolean__f_array};var zB=(new gp).initClass({scm_WrappedArray$ofBoolean:0},!1,"scala.collection.mutable.WrappedArray$ofBoolean",{scm_WrappedArray$ofBoolean:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function kB(e){this.scm_WrappedArray$ofByte__f_array=null,this.scm_WrappedArray$ofByte__f_array=e}function GB(e){return e instanceof kB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofByte")}jB.prototype.$classData=zB,kB.prototype=new BB,kB.prototype.constructor=kB,kB.prototype,kB.prototype.elemTag__s_reflect_ClassTag=function(){return ST()},kB.prototype.length__I=function(){return this.scm_WrappedArray$ofByte__f_array.u.length},kB.prototype.apply__I__B=function(e){return this.scm_WrappedArray$ofByte__f_array.get(e)},kB.prototype.update__I__B__V=function(e,t){this.scm_WrappedArray$ofByte__f_array.set(e,t)},kB.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofByte__f_array;return e.arrayHash$mBc$sp__AB__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},kB.prototype.equals__O__Z=function(e){if(e instanceof kB){var t=GB(e),_=this.scm_WrappedArray$ofByte__f_array,r=t.scm_WrappedArray$ofByte__f_array;return Gf().equals__AB__AB__Z(_,r)}return nM(this,e)},kB.prototype.update__I__O__V=function(e,t){this.update__I__B__V(e,ep(t))},kB.prototype.apply__O__O=function(e){return this.apply__I__B(_p(e))},kB.prototype.apply__I__O=function(e){return this.apply__I__B(e)},kB.prototype.array__O=function(){return this.scm_WrappedArray$ofByte__f_array};var NB=(new gp).initClass({scm_WrappedArray$ofByte:0},!1,"scala.collection.mutable.WrappedArray$ofByte",{scm_WrappedArray$ofByte:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function WB(e){this.scm_WrappedArray$ofChar__f_array=null,this.scm_WrappedArray$ofChar__f_array=e}function UB(e){return e instanceof WB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofChar")}kB.prototype.$classData=NB,WB.prototype=new BB,WB.prototype.constructor=WB,WB.prototype,WB.prototype.elemTag__s_reflect_ClassTag=function(){return CT()},WB.prototype.length__I=function(){return this.scm_WrappedArray$ofChar__f_array.u.length},WB.prototype.apply__I__C=function(e){return this.scm_WrappedArray$ofChar__f_array.get(e)},WB.prototype.update__I__C__V=function(e,t){this.scm_WrappedArray$ofChar__f_array.set(e,t)},WB.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofChar__f_array;return e.arrayHash$mCc$sp__AC__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},WB.prototype.equals__O__Z=function(e){if(e instanceof WB){var t=UB(e),_=this.scm_WrappedArray$ofChar__f_array,r=t.scm_WrappedArray$ofChar__f_array;return Gf().equals__AC__AC__Z(_,r)}return nM(this,e)},WB.prototype.update__I__O__V=function(e,t){this.update__I__C__V(e,Kl(t))},WB.prototype.apply__O__O=function(e){return Yl(this.apply__I__C(_p(e)))},WB.prototype.apply__I__O=function(e){return Yl(this.apply__I__C(e))},WB.prototype.array__O=function(){return this.scm_WrappedArray$ofChar__f_array};var ZB=(new gp).initClass({scm_WrappedArray$ofChar:0},!1,"scala.collection.mutable.WrappedArray$ofChar",{scm_WrappedArray$ofChar:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function XB(e){this.scm_WrappedArray$ofDouble__f_array=null,this.scm_WrappedArray$ofDouble__f_array=e}function JB(e){return e instanceof XB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofDouble")}WB.prototype.$classData=ZB,XB.prototype=new BB,XB.prototype.constructor=XB,XB.prototype,XB.prototype.elemTag__s_reflect_ClassTag=function(){return DT()},XB.prototype.length__I=function(){return this.scm_WrappedArray$ofDouble__f_array.u.length},XB.prototype.update__I__D__V=function(e,t){this.scm_WrappedArray$ofDouble__f_array.set(e,t)},XB.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofDouble__f_array;return e.arrayHash$mDc$sp__AD__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},XB.prototype.equals__O__Z=function(e){if(e instanceof XB){var t=JB(e),_=this.scm_WrappedArray$ofDouble__f_array,r=t.scm_WrappedArray$ofDouble__f_array;return Gf().equals__AD__AD__Z(_,r)}return nM(this,e)},XB.prototype.apply$mcDI$sp__I__D=function(e){return this.scm_WrappedArray$ofDouble__f_array.get(e)},XB.prototype.update__I__O__V=function(e,t){this.update__I__D__V(e,np(t))},XB.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcDI$sp__I__D(t)},XB.prototype.apply__I__O=function(e){return this.apply$mcDI$sp__I__D(e)},XB.prototype.array__O=function(){return this.scm_WrappedArray$ofDouble__f_array};var YB=(new gp).initClass({scm_WrappedArray$ofDouble:0},!1,"scala.collection.mutable.WrappedArray$ofDouble",{scm_WrappedArray$ofDouble:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function QB(e){this.scm_WrappedArray$ofFloat__f_array=null,this.scm_WrappedArray$ofFloat__f_array=e}function KB(e){return e instanceof QB||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofFloat")}XB.prototype.$classData=YB,QB.prototype=new BB,QB.prototype.constructor=QB,QB.prototype,QB.prototype.elemTag__s_reflect_ClassTag=function(){return qT()},QB.prototype.length__I=function(){return this.scm_WrappedArray$ofFloat__f_array.u.length},QB.prototype.update__I__F__V=function(e,t){this.scm_WrappedArray$ofFloat__f_array.set(e,t)},QB.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofFloat__f_array;return e.arrayHash$mFc$sp__AF__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},QB.prototype.equals__O__Z=function(e){if(e instanceof QB){var t=KB(e),_=this.scm_WrappedArray$ofFloat__f_array,r=t.scm_WrappedArray$ofFloat__f_array;return Gf().equals__AF__AF__Z(_,r)}return nM(this,e)},QB.prototype.apply$mcFI$sp__I__F=function(e){return this.scm_WrappedArray$ofFloat__f_array.get(e)},QB.prototype.update__I__O__V=function(e,t){this.update__I__F__V(e,ap(t))},QB.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcFI$sp__I__F(t)},QB.prototype.apply__I__O=function(e){return this.apply$mcFI$sp__I__F(e)},QB.prototype.array__O=function(){return this.scm_WrappedArray$ofFloat__f_array};var eV=(new gp).initClass({scm_WrappedArray$ofFloat:0},!1,"scala.collection.mutable.WrappedArray$ofFloat",{scm_WrappedArray$ofFloat:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function tV(e){this.scm_WrappedArray$ofInt__f_array=null,this.scm_WrappedArray$ofInt__f_array=e}function _V(e){return e instanceof tV||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofInt")}QB.prototype.$classData=eV,tV.prototype=new BB,tV.prototype.constructor=tV,tV.prototype,tV.prototype.elemTag__s_reflect_ClassTag=function(){return FT()},tV.prototype.length__I=function(){return this.scm_WrappedArray$ofInt__f_array.u.length},tV.prototype.update__I__I__V=function(e,t){this.scm_WrappedArray$ofInt__f_array.set(e,t)},tV.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofInt__f_array;return e.arrayHash$mIc$sp__AI__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},tV.prototype.equals__O__Z=function(e){if(e instanceof tV){var t=_V(e),_=this.scm_WrappedArray$ofInt__f_array,r=t.scm_WrappedArray$ofInt__f_array;return Gf().equals__AI__AI__Z(_,r)}return nM(this,e)},tV.prototype.apply$mcII$sp__I__I=function(e){return this.scm_WrappedArray$ofInt__f_array.get(e)},tV.prototype.update__I__O__V=function(e,t){this.update__I__I__V(e,_p(t))},tV.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcII$sp__I__I(t)},tV.prototype.apply__I__O=function(e){return this.apply$mcII$sp__I__I(e)},tV.prototype.array__O=function(){return this.scm_WrappedArray$ofInt__f_array};var rV=(new gp).initClass({scm_WrappedArray$ofInt:0},!1,"scala.collection.mutable.WrappedArray$ofInt",{scm_WrappedArray$ofInt:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function aV(e){this.scm_WrappedArray$ofLong__f_array=null,this.scm_WrappedArray$ofLong__f_array=e}function nV(e){return e instanceof aV||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofLong")}tV.prototype.$classData=rV,aV.prototype=new BB,aV.prototype.constructor=aV,aV.prototype,aV.prototype.elemTag__s_reflect_ClassTag=function(){return NT()},aV.prototype.length__I=function(){return this.scm_WrappedArray$ofLong__f_array.u.length},aV.prototype.update__I__J__V=function(e,t){this.scm_WrappedArray$ofLong__f_array.set(e,t)},aV.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofLong__f_array;return e.arrayHash$mJc$sp__AJ__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},aV.prototype.equals__O__Z=function(e){if(e instanceof aV){var t=nV(e),_=this.scm_WrappedArray$ofLong__f_array,r=t.scm_WrappedArray$ofLong__f_array;return Gf().equals__AJ__AJ__Z(_,r)}return nM(this,e)},aV.prototype.apply$mcJI$sp__I__J=function(e){return this.scm_WrappedArray$ofLong__f_array.get(e)},aV.prototype.update__I__O__V=function(e,t){this.update__I__J__V(e,rp(t))},aV.prototype.apply__O__O=function(e){var t=_p(e);return this.apply$mcJI$sp__I__J(t)},aV.prototype.apply__I__O=function(e){return this.apply$mcJI$sp__I__J(e)},aV.prototype.array__O=function(){return this.scm_WrappedArray$ofLong__f_array};var iV=(new gp).initClass({scm_WrappedArray$ofLong:0},!1,"scala.collection.mutable.WrappedArray$ofLong",{scm_WrappedArray$ofLong:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function sV(e){this.scm_WrappedArray$ofRef__f_array=null,this.scm_WrappedArray$ofRef__f_array=e}aV.prototype.$classData=iV,sV.prototype=new BB,sV.prototype.constructor=sV,sV.prototype,sV.prototype.elemTag__s_reflect_ClassTag=function(){var e=B$(),t=this.scm_WrappedArray$ofRef__f_array;return e.apply__jl_Class__s_reflect_ClassTag(Rl(t).getComponentType__jl_Class())},sV.prototype.length__I=function(){return this.scm_WrappedArray$ofRef__f_array.u.length},sV.prototype.apply__I__O=function(e){return this.scm_WrappedArray$ofRef__f_array.get(e)},sV.prototype.update__I__O__V=function(e,t){this.scm_WrappedArray$ofRef__f_array.set(e,t)},sV.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofRef__f_array;return e.arrayHash__O__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},sV.prototype.apply__O__O=function(e){return this.apply__I__O(_p(e))},sV.prototype.array__O=function(){return this.scm_WrappedArray$ofRef__f_array};var oV=(new gp).initClass({scm_WrappedArray$ofRef:0},!1,"scala.collection.mutable.WrappedArray$ofRef",{scm_WrappedArray$ofRef:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function cV(e){this.scm_WrappedArray$ofShort__f_array=null,this.scm_WrappedArray$ofShort__f_array=e}function lV(e){return e instanceof cV||null===e?e:Sl(e,"scala.collection.mutable.WrappedArray$ofShort")}sV.prototype.$classData=oV,cV.prototype=new BB,cV.prototype.constructor=cV,cV.prototype,cV.prototype.elemTag__s_reflect_ClassTag=function(){return YT()},cV.prototype.length__I=function(){return this.scm_WrappedArray$ofShort__f_array.u.length},cV.prototype.apply__I__S=function(e){return this.scm_WrappedArray$ofShort__f_array.get(e)},cV.prototype.update__I__S__V=function(e,t){this.scm_WrappedArray$ofShort__f_array.set(e,t)},cV.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofShort__f_array;return e.arrayHash$mSc$sp__AS__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},cV.prototype.equals__O__Z=function(e){if(e instanceof cV){var t=lV(e),_=this.scm_WrappedArray$ofShort__f_array,r=t.scm_WrappedArray$ofShort__f_array;return Gf().equals__AS__AS__Z(_,r)}return nM(this,e)},cV.prototype.update__I__O__V=function(e,t){this.update__I__S__V(e,tp(t))},cV.prototype.apply__O__O=function(e){return this.apply__I__S(_p(e))},cV.prototype.apply__I__O=function(e){return this.apply__I__S(e)},cV.prototype.array__O=function(){return this.scm_WrappedArray$ofShort__f_array};var pV=(new gp).initClass({scm_WrappedArray$ofShort:0},!1,"scala.collection.mutable.WrappedArray$ofShort",{scm_WrappedArray$ofShort:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function uV(e){this.scm_WrappedArray$ofUnit__f_array=null,this.scm_WrappedArray$ofUnit__f_array=e}cV.prototype.$classData=pV,uV.prototype=new BB,uV.prototype.constructor=uV,uV.prototype,uV.prototype.elemTag__s_reflect_ClassTag=function(){return tA()},uV.prototype.length__I=function(){return this.scm_WrappedArray$ofUnit__f_array.u.length},uV.prototype.update__I__jl_Void__V=function(e,t){this.scm_WrappedArray$ofUnit__f_array.set(e,t)},uV.prototype.hashCode__I=function(){var e=Sv(),t=this.scm_WrappedArray$ofUnit__f_array;return e.arrayHash$mVc$sp__Ajl_Void__I__I(t,e.s_util_hashing_MurmurHash3$__f_seqSeed)},uV.prototype.equals__O__Z=function(e){if(e instanceof uV){var t=(_=e)instanceof uV||null===_?_:Sl(_,"scala.collection.mutable.WrappedArray$ofUnit");return this.scm_WrappedArray$ofUnit__f_array.u.length===t.scm_WrappedArray$ofUnit__f_array.u.length}return nM(this,e);var _},uV.prototype.apply$mcVI$sp__I__V=function(e){this.scm_WrappedArray$ofUnit__f_array.get(e)},uV.prototype.update__I__O__V=function(e,t){this.update__I__jl_Void__V(e,Df(t))},uV.prototype.apply__O__O=function(e){var t=_p(e);this.apply$mcVI$sp__I__V(t)},uV.prototype.apply__I__O=function(e){this.apply$mcVI$sp__I__V(e)},uV.prototype.array__O=function(){return this.scm_WrappedArray$ofUnit__f_array};var fV=(new gp).initClass({scm_WrappedArray$ofUnit:0},!1,"scala.collection.mutable.WrappedArray$ofUnit",{scm_WrappedArray$ofUnit:1,scm_WrappedArray:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});function hV(e){e.scm_ListBuffer__f_exported&&function(e){if(!e.isEmpty__Z()){var t=e.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,_=e.scm_ListBuffer__f_last0.sci_$colon$colon__f_tl;for(e.clear__V();t!==_;)e.$plus$eq__O__scm_ListBuffer(t.head__O()),t=CE(t.tail__O())}}(e)}function dV(){this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start=null,this.scm_ListBuffer__f_last0=null,this.scm_ListBuffer__f_exported=!1,this.scm_ListBuffer__f_len=0,this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start=CB(),this.scm_ListBuffer__f_exported=!1,this.scm_ListBuffer__f_len=0}function mV(e){return e instanceof dV||null===e?e:Sl(e,"scala.collection.mutable.ListBuffer")}uV.prototype.$classData=fV,dV.prototype=new DB,dV.prototype.constructor=dV,dV.prototype,dV.prototype.lengthCompare__I__I=function(e){return oR(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e)},dV.prototype.sameElements__sc_GenIterable__Z=function(e){return sR(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e)},dV.prototype.foreach__F1__V=function(e){for(var t=this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start;!t.isEmpty__Z();)e.apply__O__O(t.head__O()),t=CE(t.tail__O())},dV.prototype.foldLeft__O__F2__O=function(e,t){return nR(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e,t)},dV.prototype.$div$colon__O__F2__O=function(e,t){return nR(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e,t)},dV.prototype.head__O=function(){return this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start.head__O()},dV.prototype.mkString__T__T__T__T=function(e,t,_){return _g(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e,t,_)},dV.prototype.addString__scm_StringBuilder__T__T__T__scm_StringBuilder=function(e,t,_,r){return rg(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e,t,_,r)},dV.prototype.sizeHint__I__V=function(e){},dV.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},dV.prototype.companion__scg_GenericCompanion=function(){return mT||(mT=new dT),mT},dV.prototype.length__I=function(){return this.scm_ListBuffer__f_len},dV.prototype.size__I=function(){return this.scm_ListBuffer__f_len},dV.prototype.isEmpty__Z=function(){return 0===this.scm_ListBuffer__f_len},dV.prototype.apply__I__O=function(e){if(e<0||e>=this.scm_ListBuffer__f_len)throw Yb(new Qb,""+e);return aR(this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start,e)},dV.prototype.$plus$eq__O__scm_ListBuffer=function(e){hV(this);var t=new cB(e,CB());return 0===this.scm_ListBuffer__f_len?this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start=t:this.scm_ListBuffer__f_last0.sci_$colon$colon__f_tl=t,this.scm_ListBuffer__f_last0=t,this.scm_ListBuffer__f_len=1+this.scm_ListBuffer__f_len|0,this},dV.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ListBuffer=function(e){for(;;){if(null===e||e!==this)return mV(gg(this,e));e=ag(_A(this,this.scm_ListBuffer__f_len))}},dV.prototype.clear__V=function(){this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start=CB(),this.scm_ListBuffer__f_last0=null,this.scm_ListBuffer__f_exported=!1,this.scm_ListBuffer__f_len=0},dV.prototype.toList__sci_List=function(){return this.scm_ListBuffer__f_exported=!this.isEmpty__Z(),this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start},dV.prototype.toStream__sci_Stream=function(){return this.toList__sci_List().toStream__sci_Stream()},dV.prototype.prependToList__sci_List__sci_List=function(e){return this.isEmpty__Z()?e:(hV(this),this.scm_ListBuffer__f_last0.sci_$colon$colon__f_tl=e,this.toList__sci_List())},dV.prototype.last__O=function(){if(null===this.scm_ListBuffer__f_last0)throw cI(new lI,"last of empty ListBuffer");return this.scm_ListBuffer__f_last0.sci_$colon$colon__f_head},dV.prototype.iterator__sc_Iterator=function(){return new QL(this)},dV.prototype.equals__O__Z=function(e){if(e instanceof dV){var t=mV(e);return this.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start.equals__O__Z(t.scm_ListBuffer__f_scala$collection$mutable$ListBuffer$$start)}return nM(this,e)},dV.prototype.stringPrefix__T=function(){return"ListBuffer"},dV.prototype.thisCollection__sc_Traversable=function(){return this},dV.prototype.seq__sc_Seq=function(){return this},dV.prototype.result__O=function(){return this.toList__sci_List()},dV.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ListBuffer(e)},dV.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_ListBuffer(e)},dV.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_ListBuffer(e)},dV.prototype.apply__O__O=function(e){return this.apply__I__O(_p(e))};var yV=(new gp).initClass({scm_ListBuffer:0},!1,"scala.collection.mutable.ListBuffer",{scm_ListBuffer:1,scm_AbstractBuffer:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_Buffer:1,scm_BufferLike:1,scg_Growable:1,scg_Clearable:1,scg_Shrinkable:1,sc_script_Scriptable:1,scg_Subtractable:1,scm_ReusableBuilder:1,scm_Builder:1,scg_SeqForwarder:1,scg_IterableForwarder:1,scg_TraversableForwarder:1,s_Serializable:1,Ljava_io_Serializable:1});function gV(e,t){return e.scm_StringBuilder__f_underlying=t,e}function vV(e){return function(e,t,_){var r=function(e,t){if(fx(e),t<0)throw new _I;return e}(new hx,_.length+t|0);r.jl_StringBuilder__f_java$lang$StringBuilder$$content=""+r.jl_StringBuilder__f_java$lang$StringBuilder$$content+_,gV(e,r)}(e,16,""),e}function $V(){this.scm_StringBuilder__f_underlying=null}dV.prototype.$classData=yV,$V.prototype=new wD,$V.prototype.constructor=$V,$V.prototype,$V.prototype.sizeHint__I__V=function(e){},$V.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},$V.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return gg(this,e)},$V.prototype.slice__I__I__O=function(e,t){return gR(this,e,t)},$V.prototype.foreach__F1__V=function(e){NA(this,e)},$V.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.scm_StringBuilder__f_underlying.length__I(),e,t)},$V.prototype.head__O=function(){return ZA(this)},$V.prototype.tail__O=function(){return XA(this)},$V.prototype.last__O=function(){return JA(this)},$V.prototype.init__O=function(){return YA(this)},$V.prototype.drop__I__O=function(e){return gR(this,e,this.scm_StringBuilder__f_underlying.length__I())},$V.prototype.takeRight__I__O=function(e){return QA(this,e)},$V.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},$V.prototype.copyToArray__O__I__I__V=function(e,t,_){eR(this,e,t,_)},$V.prototype.lengthCompare__I__I=function(e){return tR(this,e)},$V.prototype.toList__sci_List=function(){return rR(this)},$V.prototype.companion__scg_GenericCompanion=function(){return Jw()},$V.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},$V.prototype.iterator__sc_Iterator=function(){return jA(this)},$V.prototype.sizeHintIfCheap__I=function(){return this.scm_StringBuilder__f_underlying.length__I()},$V.prototype.length__I=function(){return this.scm_StringBuilder__f_underlying.length__I()},$V.prototype.$plus$eq__C__scm_StringBuilder=function(e){return this.append__C__scm_StringBuilder(e),this},$V.prototype.append__O__scm_StringBuilder=function(e){var t=this.scm_StringBuilder__f_underlying,_=""+e;return t.jl_StringBuilder__f_java$lang$StringBuilder$$content=t.jl_StringBuilder__f_java$lang$StringBuilder$$content+_,this},$V.prototype.append__T__scm_StringBuilder=function(e){var t=this.scm_StringBuilder__f_underlying;return t.jl_StringBuilder__f_java$lang$StringBuilder$$content=""+t.jl_StringBuilder__f_java$lang$StringBuilder$$content+e,this},$V.prototype.append__C__scm_StringBuilder=function(e){var t=this.scm_StringBuilder__f_underlying,_=CS(String.fromCharCode(e));return t.jl_StringBuilder__f_java$lang$StringBuilder$$content=""+t.jl_StringBuilder__f_java$lang$StringBuilder$$content+_,this},$V.prototype.reverse__scm_StringBuilder=function(){return gV(new $V,(e=new hx,t=this.scm_StringBuilder__f_underlying,function(e,t){if(fx(e),null===t)throw new aI;e.jl_StringBuilder__f_java$lang$StringBuilder$$content=t}(e,Vl(t)),e).reverse__jl_StringBuilder());var e,t},$V.prototype.toString__T=function(){return this.scm_StringBuilder__f_underlying.jl_StringBuilder__f_java$lang$StringBuilder$$content},$V.prototype.isEmpty__Z=function(){return 0===this.scm_StringBuilder__f_underlying.length__I()},$V.prototype.seq__sc_TraversableOnce=function(){return this},$V.prototype.seq__sc_Seq=function(){return this},$V.prototype.seq__scm_Seq=function(){return this},$V.prototype.result__O=function(){return this.scm_StringBuilder__f_underlying.jl_StringBuilder__f_java$lang$StringBuilder$$content},$V.prototype.reverse__O=function(){return this.reverse__scm_StringBuilder()},$V.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__C__scm_StringBuilder(Kl(e))},$V.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__C__scm_StringBuilder(Kl(e))},$V.prototype.apply__O__O=function(e){var t=_p(e);return Yl(this.scm_StringBuilder__f_underlying.charAt__I__C(t))},$V.prototype.apply__I__O=function(e){return Yl(this.scm_StringBuilder__f_underlying.charAt__I__C(e))},$V.prototype.newBuilder__scm_Builder=function(){return new pb(vV(new $V))},$V.prototype.thisCollection__sc_Traversable=function(){return this},$V.prototype.thisCollection__sc_Seq=function(){return this};var xV=(new gp).initClass({scm_StringBuilder:0},!1,"scala.collection.mutable.StringBuilder",{scm_StringBuilder:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,jl_CharSequence:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,sci_StringLike:1,sc_IndexedSeqOptimized:1,s_math_Ordered:1,jl_Comparable:1,scm_ReusableBuilder:1,scm_Builder:1,scg_Growable:1,scg_Clearable:1,s_Serializable:1,Ljava_io_Serializable:1});function bV(e,t){return e.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array=t,e}function IV(){this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array=null}$V.prototype.$classData=xV,IV.prototype=new DB,IV.prototype.constructor=IV,IV.prototype,IV.prototype.sizeHint__I__V=function(e){},IV.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},IV.prototype.isEmpty__Z=function(){return GA(this)},IV.prototype.foreach__F1__V=function(e){NA(this,e)},IV.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,_p(this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.length),e,t)},IV.prototype.slice__I__I__O=function(e,t){return UA(this,e,t)},IV.prototype.head__O=function(){return ZA(this)},IV.prototype.tail__O=function(){return XA(this)},IV.prototype.last__O=function(){return JA(this)},IV.prototype.init__O=function(){return YA(this)},IV.prototype.drop__I__O=function(e){return UA(this,e,_p(this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.length))},IV.prototype.takeRight__I__O=function(e){return QA(this,e)},IV.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},IV.prototype.copyToArray__O__I__I__V=function(e,t,_){eR(this,e,t,_)},IV.prototype.lengthCompare__I__I=function(e){return tR(this,e)},IV.prototype.reverse__O=function(){return _R(this)},IV.prototype.toList__sci_List=function(){return rR(this)},IV.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},IV.prototype.iterator__sc_Iterator=function(){return jA(this)},IV.prototype.sizeHintIfCheap__I=function(){return _p(this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.length)},IV.prototype.companion__scg_GenericCompanion=function(){return aO()},IV.prototype.apply__I__O=function(e){return this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array[e]},IV.prototype.length__I=function(){return _p(this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.length)},IV.prototype.stringPrefix__T=function(){return"WrappedArray"},IV.prototype.thisCollection__sc_Traversable=function(){return this},IV.prototype.thisCollection__sc_Seq=function(){return this},IV.prototype.seq__sc_TraversableOnce=function(){return this},IV.prototype.seq__sc_Seq=function(){return this},IV.prototype.seq__scm_Seq=function(){return this},IV.prototype.result__O=function(){return this},IV.prototype.$plus$eq__O__scg_Growable=function(e){return this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.push(e),this},IV.prototype.$plus$eq__O__scm_Builder=function(e){return this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array.push(e),this},IV.prototype.apply__O__O=function(e){var t=_p(e);return this.sjs_js_WrappedArray__f_scala$scalajs$js$WrappedArray$$array[t]};var LV=(new gp).initClass({sjs_js_WrappedArray:0},!1,"scala.scalajs.js.WrappedArray",{sjs_js_WrappedArray:1,scm_AbstractBuffer:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_Buffer:1,scm_BufferLike:1,scg_Growable:1,scg_Clearable:1,scg_Shrinkable:1,sc_script_Scriptable:1,scg_Subtractable:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_IndexedSeqLike:1,scm_IndexedSeqLike:1,scm_ArrayLike:1,scm_IndexedSeqOptimized:1,sc_IndexedSeqOptimized:1,scm_Builder:1});function SV(e){return function(e,t){e.scm_ArrayBuffer__f_initialSize=t,function(e){var t=e.scm_ArrayBuffer__f_initialSize;e.scm_ArrayBuffer__f_array=new op(t>1?t:1),e.scm_ArrayBuffer__f_size0=0}(e)}(e,16),e}function MV(){this.scm_ArrayBuffer__f_initialSize=0,this.scm_ArrayBuffer__f_array=null,this.scm_ArrayBuffer__f_size0=0}function wV(e){return e instanceof MV||null===e?e:Sl(e,"scala.collection.mutable.ArrayBuffer")}IV.prototype.$classData=LV,MV.prototype=new DB,MV.prototype.constructor=MV,MV.prototype,MV.prototype.length__I=function(){return this.scm_ArrayBuffer__f_size0},MV.prototype.apply__I__O=function(e){return sB(this,e)},MV.prototype.foreach__F1__V=function(e){!function(e,t){for(var _=0,r=e.length__I();_<r;)t.apply__O__O(e.scm_ArrayBuffer__f_array.get(_)),_=1+_|0}(this,e)},MV.prototype.copyToArray__O__I__I__V=function(e,t,_){!function(e,t,_,r){var a=rm().array_length__O__I(t)-_|0,n=r<a?r:a,i=e.scm_ArrayBuffer__f_size0,s=n<i?n:i;s>0&&Ux().copy__O__I__O__I__I__V(e.scm_ArrayBuffer__f_array,0,t,_,s)}(this,e,t,_)},MV.prototype.sizeHintBounded__I__sc_TraversableLike__V=function(e,t){T$(this,e,t)},MV.prototype.isEmpty__Z=function(){return GA(this)},MV.prototype.foldLeft__O__F2__O=function(e,t){return WA(this,0,this.scm_ArrayBuffer__f_size0,e,t)},MV.prototype.slice__I__I__O=function(e,t){return UA(this,e,t)},MV.prototype.head__O=function(){return ZA(this)},MV.prototype.tail__O=function(){return XA(this)},MV.prototype.last__O=function(){return JA(this)},MV.prototype.init__O=function(){return YA(this)},MV.prototype.drop__I__O=function(e){return UA(this,e,this.scm_ArrayBuffer__f_size0)},MV.prototype.takeRight__I__O=function(e){return QA(this,e)},MV.prototype.sameElements__sc_GenIterable__Z=function(e){return KA(this,e)},MV.prototype.lengthCompare__I__I=function(e){return tR(this,e)},MV.prototype.reverse__O=function(){return _R(this)},MV.prototype.toList__sci_List=function(){return rR(this)},MV.prototype.hashCode__I=function(){return Sv().seqHash__sc_Seq__I(this)},MV.prototype.iterator__sc_Iterator=function(){return jA(this)},MV.prototype.sizeHintIfCheap__I=function(){return this.scm_ArrayBuffer__f_size0},MV.prototype.companion__scg_GenericCompanion=function(){return hT()},MV.prototype.sizeHint__I__V=function(e){if(e>this.scm_ArrayBuffer__f_size0&&e>=1){var t=new op(e);kl(this.scm_ArrayBuffer__f_array,0,t,0,this.scm_ArrayBuffer__f_size0),this.scm_ArrayBuffer__f_array=t}},MV.prototype.$plus$eq__O__scm_ArrayBuffer=function(e){return oB(this,1+this.scm_ArrayBuffer__f_size0|0),this.scm_ArrayBuffer__f_array.set(this.scm_ArrayBuffer__f_size0,e),this.scm_ArrayBuffer__f_size0=1+this.scm_ArrayBuffer__f_size0|0,this},MV.prototype.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuffer=function(e){if(FA(e)){var t=FA(r=e)||null===r?r:Sl(r,"scala.collection.IndexedSeqLike"),_=t.length__I();return oB(this,this.scm_ArrayBuffer__f_size0+_|0),t.copyToArray__O__I__I__V(this.scm_ArrayBuffer__f_array,this.scm_ArrayBuffer__f_size0,_),this.scm_ArrayBuffer__f_size0=this.scm_ArrayBuffer__f_size0+_|0,this}return wV(gg(this,e));var r},MV.prototype.remove__I__I__V=function(e,t){if(t<0)throw Nb(new Ub,"removing negative number of elements: "+t);if(0!==t){if(e<0||e>(this.scm_ArrayBuffer__f_size0-t|0))throw Yb(new Qb,"at "+e+" deleting "+t);var _=e+t|0,r=this.scm_ArrayBuffer__f_size0-(e+t|0)|0;kl(this.scm_ArrayBuffer__f_array,_,this.scm_ArrayBuffer__f_array,e,r),function(e,t){for(Uv().require__Z__V(t<=e.scm_ArrayBuffer__f_size0);e.scm_ArrayBuffer__f_size0>t;)e.scm_ArrayBuffer__f_size0=-1+e.scm_ArrayBuffer__f_size0|0,e.scm_ArrayBuffer__f_array.set(e.scm_ArrayBuffer__f_size0,null)}(this,this.scm_ArrayBuffer__f_size0-t|0)}},MV.prototype.stringPrefix__T=function(){return"ArrayBuffer"},MV.prototype.thisCollection__sc_Traversable=function(){return this},MV.prototype.thisCollection__sc_Seq=function(){return this},MV.prototype.seq__sc_TraversableOnce=function(){return this},MV.prototype.seq__sc_Seq=function(){return this},MV.prototype.seq__scm_Seq=function(){return this},MV.prototype.apply__O__O=function(e){return sB(this,_p(e))},MV.prototype.result__O=function(){return this},MV.prototype.$plus$plus$eq__sc_TraversableOnce__scg_Growable=function(e){return this.$plus$plus$eq__sc_TraversableOnce__scm_ArrayBuffer(e)},MV.prototype.$plus$eq__O__scg_Growable=function(e){return this.$plus$eq__O__scm_ArrayBuffer(e)},MV.prototype.$plus$eq__O__scm_Builder=function(e){return this.$plus$eq__O__scm_ArrayBuffer(e)};var OV=(new gp).initClass({scm_ArrayBuffer:0},!1,"scala.collection.mutable.ArrayBuffer",{scm_ArrayBuffer:1,scm_AbstractBuffer:1,scm_AbstractSeq:1,sc_AbstractSeq:1,sc_AbstractIterable:1,sc_AbstractTraversable:1,O:1,sc_Traversable:1,sc_TraversableLike:1,scg_HasNewBuilder:1,scg_FilterMonadic:1,sc_TraversableOnce:1,sc_GenTraversableOnce:1,sc_GenTraversableLike:1,sc_Parallelizable:1,sc_GenTraversable:1,scg_GenericTraversableTemplate:1,sc_Iterable:1,sc_GenIterable:1,sc_GenIterableLike:1,sc_IterableLike:1,s_Equals:1,sc_Seq:1,s_PartialFunction:1,F1:1,sc_GenSeq:1,sc_GenSeqLike:1,sc_SeqLike:1,scm_Seq:1,scm_Iterable:1,scm_Traversable:1,s_Mutable:1,scm_SeqLike:1,scm_Cloneable:1,s_Cloneable:1,jl_Cloneable:1,scm_Buffer:1,scm_BufferLike:1,scg_Growable:1,scg_Clearable:1,scg_Shrinkable:1,sc_script_Scriptable:1,scg_Subtractable:1,scm_IndexedSeqOptimized:1,scm_IndexedSeqLike:1,sc_IndexedSeqLike:1,sc_IndexedSeqOptimized:1,scm_Builder:1,scm_ResizableArray:1,scm_IndexedSeq:1,sc_IndexedSeq:1,sc_CustomParallelizable:1,s_Serializable:1,Ljava_io_Serializable:1});MV.prototype.$classData=OV,bl=new Oh(0,0),Bp.zero=bl;let CV=$u();function TV(){CV.setRedRR(Number(document.querySelector("#a1").value),Number(document.querySelector("#b1").value),Number(document.querySelector("#a2").value),Number(document.querySelector("#b2").value),Number(document.querySelector("#da").value),Number(document.querySelector("#db").value),Number(document.querySelector("#h").value),Number(document.querySelector("#f1").value),Number(document.querySelector("#f2").value))}CV.setAnimation(!1),window.download_model=function(e){let t=document.getElementById("canvas3d");CV.updateScene();let _=t.toDataURL();e.href=_},document.querySelectorAll(".dims-input0").forEach((e=>e.addEventListener("change",TV))),TV()})();